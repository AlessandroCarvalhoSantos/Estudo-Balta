<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Fundamentos do SQL Server com C#</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="ee96863f-fa01-461f-a685-21dfbd9acacc" class="page sans"><header><img class="page-cover-image" src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&amp;q=85&amp;fm=jpg&amp;crop=entropy&amp;cs=srgb" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">💷</span></div><h1 class="page-title">Fundamentos do SQL Server com C#</h1><p class="page-description"></p></header><div class="page-body"><ul id="18622e20-b646-40ec-a509-cbc11ab45f2d" class="toggle"><li><details open=""><summary>Informações complementares</summary><ul id="a40642a5-c975-47e1-9deb-634cbf0b191c" class="toggle"><li><details open=""><summary>Instalação do docker</summary><h1 id="c5f91e74-e832-4a3d-819f-92d5ccdd2b71" class=""><strong>Docker - Instalação, Configuração e Primeiros Passos</strong></h1><p id="3bd0f667-778f-4295-a2cc-6479f434745e" class="">O Docker é uma forma de abstração da nossa infraestrutura que nos beneficia tanto em tempo de desenvolvimento quanto em produção.</p><h2 id="feeaaa33-50d5-4a98-8a4a-eba146067a86" class=""><strong>Índice</strong></h2><ul id="52fa32b9-a2cf-4503-9108-38a05b2c09c5" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#o-que-%C3%A9-o-docker"><strong>O que é o Docker?</strong></a></li></ul><ul id="1de8be3c-b2c3-4cff-86ca-e1d0c6ce1832" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#docker-para-desenvolvedores"><strong>Docker para Desenvolvedores</strong></a></li></ul><ul id="7b17ac78-34dd-4292-81f4-2a5e8d15dae6" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#requisitos"><strong>Requisitos</strong></a></li></ul><ul id="58505f08-b0bf-4b7a-99a1-a23c7e32ff1e" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#vers%C3%B5es-do-docker"><strong>Versões do Docker</strong></a></li></ul><ul id="95f6d89c-cb2e-47a8-831a-26d6b99e9ff8" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#criando-a-conta"><strong>Criando a Conta</strong></a></li></ul><ul id="c8949945-2ed4-4dd0-984d-1065f31fdd56" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#instalando-o-docker"><strong>Instalando o Docker</strong></a></li></ul><ul id="2b4d4d9e-11cf-4f27-ad20-0dc8f789e3ad" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#executando-o-docker"><strong>Executando o Docker</strong></a></li></ul><ul id="4c96c07d-f145-4e69-810b-dfc153652d20" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#testando-a-instala%C3%A7%C3%A3o"><strong>Testando a Instalação</strong></a></li></ul><ul id="bc3a9941-5170-4677-aff8-41c9a86100ba" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#listando-as-imagens"><strong>Listando as Imagens</strong></a></li></ul><ul id="2656cf9c-0e8e-4366-8ad4-1986823cc5c6" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#listando-os-cont%C3%AAineres"><strong>Listando os Contêineres</strong></a></li></ul><ul id="87772a67-ff7d-4967-9705-c741bb2f2cb5" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#publicando-uma-api"><strong>Publicando uma API</strong></a></li></ul><ul id="a9c2e94d-4eb4-4d04-befd-d5603d2a2c07" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#criando-uma-imagem"><strong>Criando uma Imagem</strong></a></li></ul><ul id="d5594445-e0d2-4420-a9e2-173e30885f67" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#rodando-o-cont%C3%AAiner"><strong>Rodando o Contêiner</strong></a></li></ul><ul id="4eae4217-2455-4daf-8cff-cd74bf802c22" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#acessando-os-logs"><strong>Acessando os Logs</strong></a></li></ul><ul id="25d628e7-605f-4e48-a5fa-9388dee7c171" class="bulleted-list"><li style="list-style-type:disc"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos#wsl"><strong>WSL 2 (Somente Windows)</strong></a></li></ul><h2 id="2a3cebc8-ed0b-4663-8d06-d11697b3c39a" class=""><strong>O que é o Docker?</strong></h2><p id="c325573b-5ad2-44ae-b258-6a0f6ae36c22" class="">Com certeza você já ouviu uma famosa frase &#x27;Na minha máquina funciona&#x27;... então se na sua máquina funciona, por que não enviar ela para produção?</p><p id="99920a2d-1d7c-4350-8948-8b8fbe17c3c8" class="">Pois bem, o que o <strong>Docker</strong> faz é parecido com isto. Em termos gerais ele abstrai a infraestrutura das aplicações através de imagens prontas.</p><p id="89f7fceb-162c-4685-b90a-62dc2b488244" class="">O que temos são basicamente &#x27;<em>máquinas virtuais</em>&#x27; de baixo custo rodando somente com a infraestrutura das nossas aplicações.</p><p id="afeaa682-2040-4815-8566-3008117f35d7" class="">Por exemplo, uma das imagens mais famosas que temos no <strong>Docker</strong> é a <a href="https://hub.docker.com/_/alpine">Alpine</a>, que contém apenas <strong>5MB</strong>.</p><p id="c9ae3c2d-69f9-436f-96b1-f823dd2a1e2c" class="">Esta imagem contém apenas o Core do sistema operacional, no caso Linux, que a maioria das aplicações precisam para serem executadas.</p><p id="f3de719f-c99d-4ae8-b1ec-60a0ee091b2b" class="">A ideia é que a partir dela, você possa adicionar o que mais precisar, como a SDK do .NET, Node, PHP e depois fazer um pacote disto.</p><p id="3a41ccd7-8908-481c-9ae5-d3a8ed189f1c" class="">Com este pacote montado, você envia ele completo, do jeito que está, para produção, assim não corre o risco de dar algo errado.</p><h2 id="eed480c7-f9f7-4f99-8dcf-5fc57b41222b" class=""><strong>Docker para Desenvolvedores</strong></h2><p id="5682d26a-d180-49da-98d3-029ae3f44bb0" class="">Embora o Docker seja voltado para infraestrutura, um dos seus grandes usos também são ambientes de desenvolvimento.</p><p id="e029e51f-9ae1-4456-be6e-15a58a479cf6" class="">Hoje trabalhamos com diversos bancos de dados, diversas tecnologias e serviços, isto tudo gera um acúmulo de instalações muito grandes.</p><p id="49a2b7e5-511e-4013-b40a-20d80608b902" class="">Imagina instalar o SQL Server, MySQL e MongoDb, todos na sua máquina, sendo executados como serviços do Windows. É complicado.</p><p id="5957999e-49dd-4971-9e1c-02b2ff93ab36" class="">Neste caso, o que podemos fazer é utilizar imagens prontas de máquinas com SQL Server, MySQL e Mongo e simplesmente executá-las quando quisermos.</p><p id="9575020d-c2fd-449a-bfb5-19dc6b4c77f9" class="">Quer criar um projeto com SQL Server? Só fazer o download da imagem oficial dele para Docker, executar e pronto, temos o serviço rodando.</p><p id="20cd5cf0-6ce7-4f08-8468-686d08461d73" class="">O Docker funciona para Mac, Windows e Linux, e no caso do Windows, recomendamos utilizar a versão 10, pois ela tem suporte à subsistemas Linux, que são a base do Docker.</p><h2 id="9eec7624-55b6-4f93-b9a2-f25ee2b79339" class=""><strong>Requisitos</strong></h2><p id="530a27e5-da97-493f-8e1c-2c9714413fff" class="">Aqui vem a parte mais chata do Docker, os requisitos. Embora as questões de memória e CPU variem de acordo com a quantidade de images que você tem executando, o disco sempre será necessário.</p><p id="f4b0704d-d31a-4326-b8e7-eed03bee1c56" class="">Embora você possa fazer o download da imagem que quiser a qualquer momento, é muito mais prático manter as imagens locais.</p><p id="dbacf527-ab7c-49bd-86dc-03443795d70f" class="">Desta forma você economiza banda e tempo, porém perde em disco. Fica a seu critério manter ou baixar novamente as imagens.</p><p id="1787f812-9891-4963-9ce3-cc8859bf8718" class="">Não são recomendações oficiais, mas preferencialmente tenha pelo menos um processador <strong>Dual Core</strong>, e <strong>8GB</strong> de Ram.</p><p id="02451f18-7fd1-4044-822b-9384ce908840" class="">Quanto mais disco você tiver melhor, em casos de discos de <em>128GB</em>, com pouco espaço, você pode excluir as imagens sempre que não estiver mais utilizando.</p><p id="44883be9-d669-49dc-beff-ba73e44a0392" class="">A instalação inicial do Docker vai tomar por volta de <strong>2GB de disco</strong>.</p><p id="cf65c25f-b738-4fd8-8174-ff9f3aa3f231" class=""><strong>WINDOWS ONLY</strong></p><p id="b00676fb-f22e-46e3-92fc-e91c8694dd00" class="">Caso esteja utilizando sistema operacional Windows, recomendamos fortemente o uso do Windows 10 pois ele possui suporte a subsistemas Linux, que são a base do Docker.</p><h2 id="912a6488-f618-4b27-a239-9bc14d9bd710" class=""><strong>Versões do Docker</strong></h2><p id="5c17acc4-325b-4813-865f-1103375d3855" class="">Atualmente, o Docker é divido em dois produtos, <em>Community Edition (CE)</em> e <em>Enterprise Edition (EE)</em>.</p><p id="348b43f9-2fe1-4c44-a3cf-1d663658b8d5" class="">Como os nomes sugerem, o Community é <strong>gratuito</strong> e voltado a comunidade, enquanto o Enterprise é recomendado para uso empresarial.</p><p id="55db0ba0-b064-4018-9831-4611fd359b08" class="">Mas não se preocupe com isto neste momento, tudo que precisamos para trabalhar com Docker é fornecido pela versão Community que é gratuita.</p><h2 id="a0a81ce5-65da-4cfd-9f59-e7eaea603ab6" class=""><strong>Criando a Conta</strong></h2><p id="5fa7d546-10ac-4136-9058-9e3531c0557e" class="">A primeira coisa que precisamos fazer é <a href="https://hub.docker.com/signup">criar uma conta no Docker Hub</a>, ela vai ser utilizada tanto para ativação do Docker em nossa máquina quanto para gerenciar nossas imagens.</p><p id="29cf00e4-c699-4c9d-b9f8-fb551c160a67" class="">Caso já tenha uma conta criada, pode prosseguir para o passo seguinte, do caso contrário, navegue até o site oficial do <a href="https://docker.com/">Docker</a>, clique em <strong>Sign In</strong> e em seguida em <strong>Sign Up</strong>.</p><p id="4958d6a2-65d2-42ad-b097-f818b1bee50f" class="">Preencha todas as informações necessárias e pronto. É importante lembrar que eles verificarão sua conta via E-mail, então não esqueça este passo também.</p><h2 id="652abde7-b881-499e-ba83-d92713fcec50" class=""><strong>Instalando o Docker</strong></h2><p id="75d1e236-5372-4da4-8d45-35c9f488d041" class="">O Docker possui uma versão para Desktop que irá facilitar nossa vida. Se você gosta de linha de comando, não se preocupe pois ele também fará a instalação do CLI.</p><p id="0e65151d-9803-4421-89bf-ed60488a8b8c" class="">Vamos então acessar a <a href="https://www.docker.com/get-started">página de início do Docker</a> e clicar em <em><strong>Download Desktop and Take a Tutorial</strong></em>. Isto vai nos levar a página de Downloads.</p><p id="1b03e22a-70cf-45f4-9286-031433ed526b" class="">Selecione a versão que atende seu sistema operacional, como <strong>Docker for Windows</strong> ou <strong>Docker for Mac</strong> e na tela seguinte selecione <em><strong>Get Docker</strong></em>.</p><p id="4e40b666-d6e4-482a-b2b0-31d3f9dd918a" class="">Siga a instalação dos pacotes para realizar todo o processo. Recomendamos que ao término do mesmo reinicie seu computador.</p><p id="beba5284-d6ad-44fd-853c-ac8d5e256688" class=""><strong>WINDOWS ONLY</strong></p><p id="379f4ef4-c7f4-4b88-b003-a8fe02929d6c" class="">Durante a instalação do Docker para Windows, você será questionado sobre utilizar contêineres Windows ao invés de Linux.</p><p id="f11455e1-40b4-4cdb-917c-739a9325dd82" class="">Fique à vontade em testar esta opção, mas para utilização do Docker em nossos cursos, recomendamos que <strong>NÃO DEIXE-A MARCADA</strong>. Nos cursos **<em>sempre vamos utilizar contêineres Linu</em>**x como padrão.</p><h2 id="9a0d33b6-bfdc-47d5-8551-4c04f20500ab" class=""><strong>Executando o Docker</strong></h2><p id="b301fd18-b2d1-4f52-924b-81257cf92f53" class="">Após reiniciar o computador, inicie o Docker caso o mesmo não tenha sido iniciado. O nome da aplicação no sistema ficará como Docker mesmo.</p><p id="25d98396-3433-47b6-81ae-492e17b5c140" class="">Você saberá que ele está em execução caso o ícone do Docker (uma baleia) esteja próximo ao relógio (System Tray).</p><p id="86ce2fda-091e-4f34-a4e8-f23383ba64f4" class="">No primeiro acesso você será indagado para autenticar utilizando seu <em><strong>Docker ID</strong></em> criado previamente neste artigo.</p><p id="375d8472-d2a9-4320-9759-d19aff9a5af5" class="">Recomendamos fortemente que faça o login, e caso tenha perdido esta primeira tela, basta clicar novamente no ícone do Docker (baleia) e selecionar a opção <strong>Sign In</strong>.</p><p id="3be2504f-77ae-4966-aa01-bb9859bc16b7" class="">Isto é tudo que precisamos para ter o Docker rodando em nossa máquina. Em adicional recomendamos que clique novamente no ícone do Docker e vá até a opção <strong>Settings</strong>.</p><p id="48ed2c05-e7fa-417f-a099-deb2f7942142" class="">Na aba <strong>General</strong>, desmarque a opção <em><strong>Start Docker for Desktop when you Login</strong></em>.</p><p id="5bcfaa42-0143-434f-8b97-7d530b7e6bb2" class="">Isto fará com que o Docker não seja iniciado junto com o sistema operacional, tornando a inicialização mais rápida.</p><p id="588c76eb-7265-4ac0-8d12-d9b4d5076a0f" class="">Caso tenha uma máquina mais poderosa e queira deixar esta opção marcada, fique à vontade.</p><h2 id="db6f1f9e-3cac-46c2-aa1d-ad979ab21c3e" class=""><strong>Testando a Instalação</strong></h2><p id="9934ba6d-6949-4c47-80e2-96d96bd205b5" class="">Ao instalar o Docker automaticamente fazemos a instalação do seu CLI, que disponibiliza o comando <strong>docker</strong> em nosso terminal.</p><p id="164e723a-4ee3-43e5-802e-994cef7b6d7c" class="">Desta forma, abra um terminal e digite o seguinte comando para ver a versão do Docker instalada.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="66cbd848-b92a-404c-9516-b46815cc4232" class="code code-wrap"><code class="language-Lua">docker --version
</code></pre><p id="05aa8059-6daf-4c8d-9add-a2e6eac79495" class="">Se estiver no Windows, recomendamos fortemente o <a href="https://www.microsoft.com/pt-br/p/windows-terminal-preview/9n0dx20hk701">Windows Terminal</a> ou Power Shell.</p><p id="7f37bb64-9a9b-460c-b0eb-4b8046825062" class="">Vamos então executar nosso famoso Hello World, que vai baixar e executar um contêiner para testarmos se tudo está funcionando corretamente.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5c815c77-989e-4b40-9023-4b9ec9b2ed28" class="code code-wrap"><code class="language-Plain Text">docker run hello-world
</code></pre><p id="7ee769d7-71aa-4a54-88e5-3ae947932b01" class="">Ao executar o comando, veremos a mensagem &#x27;<em><strong>Unable to find image hello-world:latest locally</strong></em>&#x27;, o que significa que ele não conseguiu encontrar nenhuma imagem chamada hello-world localmente.</p><p id="f04be892-2c64-4ce2-a410-5703434c2982" class="">Faz todo sentido, afinal não fizemos download de nada ainda, mas mesmo assim, ele fará uma busca online e encontrará esta imagem.</p><p id="e46d4db1-5cb5-45ab-b936-54ae24fb071f" class="">Seguindo adiante ele fará o download e execução da imagem, exibindo a mensagem &#x27;<em><strong>This message shows that your installation appears to be working correctly.</strong></em>&#x27; caso tudo tenha dado certo.</p><h2 id="461c298c-ff82-4cb3-a2b2-40afddb78a5d" class=""><strong>Listando as Imagens</strong></h2><p id="2ddd2879-1114-4343-ae1f-ca1fe94c25ad" class="">Durante a execução destes primeiros comandos, duas coisas muito importante aconteceram, o download da imagem e a criação do contêiner.</p><p id="8e5cfe86-74b3-4a35-923e-d565eccbe7f5" class="">Uma imagem é a informação crua que temos enquanto o contêiner é uma representação desta imagem local.</p><p id="9fdbcbed-5f91-4cfa-b6b1-235b2bfe32c2" class="">Os contêineres se baseiam nas imagens, mas nunca executamos as imagens, sempre os contêineres.</p><p id="d969c5d5-a118-4b57-ae3c-fd6a232c2c38" class="">Desta forma, temos uma imagem do <strong>hello-world</strong>, que é uma base que temos para construir diversos contêineres.</p><p id="9b7bd7d5-ecc5-4a6f-b46a-b10f7a8de5f7" class="">Para listar as imagens que temos localmente é só executar o comando abaixo.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="19aaf013-3446-4916-8e23-23dd386beddb" class="code code-wrap"><code class="language-Plain Text">docker image ls
</code></pre><p id="d05592b6-db7e-4c6c-9a7a-ac2ce7bc375c" class="">Como você deve imaginar, estas imagens ocupam espaço em disco, e podemos removê-las e baixá-las novamente a qualquer momento.</p><p id="ccce8dc9-daf2-453b-97e6-022d67cae96c" class="">No caso, para remover uma imagem baixada, podemos utilizar o comando abaixo.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="df71ff18-deb2-4e94-bd8a-7f5ab3b0654b" class="code code-wrap"><code class="language-Plain Text">docker image rmi ID_DA_IMAGEM
</code></pre><p id="55b6e472-00eb-4da6-b5fd-7c21d6c40e01" class="">É importante frisar que uma imagem não poderá ser apagada caso esteja em uso.</p><h2 id="584ef75b-0fbd-49c1-aa9b-b4bd22feb40e" class=""><strong>Listando os Contêineres</strong></h2><p id="3de117de-d71b-4989-a415-187b8c4846cf" class="">Para listar os contêineres podemos utilizar o comando abaixo, porém neste caso o hello-world não aparecerá.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="70044547-c2bb-4439-bbdf-d92175897af0" class="code code-wrap"><code class="language-Plain Text">docker container ls
</code></pre><p id="9217a923-3298-4c9a-96b1-6aac89af01b2" class="">Isto ocorre pelo hello-world ser um contêiner de testes apenas, então para vê-lo listado, precisamos executar o comando com --all no final.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0835da33-c688-466c-a121-394c25c8285a" class="code code-wrap"><code class="language-Plain Text">docker container ls --all</code></pre><p id="6ef6465d-2241-4ddd-a74c-63c42c81ac76" class="">Desta forma você verá todos os contêineres que estão na máquina.</p><h3 id="fb3c310e-12dd-4f55-9f9c-a435ecf77a1b" class=""><strong>Iniciando e parando um contêiner</strong></h3><p id="037fc7be-3170-4e54-8d4e-fdba0bbb0e4a" class="">Para executar ou para um contêiner, podemos usar o comando start/stop.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d11c2002-3a58-4ecb-b778-29ccbf6da7cb" class="code code-wrap"><code class="language-SQL">docker containerstart ID_DO_CONTAINER
dockercontainerstop ID_DO_CONTAINER
</code></pre><p id="e954cd0e-7bbc-4c0b-b45b-46daf0fe3611" class="">Para ver a lista completa do que podemos fazer com um contêiner basta executar o comando abaixo.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="625f60ae-a5d7-42fb-b8a3-8e5a97cdd8f2" class="code code-wrap"><code class="language-Shell">docker container --help
</code></pre><h3 id="7ecd3e20-e138-4cbf-a56e-b7d7dddb54f7" class=""><strong>Removendo um contêiner</strong></h3><p id="0654d858-c6da-4a6c-9ef3-44b7177cba0c" class="">Com o contêiner parado, podemos removê-lo utilizando o comando abaixo. Em seguida podemos também executar o comando para remover a imagem baixada.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9ae2f938-1132-473b-9273-cdeef37a391a" class="code code-wrap"><code class="language-Plain Text">docker container rm ID_DO_CONTAINER
</code></pre><h2 id="314af118-c0e8-46e9-ac4b-a1dbba8296f8" class=""><strong>Publicando uma API</strong></h2><p id="2abf9819-53ea-4107-a656-c20f3d3c95bc" class="">Chegou a hora do desafio final, vamos publicar uma API criada utilizando Node/JavaScript em um contêiner e torná-la acessível pelo nosso Browser.</p><p id="6266b1cb-f2c2-49bc-b403-ef2d9714f9a5" class="">Para executar esta parte do artigo você precisará do <a href="https://git-scm.com/">Git</a> e do <a href="https://code.visualstudio.com/">Visual Studio Code</a> instalados em sua máquina.</p><p id="3735662f-8477-4c69-a24b-1e7fb3271c38" class="">Abra um terminal e navegue para uma pasta segura, sem caracteres especiais ou com caminho muito longo e execute o seguinte comando.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d501a961-5f25-4bc0-bb38-c909dc3b33f8" class="code code-wrap"><code class="language-Plain Text">git clone https://github.com/andrebaltieri/docker-sample-api.git
</code></pre><p id="901055f0-8c82-44c0-aaff-60a867bc6a49" class="">Este comando fará o download do código fonte de uma API de exemplo que está no nosso GitHub, gerando assim uma nova pasta chamada <strong>docker-sample-api</strong>.</p><h3 id="e64302fb-973b-48ea-9433-28b0ecf05114" class=""><strong>Docker File</strong></h3><p id="4796c84f-893a-4c9c-b3b1-7105e03d4360" class="">Com o código baixado, precisamos gerar um contêiner para nossa aplicação, e neste processo informar alguns detalhes.</p><p id="e2b24692-c2d7-4184-88e4-18b21ae40b06" class="">O <strong>Docker File</strong> é o arquivo de instruções que o Docker utilizará para saber como publicar nossa aplicação em um contêiner, bem como qual imagem ele deve utilizar.</p><p id="73ae0769-d18e-4fea-8da8-4165db2ff58f" class="">Abra pasta <strong>docker-sample-api</strong> com o <strong>Visual Studio Code</strong> e vamos criar um arquivo chamado <em><strong>Dockerfile</strong></em> na raiz.</p><p id="4f73e7a7-cba2-486b-a68c-934dd1a658bd" class="">Note que este arquivo não tem extensão alguma, é apenas <strong>Dockerfile</strong> mesmo.</p><p id="89ddbbbb-4a32-4fda-ad54-5e8d69c14098" class="">O primeiro passo que precisamos fazer neste arquivo é definir qual imagem vamos utilizar em nossa aplicação.</p><p id="2ea2b788-5bf1-4db4-9c6f-3593b495918e" class="">Lembre-se que a imagem é a base para construção, contendo apenas o necessário do SO para execução da nossa aplicação.</p><p id="13d89f8b-af89-43a2-91de-92082428fd08" class="">Neste caso, vamos utilizar a <a href="https://hub.docker.com/_/node/">imagem oficial do Node para Docker</a>. Você pode encontrar imagens oficiais de diversas empresas no <a href="https://hub.docker.com/">Docker Hub</a>.</p><p id="60947e91-5eab-431d-ae53-187ba950dd37" class="">Para definir que estamos utilizando uma imagem como base, utilizamos a palavra <strong>FROM</strong>, seguida da imagem que queremos utilizar.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a2a299d8-8ae9-4ee8-a6a6-43c8dbdb44d9" class="code code-wrap"><code class="language-CSS">FROMnode:current-slim
</code></pre><p id="475d3061-4ad0-4931-90d2-941a297d4e78" class="">Note que após o nome da imagem temos dois pontos e <strong>current-slim</strong>. Na verdade o que vem depois dos dois pontos é a TAG da imagem.</p><p id="642fd541-8cec-44e2-a6ca-235731d3bcc6" class="">As tags são utilizadas para definir versões destas imagens e no caso, <strong>current</strong> diz que estamos pegando a versão mais atual do Node (<em>LTS - Long Term Support</em>) e <strong>slim</strong> diz que é a versão enxuta.</p><p id="aa81c161-0476-4937-8038-c1e8825b8288" class="">Cada imagem tem suas tags, então você deve sempre olhar no Docker Hub pela versão que precisa utilizar.</p><p id="cb0fb52a-ee0b-4cee-abdc-efd5790eb066" class="">A segunda definição que iremos fazer em nosso arquivo será o caminho, dentro da imagem, onde ficará o código fonte da nossa aplicação.</p><p id="96b247b5-9bc9-4b63-9b66-0fa77b1bf311" class="">Isto é feito utilizando a palavra <strong>WORKDIR</strong>, como mostrado abaixo.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6afe8a16-38bc-4947-90c6-0293238f0c80" class="code code-wrap"><code class="language-Plain Text">WORKDIR /usr/src/app
</code></pre><p id="1fe6d87b-3a39-495d-b19b-c5872dd82438" class="">Agora precisamos copiar o arquivo <em><strong>Package.json</strong></em>, que contém os pacotes necessários para execução da nossa API.</p><p id="f5e99f8e-9453-4df5-845c-1a0a359a047f" class="">Lembre-se que no caso do Node, não precisamos instalar uma SDK ou algo do tipo, porém toda aplicação tem a pasta <strong>node_modules</strong> com as bibliotecas que utilizamos durante a construção do App.</p><p id="c689883f-73df-4888-8ab9-f84edfd80fa8" class="">Para executar esta cópia vamos utilizar a palavra COPY, como mostrado abaixo.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="687c1014-7922-497c-9ee6-ae1382e5cec9" class="code code-wrap"><code class="language-CSS">COPYpackage.json .
</code></pre><p id="c8aed858-97e7-4dab-ac7f-8455bc7a97de" class="">Note que no fim do comando há um &#x27;.&#x27;, definindo que o arquivo será copiado para raiz da nossa aplicação definido no <strong>WORKDIR</strong>.</p><p id="c8d6d4be-73b8-4dcd-9c10-17b3bd599a50" class="">Com tudo pronto, vamos executar o comando <em><strong>NPM INSTALL</strong></em> para instalar todos os pacotes que precisamos, e isto é feito utilizando a palavra <strong>RUN</strong>.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="fda9195b-c9b5-40fa-872e-f6b5855743ab" class="code code-wrap"><code class="language-CoffeeScript">RUN npm install
</code></pre><p id="2e893669-d813-47e8-874c-e8ec64af7f41" class="">Até o momento temos o código da nossa aplicação sendo copiado para a imagem e em seguida sendo instalados os pacotes que a API precisa para rodar.</p><p id="0dc104ae-58bf-4625-8631-ba97b66a3f0d" class="">Porém, precisamos definir em qual porta esta API irá rodar, e isto é feito pela palavra EXPOSE, como mostrado abaixo.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1c0871df-d8c6-43ce-a7d9-ee21e227deb5" class="code code-wrap"><code class="language-Plain Text">EXPOSE 8080
</code></pre><p id="06241271-92b9-46b4-9dfb-de3f4185125c" class="">Neste caso, estamos expondo a API na porta 8080, porém fique à vontade em alterar esta porta.</p><p id="bcdd4141-e98d-43af-a147-03873a27c88c" class="">É importante lembrar que nossa API, internamente (Dentro da imagem) roda na porta <strong>3000</strong>. Isto está definido na <em>linha 15 do arquivo bin/www</em>.</p><p id="459acead-1b02-4a06-afcb-5684c195ceaa" class="">Embora tenhamos copiado os arquivos e instalado os pacotes, nossa API ainda não está executando, e para isto precisamos de fato executar o comando <strong>NPM START</strong>.</p><p id="9fef2976-e09f-4836-8c85-2c02181a10c2" class="">Desta forma, vamos utilizar a palavra <strong>CMD</strong> que nos permite passar uma lista de comandos a serem executados.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5f29c075-9005-44ec-8919-ab274a67e636" class="code code-wrap"><code class="language-CSS">CMD [&#x27;npm&#x27;, &#x27;start&#x27;]
</code></pre><p id="b6347626-3d57-4191-bdd0-89d1e4e38321" class="">Por fim, vamos executar mais um COPY para copiar o resto da nossa aplicação para a imagem.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="02330614-2f29-412b-aea9-88c7bcb929fb" class="code code-wrap"><code class="language-Plain Text">COPY . .
</code></pre><p id="d59b01d5-4e61-405a-848f-f8f365810557" class="">Note que utilizamos o mesmo esquema anterior, copiando os arquivos da raiz (&#x27;.&#x27;) da nossa aplicação para a raiz (&#x27;.&#x27;) da imagem.</p><p id="b8609d22-75f0-4af0-a8e7-fddbb9bb23e4" class="">O arquivo final <strong>Dockerfile</strong> fica com o seguinte conteúdo.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a1faec1e-d076-461e-ac23-ab54a50ff4c5" class="code code-wrap"><code class="language-Plain Text"># Copy the file from your host to your current location
COPY package.json .

# Run the command inside your image filesystem
RUN npm install

# Inform Docker that the container is listening on the specified port at runtime.
EXPOSE 8080

# Run the specified command within the container.
CMD [ &quot;npm&quot;, &quot;start&quot; ]

# Copy the rest of your app&#x27;s source code from your host to your image filesystem.
COPY . .
</code></pre><h2 id="54464ce0-6970-4281-a0d1-aaeefc1f517e" class=""><strong>Criando uma imagem</strong></h2><p id="6fc479d9-5435-454a-b3b3-628a95c94b4b" class="">Nosso desafio agora é criar uma imagem customizada a partir desta API/&#x27;Dockerfile que criamos. Vamos juntar a imagem padrão definida no <strong>Dockerfile</strong> com o restante da execução do script.</p><p id="f451b9e3-22c1-43be-a892-30698eebb208" class="">Dentre os comandos que podemos executar, temos o <em><strong>docker image build</strong></em>, para criar uma imagem, e vamos utilizá-lo para gerar o que precisamos aqui.</p><p id="b267a73d-80c0-43d7-a400-f9fe141fcbd7" class="">Certifique-se que você está na raiz da API, a pasta <em><strong>docker-sample-api</strong></em> e execute o seguinte comando.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f591a74f-d380-46b0-a470-f15d2d6205a9" class="code code-wrap"><code class="language-Plain Text">docker image build -t dockerapi:1.0 .
</code></pre><p id="a69b4de6-4b87-4f9f-8e92-040266460e21" class="">Para facilitar futuras execuções, vamos dar um nome para esta imagem, adicionando o parâmetro <strong>-t</strong>, seguido pelo <em><strong>nome:versão</strong></em> da imagem.</p><p id="1bcd69df-e282-46b7-840d-e087817b9f4e" class="">Por fim, devemos especificar o diretório onde está nosso Dockerfile, que no caso é a raiz da nossa API, definido no comando pelo &quot;.&quot;.</p><p id="07d8556c-5a48-4aa7-b2fa-9468d0fc0b0a" class="">Para verificar se tudo deu certo, basta executar o comando <strong>docker image ls</strong> para listar as imagens que temos na máquina.</p><h2 id="a25cd26e-c985-4843-a147-6441ee689ae1" class=""><strong>Rodando o contêiner</strong></h2><p id="79958ddf-6703-407a-bda8-ed9051d18c7e" class="">A última coisa que precisamos fazer é pegar esta imagem gerada e executar ela como um contêiner, e isto é feito pelo comando <strong>docker container run</strong>.</p><p id="a68a5896-6518-4be6-8725-ec696be72ca6" class="">Novamente, certifique-se que você está na raiz da API, a pasta <em><strong>docker-sample-api</strong></em> e execute o seguinte comando.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8d43a189-637d-47df-b02d-34a4008edfce" class="code code-wrap"><code class="language-Plain Text">docker container run --publish 8080:3000 --detach --name api dockerapi:1.0
</code></pre><p id="2783796c-8855-4f86-b2e4-787193e0d094" class="">O primeiro parâmetro que temos no comando é o <strong>--publish</strong>, que vai fazer o redirecionamento do tráfego para a porta onde nossa API está rodando.</p><p id="ff1a2e56-e4ef-41c8-9e37-776134cb25b2" class="">Neste caso, vamos rodar nosso contêiner na porta <em><strong>8080</strong></em>, ou seja, acessaremos nossa API no Browser pela URL <em>http://localhost:8080</em>, porém, internamente nossa API está rodando na porta <em><strong>3000</strong></em>.</p><p id="32e778ed-81ce-4e28-837f-0a52fd0f93d4" class="">O <strong>--publish</strong> cuidará exatamente deste redirecionamento de tráfego para nós. Você também pode alterar a porta de execução para outra qualquer, diferente da 8080 se quiser.</p><p id="fc38643e-63ed-417a-a61e-d28b9c3a4746" class="">O <strong>--detach</strong> diz para o Docker executar este contêiner em background, e não vai travar o processo do nosso terminal ou Visual Studio Code que acabamos de executar.</p><p id="39de2866-7d86-4a89-8fd1-5d5b935f778b" class="">O <strong>--name</strong> especifica o nome do contêiner, e fica a seu critério colocar qualquer nome que quiser, desde que não tenha espaços ou caracteres especiais.</p><p id="431386c1-f8d7-4792-8377-48da01a71a96" class="">Neste momento você pode abrir o browser no endereço <em>http://localhost:8080</em> para ver a mensagem <em><strong>&#x27;Docker Node API Running&#x27;</strong></em> na tela, o que significa que nossa API está rodando.</p><p id="3a471ee8-a1bf-4799-b497-27583f8eada4" class="">Por fim temos o nome da imagem especificado, que no caso é a que acabamos de criar. Agora você pode usar os comandos <em><strong>docker container ls</strong></em> para ver este contêiner em execução, além do <em><strong>docker container start ID</strong></em> e <em><strong>docker container stop ID</strong></em> para iniciar ou parar ele.</p><h2 id="856f23ba-b1ef-451f-8c2b-f2bfe64fa0c3" class=""><strong>Acessando os Logs</strong></h2><p id="7aa7684e-22ef-4298-8fcd-f61d4f231c6f" class="">Para visualizar os logs de execução da API você pode clicar no ícone do Docker e ir na opção Dashboard. Uma nova tela se abrirá listando o contêiner que acabamos de criar.</p><p id="824bdb25-ee84-4428-9073-7c7df94e42ad" class="">Clique sobre o contêiner e em seguida clique na opção LOGS para visualizar tudo que está sendo executado neste contêiner.</p><h2 id="b41036cd-e0c1-46a2-9554-a8e5dd78176b" class=""><strong>Conclusão</strong></h2><p id="492ea8a0-a52f-4aa7-9b28-119fd94d72bf" class="">Criar e executar imagens e contêineres no Docker não é uma tarefa difícil. Neste artigo vimos a instalação e primeiros passos para &#x27;conteinerizar&#x27; nossas aplicações, mas ainda há muito mais a se aprender sobre Docker.</p><h1 id="7ad7882c-e610-4e12-86cf-df08d72182ee" class=""><strong>Atualizações</strong></h1><p id="eb8c5ab2-9a91-4ed9-a34c-07f0908eb179" class="">24/08/2020</p><h2 id="01a89544-b9eb-423a-887f-47c550fa95b2" class=""><strong>WSL 2 (Somente Windows)</strong></h2><p id="e5fa3495-c53a-4a50-9327-f3d07a917bd8" class="">O WSL é um subsistema Linux que roda dentro do Windows, permitindo que o Docker seja executado mais rápido e de forma otimizada.</p><p id="5eb2b519-0696-4b7a-bc5b-90b8cccf431d" class="">Recomendamos fortemente que utilize o WSL 2 caso possível. Isto vai garantir uma performance e estabilidade melhor.</p><p id="0f8c8842-4dd9-4597-a97c-473466ee167f" class="">O ideal é habilitar o WSL 2 <strong>antes</strong> de instalar o Docker, para isto basta acessar este link e realizar a instalação: <a href="https://balta.io/blog/wsl">https://balta.io/blog/wsl</a></p><p id="54091c47-2d8c-4f9d-b110-ba7590bde404" class="">Desta forma, ao realizar a instalação do Docker, na primeira tela irá aparecer a opção abaixo, que <strong>deve ficar</strong> marcada.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3d665a88-69c0-475c-89e7-5be989eb7ecc" class="code code-wrap"><code class="language-Plain Text">Enable WSL 2 Windows features
</code></pre><p id="7cdc29a5-b62f-4dda-8058-ce2ffc8f441d" class="">Caso já tenha o Docker instalado e queria apenas habilitar a opção de rodá-lo via WSL, você pode alterar as opções em <code>Settings &gt; Resources &gt; WSL Integration &gt; Enable integration with my default WSL Distro</code>.</p><p id="438aa56d-00ed-43cd-aa96-518cf3d84cb9" class="">16/03/2021</p><h2 id="4e898138-57b0-473e-919d-c47d449580c5" class=""><strong>Kitematic</strong></h2><p id="ae444672-8701-43b2-a86a-521ce7027028" class="">Nas últimas versões do Docker, o Kitematic foi descontinuado, dando espaço a um novo Dashboard que listará seus contêineres.</p><p id="a5979935-6471-4173-a64d-932bae9e0f30" class="">No entanto, esta nova versão não permite que você navegue e baixe imagens, este primeiro passo precisa ser via linha de comando.</p><p id="df04f66b-2145-4368-92f8-7b2efd3835c7" class="">Para rodar o SQL Server por exemplo, teríamos que via linha de comando executar o comando para baixar a imagem do SQL Server:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e036e93b-b1b2-4809-a4d5-a310a9c39553" class="code code-wrap"><code class="language-Plain Text">docker pull mcr.microsoft.com/mssql/server
</code></pre><p id="8caf6ada-0384-45b6-a22b-46c44293d80c" class="">E em seguida executar o comando para iniciar o contêiner baseado na imagem que acabamos de baixar.</p><h3 id="72a67da3-599c-4bdc-8503-4f94339c428f" class=""><strong>Mac &amp; Linux</strong></h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8aaff33c-6780-45d3-b7da-696cab0675df" class="code code-wrap"><code class="language-Plain Text">docker run --name sqlserver -e &quot;ACCEPT_EULA=Y&quot; -e &quot;MSSQL_SA_PASSWORD=1q2w3e4r@#$&quot; -p 1433:1433 -d mcr.microsoft.com/mssql/server
</code></pre><h3 id="c652325e-3838-4bf1-a0c2-b8c6407e4dca" class=""><strong>Windows</strong></h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d3ed5e78-cd5f-4721-bd84-ccb2dfd978ff" class="code code-wrap"><code class="language-Plain Text">docker run -v ~/docker --name sqlserver -e &quot;ACCEPT_EULA=Y&quot; -e &quot;MSSQL_SA_PASSWORD=1q2w3e4r@#$&quot; -p 1433:1433 -d mcr.microsoft.com/mssql/server
</code></pre><p id="23258ccb-275f-4e19-a921-bead22ece491" class="">A partir deste ponto, esta imagem fica disponível visualmente quando acessamos o menu <strong>Dashboard</strong>, clicando com o botão direito do mouse sobre o ícone do Docker.</p></details></li></ul><ul id="ed5be9e4-b665-4cac-bbe3-0c5d6d8c6680" class="toggle"><li><details open=""><summary>Instalação docker + SQL Server</summary><h1 id="cb531b9c-d6c3-4058-96d4-bf99f08ee9ce" class=""><strong>SQL Server Docker</strong></h1><h2 id="daacaed0-3ab4-44f4-8ad6-bb8324343744" class=""><strong>Requisitos</strong></h2><h3 id="9d2ae903-2eb5-476c-bffa-750bb7cbe6e0" class=""><strong>Terminal</strong></h3><p id="e2e21cbc-09a0-47b6-a1f2-fec6c0eaf279" class="">Se estiver no Mac ou Linux, provavelmente já tem um Terminal bacana, mas caso esteja utilizando o Windows, sugiro fortemente que utilize o <strong>Windows Terminal</strong> para estas ações.</p><p id="188f0de4-9165-49c7-a5da-42bb105ae11e" class="">Aqui tem um link com a instalação e configurações que uso: <a href="https://balta.io/blog/windows-terminal">https://balta.io/blog/windows-terminal</a></p><h2 id="97a61d3b-12d2-4121-b930-9a8296abeda9" class=""><strong>Docker</strong></h2><p id="3221765c-e024-4a4c-8db4-28128f18d6d7" class="">Você precisa também do <strong>Docker</strong> instalado e rodando em sua máquina. Caso ainda não tenha realizado esta instalação, aqui está um artigo que mostro como fazer: <a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos">https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos</a></p><h3 id="00df9a2c-4cc0-4693-8a51-6dcb3baa8e45" class=""><strong>WSL 2 (Somente Windows)</strong></h3><p id="a2d0540e-9707-4fe5-9b91-34e61b6752b5" class="">Caso esteja no Windows, recomendo fortemente que instale e utilize o <strong>WSL</strong> que é um subsistema Linux dentro do Windows.</p><p id="cd5ad326-dc33-473b-a29a-de90a7ae9cd3" class="">Este processo tem que ser feito <strong>antes</strong> da instalação do Docker. Basta acessar este link e realizar a instalação: <a href="https://balta.io/blog/wsl">https://balta.io/blog/wsl</a></p><h2 id="b297d91c-0998-45bc-ac94-69ab096190d8" class=""><strong>Obtendo a imagem</strong></h2><p id="46435c22-4593-4bfa-8ed6-ca418cc24a2d" class="">Certifique-se que o Docker está em execução e abra um novo terminal, no meu caso, a versão do Docker em execução é a mostrada abaixo. Você pode verificar isto executando o comando <code>docker --version</code> no seu terminal.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e5aa2bf9-72ed-4790-a292-e7265c5ddc79" class="code code-wrap"><code class="language-Plain Text">Docker version 19.03.12, build 48a66213fe
</code></pre><p id="c896dc73-05a4-4bb5-9e0e-f22a1ed38da8" class="">Nosso primeiro passo então é obter a imagem do SQL Server que será o molde para criarmos nossos containers. Para isto, executamos o comando abaixo.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4c6fd222-ea01-49a8-bd3a-53e878febc9a" class="code code-wrap"><code class="language-Plain Text">docker pull mcr.microsoft.com/mssql/server
</code></pre><h3 id="0e94eae3-5c15-41c7-bb79-7ad87302d920" class=""><strong>Mac com chip M1</strong></h3><p id="f1fd47ef-77ae-42c9-a956-a57c4287470c" class="">No momento o SQL Server ainda não suporta os chips M1 da Apple, desta forma, precisamos rodar o Azure SQL Edge:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="95c1a8a1-3e96-445b-ac17-0699ef199090" class="code code-wrap"><code class="language-Plain Text">docker pull mcr.microsoft.com/azure-sql-edge
</code></pre><p id="72f08107-7ee5-41e6-8eac-13745f4ecd15" class="">Note que a primeira mensagem será <code>Using default tag: latest</code> o que significa que estamos obtendo a última versão desta imagem, provavelmente com a última versão estável do Mongo.</p><p id="e15b8c5b-6024-4b90-8f96-52e1e9448c7e" class="">Caso queira baixar alguma versão específica, verifique as <a href="https://hub.docker.com/_/microsoft-mssql-server">tags disponíveis aqui</a>.</p><h2 id="f676ab9d-22a2-41da-8df7-39a2745e2d13" class=""><strong>Rodando o SQL Server</strong></h2><p id="02427845-6f17-4991-a183-a68790cdb61f" class="">Para executar esta imagem você pode usar a linha abaixo. Não se esqueça de mudar o <code>MSSQL_SA_PASSWORD</code> para a senha desejado. <strong>Mas atenção!</strong> A senha tem um nível mínimo de complexidade, se você definir uma senha muito fácil (ex: 1q2w3e4r) o container vai finalizar sozinho.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="81d050a6-b8a2-44ec-8b3f-ecfc35d36296" class="code code-wrap"><code class="language-Plain Text">docker run --name sqlserver -e &quot;ACCEPT_EULA=Y&quot; -e &quot;MSSQL_SA_PASSWORD=1q2w3e4r@#$&quot; -p 1433:1433 -d mcr.microsoft.com/mssql/server
</code></pre><p id="b0840260-226a-4dc6-9c5e-912985a882ce" class="">Caso a senha que você escolheu seja fraca demais, você verá <code>Exited(1)</code> e a seguinte mensagem:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9708b703-c501-4692-8d1c-be382b6b32b6" class="code code-wrap"><code class="language-SQL">ERROR: Unable tosetsystem administratorpassword:Passwordvalidation failed. Thepassword doesnot meetSQLServerpasswordpolicy requirements because itisnot complex enough. Thepassword must beatleast 8characterslongand containcharactersfrom threeof thefollowing foursets: Uppercase letters, Lowercase letters, Base 10 digits,and Symbols..
</code></pre><p id="1434e4fe-3049-49a8-b1a5-ae9bf64a8ee2" class="">Veja os requisitos para a senha de administrador <a href="https://docs.microsoft.com/en-us/sql/relational-databases/security/password-policy?view=sql-server-ver16#password-complexity">aqui</a>.</p><h3 id="7925ca4b-f17f-4b4a-8bf9-7ed052102882" class=""><strong>Windows</strong></h3><p id="606bccdd-22de-45ca-96ba-981a7973e020" class="">Caso esteja no Windows, com <strong>WSL 2</strong> é importante informar o volume onde este container será executado, utilizando a flag <code>-v ~/docker</code> como mostrado abaixo.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5bccad0f-5f32-4363-b346-13e114171a91" class="code code-wrap"><code class="language-Plain Text">docker run -v ~/docker --name sqlserver -e &quot;ACCEPT_EULA=Y&quot; -e &quot;MSSQL_SA_PASSWORD=1q2w3e4r@#$&quot; -p 1433:1433 -d mcr.microsoft.com/mssql/server
</code></pre><p id="5f19c7fa-7127-4177-b0f7-ae6cfb6a5099" class="">Para parar a execução você pode pressionar CTRL + C no Terminal. Deste momento em diante, seu container vai aparecer na <strong>Dashboard</strong> do Docker de forma visual, onde você poderá parar ou iniciar ela a qualquer momento.</p><p id="a1d4480f-815e-4611-91b4-7c26f95431fb" class="">Veja os requisitos para a senha de administrador <a href="https://docs.microsoft.com/en-us/sql/relational-databases/security/password-policy?view=sql-server-ver16#password-complexity">aqui</a>.</p><h3 id="e52da46f-1631-4384-a5d1-e728e2e14219" class=""><strong>Mac M1</strong></h3><p id="80b98357-bd71-43d1-9cb6-7925488b4d38" class="">Continuando a saga do M1, a execução muda para os comandos abaixo:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e82d3201-3ac9-4496-bba7-4c97eaa5d6d9" class="code code-wrap"><code class="language-Plain Text">docker run -e &quot;ACCEPT_EULA=1&quot; -e &quot;MSSQL_SA_PASSWORD=1q2w3e4r@#$&quot; -e &quot;MSSQL_PID=Developer&quot; -e &quot;MSSQL_USER=SA&quot; -p 1433:1433 -d --name=sqlserver mcr.microsoft.com/azure-sql-edge
</code></pre><p id="0bf575f8-cc24-4d82-8c1b-a75cc312876d" class="">Veja os requisitos para a senha de administrador <a href="https://docs.microsoft.com/en-us/sql/relational-databases/security/password-policy?view=sql-server-ver16#password-complexity">aqui</a>.</p><h2 id="72e6cfd6-8606-4d96-9530-f1dd6a06cf4d" class=""><strong>Connection String</strong></h2><p id="e16490fa-6943-4412-b43e-c27ceee8f3b8" class="">Se você utilizou as mesmas configurações deste artigo, sua <strong>Connection String</strong> será igual abaixo. Caso necessário, modifique as informações que alterou na execução dos containers.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d63ea330-e10b-4a7d-ad35-c64263913fe9" class="code code-wrap"><code class="language-Plain Text">Server=localhost,1433;Database=balta;User ID=sa;Password=1q2w3e4r@#$
</code></pre><h2 id="5cb88ffd-f776-48e3-a917-cb3ce9a0f97e" class=""><strong>Erros comuns</strong></h2><h3 id="60e3574b-13ef-422f-9f1a-2d37f39b7688" class=""><strong>A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: SSL Provider</strong></h3><p id="c56925ac-306a-4f69-b1be-0c966bac701a" class="">Nas novas versões da imagem do SQL Server, no Windows, tem ocorrido um problema de SSL. Para resolver este problema, primeiro execute os seguintes comandos:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4dd1e2ff-f261-4134-a1b0-90d9238ec0ab" class="code code-wrap"><code class="language-Lua">dotnet dev-certs https --clean
dotnet dev-certs https --trust
</code></pre><p id="8b4c7309-7d02-43a0-a15f-b0dc7b91e58d" class="">Feito isto, os certificados HTTPS do .NET estarão atualizados e funcionais. Desta forma, adicione os parâmetros <code>Trusted_Connection</code> e <code>TrustServerCertificate</code> na sua <strong>Connection String</strong> como mostrado abaixo:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="89cce207-b681-4c85-abe3-21d05736daf5" class="code code-wrap"><code class="language-Plain Text">Server=localhost,1433;Database=balta;User ID=sa;Password=1q2w3e4r@#$;Trusted_Connection=False; TrustServerCertificate=True;

</code></pre><h3 id="9df5afba-bce6-41b9-a618-baa35b138f4d" class=""><strong>GUI Client</strong></h3><p id="73a69a97-7a1d-466f-80e3-76f6350d3189" class="">Caso queira gerenciar seu banco de uma forma visual, você pode utilizar uma das ferramentas gratuitas abaixo:</p><ul id="e689a4b5-3298-4fa4-8c58-da2791bf6e5b" class="bulleted-list"><li style="list-style-type:disc"><a href="https://docs.microsoft.com/pt-br/sql/ssms/download-sql-server-management-studio-ssms"><strong>SQL Server Management Studio</strong></a></li></ul><ul id="ad7de660-aa5b-4c0e-993d-0b1be2f8a2e5" class="bulleted-list"><li style="list-style-type:disc"><a href="https://docs.microsoft.com/pt-br/sql/azure-data-studio/download-azure-data-studio"><strong>Azure Data Studio</strong></a></li></ul></details></li></ul></details></li></ul><ul id="5b1b4a44-8a61-49e2-91af-eb642d66c5be" class="toggle"><li><details open=""><summary>01 - Introdução e fundamentos</summary><ul id="c99bc72a-d5a4-4afb-ac06-ce57629e6db0" class="toggle"><li><details open=""><summary>Apresentação</summary><ul id="d3be85d2-49d1-4ff9-b934-3d75d732a12b" class="bulleted-list"><li style="list-style-type:disc">Apresentação do curso </li></ul><ul id="86b6cd33-5699-47b4-afcc-7fc0f2201cdc" class="bulleted-list"><li style="list-style-type:disc">Fazer a instalação so SSMS e sql server ou rodar pelo docker</li></ul><ul id="93dbdd17-2dfa-4610-b5eb-2a56dfeb9cb3" class="bulleted-list"><li style="list-style-type:disc">Instalação do docker<figure id="a354312a-59da-4029-9d85-413b56f5b6ba"><a href="https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Docker - Instalação, Configuração e Primeiros Passos</div><div class="bookmark-description">O Docker é uma forma de abstração da nossa infraestrutura que nos beneficia tanto em tempo de desenvolvimento quanto em produção.</div></div><div class="bookmark-href"><img src="https://baltaio.blob.core.windows.net/static/images/icons/favicon.ico?v1" class="icon bookmark-icon"/>https://balta.io/blog/docker-instalacao-configuracao-e-primeiros-passos</div></div><img src="https://baltaio.blob.core.windows.net/static/images/articles/docker-instalacao-configuracao-e-primeiros-passos_share.jpg?v=cd22b859" class="bookmark-image"/></a></figure></li></ul><ul id="3cf3433f-a99f-49a2-a624-803175e02953" class="bulleted-list"><li style="list-style-type:disc">Configuração do docker e sql server<figure id="d2ac4166-0efd-4581-9983-3ed03992081b"><a href="https://balta.io/blog/sql-server-docker" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">SQL Server Docker</div><div class="bookmark-description">Neste artigo vou mostrar como podemos criar uma imagem do SQL Server e executar ela via Docker em poucos minutos!</div></div><div class="bookmark-href"><img src="https://baltaio.blob.core.windows.net/static/images/icons/favicon.ico?v1" class="icon bookmark-icon"/>https://balta.io/blog/sql-server-docker</div></div><img src="https://baltaio.blob.core.windows.net/static/images/articles/sql-server-docker_share.jpg?v=a5b8824e" class="bookmark-image"/></a></figure></li></ul></details></li></ul><ul id="4a436295-7f06-438f-b33b-ab708a08f973" class="toggle"><li><details open=""><summary>Ferramentas</summary><ul id="e468ec0a-d8c2-4a43-8d27-b225ce155ee3" class="bulleted-list"><li style="list-style-type:disc">Vamos utilizar o azure data studio para acessar o banco de dados<figure id="675003ee-3080-478b-b9d3-d398d1fe9cf8"><a href="https://azure.microsoft.com/pt-br/products/data-studio" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Azure Data Studio | Microsoft Azure</div><div class="bookmark-description">Encontre uma ferramenta de análise de dados multiplataforma e de software livre que possa mesclar vários ambientes de nuvem em uma experiência unificada local e fora do local.</div></div><div class="bookmark-href"><img src="https://azure.microsoft.com/favicon.ico?v2" class="icon bookmark-icon"/>https://azure.microsoft.com/pt-br/products/data-studio</div></div></a></figure></li></ul><ul id="3683a115-0af9-49ce-b3fe-bdb73f94717c" class="bulleted-list"><li style="list-style-type:disc">Primeiro ligamos o docker com o sql server</li></ul><ul id="45338fed-dbe8-40e7-b2f5-22804db6c44e" class="bulleted-list"><li style="list-style-type:disc">Depois vamos abrir o azure data studio e abrir uma nova conexão<ul id="e494a0da-fb63-4cba-b4a3-a6faf063668b" class="bulleted-list"><li style="list-style-type:circle">No server colocamos: <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ddbad6d3-b9b8-476e-977e-a2196c5c8be1" class="code"><code class="language-C#">localhost,1433</code></pre></li></ul><ul id="60187618-dc69-485d-8236-3b66cb4bdcab" class="bulleted-list"><li style="list-style-type:circle">A 1433 é uma porta padrão geralmente usada pelo sql server</li></ul><ul id="59451e1b-b3cb-4988-8f7e-9be969b031b0" class="bulleted-list"><li style="list-style-type:circle">O tipo de autenticação vamos usar o sql login</li></ul><ul id="4d0f6980-d917-4bd2-8457-bb9ba33d6e33" class="bulleted-list"><li style="list-style-type:circle">Digitamos o login, mesmo usado no docker</li></ul><ul id="410073bb-7f14-4fae-91e7-ce5dc820f037" class="bulleted-list"><li style="list-style-type:circle">Depois podemos criar grupos e escolher o banco default</li></ul><ul id="a8cae3fd-378c-4a82-b0db-37d96546513c" class="bulleted-list"><li style="list-style-type:circle">Depois precisamos habilitar o trust certicate como true</li></ul><ul id="ce74c73b-5de6-4e29-b35c-9d364b16b745" class="bulleted-list"><li style="list-style-type:circle">Outro ponto importante é ter um senha forte e certificar que a porta do docker esteja livre.</li></ul></li></ul></details></li></ul><ul id="52d64aab-ab72-427b-9b2b-bf464931ff69" class="toggle"><li><details open=""><summary>Create/drop Database</summary><ul id="b5f87766-6324-4fe9-9500-7303cb5e5195" class="bulleted-list"><li style="list-style-type:disc">Depois de aberto o banco, vamos dar ctrl + n para abrir um editor de query.</li></ul><ul id="2db481da-3a3d-4d51-9fc6-5abb981ba824" class="bulleted-list"><li style="list-style-type:disc">Lembrar sempre de certificar em qual banco está executando os seus comandos</li></ul><ul id="50f2dd38-cd1b-4872-97d6-a92be8e047ce" class="bulleted-list"><li style="list-style-type:disc">Quando executamos um banco de primeira, não vai ter banco, então podemos executar nossas query na master para criar nosso database. Master é um padrão dentro do sgbd para controle</li></ul><ul id="d67261a6-0a27-44cf-97b5-bfd5c8f62050" class="bulleted-list"><li style="list-style-type:disc">O primeiro comando que vamos ver é para criar um banco de dados</li></ul><hr id="cab85b12-5090-4d74-9cbb-342488b9b5ec"/><ul id="ea2f4e44-e085-4c9b-8859-121698613cb8" class="bulleted-list"><li style="list-style-type:disc">CREATE DATABASE<ul id="64372fda-ab3b-485a-8874-a7d810201aff" class="bulleted-list"><li style="list-style-type:circle">Primeiro comando é para criar uma base de dados<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="cd8ef2d7-1dd9-4914-a9ad-d64e7f0e85a0" class="code"><code class="language-SQL">CREATE DATABASE [nome_banco]</code></pre></li></ul><ul id="e1a9018d-6dfd-4163-a3cb-21cdb3936d03" class="bulleted-list"><li style="list-style-type:circle">Essa é a versão mais simples de criar, podemos passar outros parâmetros para configurar o banco muito importante como o charset por exemplo.</li></ul><ul id="ccd6e497-8b51-44a7-a5de-52b02e671708" class="bulleted-list"><li style="list-style-type:circle">Depois de criar o comando podemos da run na master, ae ele vai criar o banco, caso não apareça de primeira, bastar dar um reflesh do lado. </li></ul><ul id="77cad783-9a54-438a-a68f-8db623cbc5d5" class="bulleted-list"><li style="list-style-type:circle">Outra dica é clicar em cima do banco e depois em manager, vai abrir uma tela com mais funções para visualizar o banco e manipula-lo.</li></ul></li></ul><hr id="d46d4a86-8741-4259-8a0f-14aaa2a5e352"/><ul id="8a7400e7-8813-4f7d-b500-c938e03c45bf" class="bulleted-list"><li style="list-style-type:disc">DROP DATABASE<ul id="0fe0aab4-3277-441d-b478-070e6f39a07b" class="bulleted-list"><li style="list-style-type:circle">Esse comando serve para apagar o banco. <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4952b397-51e3-421c-a2cf-f559cdb1f83d" class="code"><code class="language-SQL">DROP DATABASE [nome_banco]</code></pre></li></ul><ul id="7c8674a2-497c-4c87-8ea0-0ebf92413032" class="bulleted-list"><li style="list-style-type:circle">Em alguns casos temos que certificar de fechar todas as conexões com esse banco se não não vamos conseguir deletar o banco mesmo executando pela master</li></ul><ul id="ec3791fd-89e8-4c9c-90e0-844156e47cc0" class="bulleted-list"><li style="list-style-type:circle">Alguns SGBD tem um função de deletar e fechar as conexões.</li></ul><ul id="0355ab02-465f-4108-883b-7ebc189d01f9" class="bulleted-list"><li style="list-style-type:circle">Podemos executar alguns scripts para fechar e deletar o banco.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c81b7c88-0e6e-4b9d-a849-208a28d4d9bb" class="code"><code class="language-SQL">USE [master];

DECLARE @kill varchar(8000) = &#x27;&#x27;;
SELECT @kill = @kill + &#x27;kill &#x27; + CONVERT(varchar(5), session_id)
FROM sys.dm_exec_sessions
WHERE database_id = db_id(&#x27;nome_banco&#x27;)

EXEC(@kill);

DROP DATABASE [nome_banco]</code></pre></li></ul><ul id="83ff41c2-6456-4481-8568-eba2da0cf84c" class="bulleted-list"><li style="list-style-type:circle">Outra dica é que se por acaso selecionar algo e depois apertamos para executar, ele executa somente aquilo que você selecionou.</li></ul></li></ul></details></li></ul><ul id="5f5a82df-16b5-4bc4-89e2-60f9c3043cef" class="toggle"><li><details open=""><summary>Create Table</summary><ul id="5237a4b6-8f9d-47ab-9b60-5e9800bf9e8b" class="bulleted-list"><li style="list-style-type:disc">Dica: Clicar ctrl+n em cima do banco ele já trás selecionar o banco no arquivo de query</li></ul><ul id="f8199572-7a21-46c3-8970-9b3c8623da54" class="bulleted-list"><li style="list-style-type:disc">É uma boa prática escrever os comando em CAPSLOCK para melhor visualização</li></ul><ul id="a8f5ecae-41b8-46a3-b7de-363c6980750b" class="bulleted-list"><li style="list-style-type:disc">A quebra de linha ou ; finaliza uma instrução</li></ul><ul id="a9ff9fa3-e2f1-490e-ac22-acc2d33c9f02" class="bulleted-list"><li style="list-style-type:disc">Dentro do nosso banco temos tabelas quer serve para armazenar os dados também conhecidos como schema, isso num contexto de banco relacional.</li></ul><ul id="70fe3f9f-a309-4c38-a675-1a806c490ff3" class="bulleted-list"><li style="list-style-type:disc">Use [] aonde colocamos nomes como nomes de tabela ou coluna, em alguns caso podemos ter o mesmo nome de coluna ou de uma palavra reservada do SQL, o [] anula isso. Assim podemos usar nomes de palavras reservadas como nome de coluna, tabelas ou outros. </li></ul><hr id="06fa8ae7-e365-4a04-a9c0-d8bebd8e5c8d"/><p id="004ace97-7958-4455-a7e1-8cddafbabde7" class="">USE</p><ul id="60605bf3-68b8-4cb2-9be2-1594dd0d76cd" class="bulleted-list"><li style="list-style-type:disc">O comando USE serve para selecionar um banco, isso garante melhor que queremos usar um banco específico.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d8959d38-41ae-4ee5-b0ce-a4e0d5700f5e" class="code"><code class="language-SQL">USE [nome_banco]</code></pre></li></ul><p id="f08ff05a-8c7a-4faa-acc9-12f2bcccf22d" class="">GO<div class="indented"><ul id="e0bfd69e-a7bb-41d6-8082-76ab773b832e" class="bulleted-list"><li style="list-style-type:disc">O Comando GO serve para finalizar o bloco e inserir ou alterar as informações</li></ul><ul id="73ecb268-4aba-4cde-b7e8-b4795893087c" class="bulleted-list"><li style="list-style-type:disc">É uma boa prática usar, pois podemos perder um bloco de dados uma vez que der erro no meio do caminho.</li></ul><ul id="93ab32fc-cdc4-4498-a3e1-9af98853bb21" class="bulleted-list"><li style="list-style-type:disc">Serve para finalizar a transação<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d317c91d-d704-4946-85e1-b84b12f257e7" class="code"><code class="language-SQL">-- comandos
GO
--Comandos
GO
--Comandos 
GO</code></pre></li></ul></div></p><p id="1a51947e-ac73-4f98-a7f6-5d12ebfde36c" class="">CREATE  TABLE</p><ul id="915ca0e0-8f2d-40f4-b574-090f2feabe6c" class="bulleted-list"><li style="list-style-type:disc">Agora vamos ver um comando básico para criar tabelas<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="210ef6ac-1cbe-4070-b37d-9cb70d2e1ca7" class="code"><code class="language-SQL">CREATE TABLE [nome_tabela](
	-- Configurações aqui
)</code></pre></li></ul><ul id="826a1931-0830-4df0-b79e-b55555658f46" class="bulleted-list"><li style="list-style-type:disc">Depois precisamos configurar as colunas, a forma mais simples é botar o nome da coluna e o tipo. Podemos colocar outros parâmetros de configurações da coluna adicionais.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6aeb32a9-6841-4784-915b-e3e3121aa8e1" class="code"><code class="language-SQL">CREATE TABLE [nome_tabela](
	[nome_coluna] tipo,
	[nome_coluna] tipo
)
--ou
CREATE TABLE [nome_tabela](
	nome_coluna tipo,
	nome_coluna tipo
)</code></pre><ul id="500de126-a194-40a8-9220-b804186f0983" class="bulleted-list"><li style="list-style-type:circle">Usar [] é mais recomendável aqui.</li></ul><ul id="0c37fb5f-a791-448f-b90c-eec65c4a6374" class="bulleted-list"><li style="list-style-type:circle">Separando as colunas por , e se deixar um , no final não tem problema</li></ul></li></ul><hr id="609c8c9d-ba6b-41c6-bd2b-88d7698867b7"/><p id="5f66a32b-ebed-4f33-a96c-9e169dc00933" class="">TIPOS DE DADOS<div class="indented"><ul id="6de6ea01-5693-46f7-b087-e17383721b6d" class="bulleted-list"><li style="list-style-type:disc">Dentro do SQL do SQL Server Temos vários tipos de dados vamos ver alguns aqui</li></ul><ul id="63bcd9f5-10a0-48df-8fab-1ca715806285" class="toggle"><li><details open=""><summary>Tipos de dados SQL SERVER</summary><p id="b175100f-6954-4041-bc9e-87972c132477" class="">No SQL Server, os tipos de dados são categorizados principalmente em vários tipos, cada um com suas próprias características e limitações. Aqui está uma visão geral dos tipos de dados mais comuns no SQL Server:</p><ol type="1" id="bb624176-cb63-46e5-b88d-ab6296471e01" class="numbered-list" start="1"><li><strong>Inteiros</strong>:<ul id="866f2d66-7d2f-4f2e-a40f-7377f11eb862" class="bulleted-list"><li style="list-style-type:disc"><code>INT</code>: Armazena números inteiros. Varia de -2,147,483,648 a 2,147,483,647.</li></ul><ul id="838e421d-56ab-4ecf-8b06-1dc5c509fbed" class="bulleted-list"><li style="list-style-type:disc"><code>SMALLINT</code>: Para números menores, varia de -32,768 a 32,767.</li></ul><ul id="b7063fb3-87db-4232-acb2-1f80af238fd0" class="bulleted-list"><li style="list-style-type:disc"><code>TINYINT</code>: Para números ainda menores, varia de 0 a 255.</li></ul><ul id="733dfb58-933e-4dda-bbd0-3e1442c7965e" class="bulleted-list"><li style="list-style-type:disc"><code>BIGINT</code>: Para números muito grandes, varia de -9,223,372,036,854,775,808 a 9,223,372,036,854,775,807.</li></ul></li></ol><ol type="1" id="9b032b39-3d78-4cb0-a3a4-294e1d23d4b1" class="numbered-list" start="2"><li><strong>Decimais e Numéricos</strong>:<ul id="ca734555-aa2f-4348-ae47-348f50e020e5" class="bulleted-list"><li style="list-style-type:disc"><code>DECIMAL</code> e <code>NUMERIC</code>: Usados para números com precisão e escala fixas. Por exemplo, <code>DECIMAL(5,2)</code> pode armazenar números até 999.99.</li></ul></li></ol><ol type="1" id="d376de85-ee37-4633-8696-1c0cd7ad7bd2" class="numbered-list" start="3"><li><strong>Ponto Flutuante</strong>:<ul id="a00a106a-1131-4a99-af78-cf57db061168" class="bulleted-list"><li style="list-style-type:disc"><code>FLOAT</code>: Números de ponto flutuante com precisão dupla.</li></ul><ul id="fbee2500-9893-48d3-b4bc-fb3370e07856" class="bulleted-list"><li style="list-style-type:disc"><code>REAL</code>: Números de ponto flutuante com precisão simples.</li></ul></li></ol><ol type="1" id="9b6fc7f9-3c0d-469f-9aca-51411b1a76d5" class="numbered-list" start="4"><li><strong>Data e Hora</strong>:<ul id="f41f4388-8864-4a96-bf94-f28d0c6b0c08" class="bulleted-list"><li style="list-style-type:disc"><code>DATE</code>: Armazena apenas data.</li></ul><ul id="d7e38f1d-29ce-4446-b516-0c42b068c536" class="bulleted-list"><li style="list-style-type:disc"><code>TIME</code>: Armazena apenas hora.</li></ul><ul id="f240d95f-1320-48ba-805b-85b579849e87" class="bulleted-list"><li style="list-style-type:disc"><code>DATETIME</code>: Combinação de data e hora, com precisão de frações de segundo.</li></ul><ul id="45eeca15-325c-4cd2-aac1-6aa2d9547878" class="bulleted-list"><li style="list-style-type:disc"><code>SMALLDATETIME</code>: Como <code>DATETIME</code>, mas com menos precisão.</li></ul></li></ol><ol type="1" id="24c1f1e0-b95d-42e6-bcd5-2f351e89b5d4" class="numbered-list" start="5"><li><strong>Caracteres</strong>:<ul id="3e72d9ad-af28-4553-9ff1-795b25d0a96c" class="bulleted-list"><li style="list-style-type:disc"><code>CHAR</code>: Para strings de comprimento fixo. Por exemplo, <code>CHAR(10)</code> sempre armazena 10 caracteres.</li></ul><ul id="cf1d0ade-e38b-4efe-973a-271148737951" class="bulleted-list"><li style="list-style-type:disc"><code>VARCHAR</code>: Para strings de comprimento variável. <code>VARCHAR(100)</code> pode armazenar até 100 caracteres.</li></ul><ul id="e874cd56-1c9b-4521-9c6f-608165c29101" class="bulleted-list"><li style="list-style-type:disc"><code>TEXT</code>: Para textos longos.</li></ul></li></ol><ol type="1" id="4b6a667d-27f0-47a9-848c-8050b44ae5ea" class="numbered-list" start="6"><li><strong>Caracteres Unicode</strong>:<ul id="4974a87d-8351-4e64-869b-57e5e4e67311" class="bulleted-list"><li style="list-style-type:disc"><code>NCHAR</code> e <code>NVARCHAR</code>: Semelhantes a <code>CHAR</code> e <code>VARCHAR</code>, mas para suportar Unicode, dobrando o espaço necessário.</li></ul><ul id="c09274f5-0a7e-4c4b-b54a-89c1b91684a4" class="bulleted-list"><li style="list-style-type:disc"><code>NTEXT</code>: Para textos longos em Unicode.</li></ul></li></ol><ol type="1" id="348bcec7-6c41-47e0-9972-1985ec532ccf" class="numbered-list" start="7"><li><strong>Binário</strong>:<ul id="35113cb4-1d5e-409a-a5ef-3f6bd59d3050" class="bulleted-list"><li style="list-style-type:disc"><code>BINARY</code>: Dados binários de comprimento fixo.</li></ul><ul id="693c18ac-53c2-4326-a31d-9baca2a7760c" class="bulleted-list"><li style="list-style-type:disc"><code>VARBINARY</code>: Dados binários de comprimento variável.</li></ul><ul id="fe0308cc-f596-4bf0-a37a-ba3df25f1a27" class="bulleted-list"><li style="list-style-type:disc"><code>IMAGE</code>: Para armazenar imagens e dados binários grandes.</li></ul></li></ol><ol type="1" id="b488029d-ac9a-4b78-9254-29fc52d5c42b" class="numbered-list" start="8"><li><strong>Outros Tipos</strong>:<ul id="fec89b43-ae0e-42a8-84c1-bc623c9e1a66" class="bulleted-list"><li style="list-style-type:disc"><code>BIT</code>: Armazena 0 ou 1, frequentemente usado para campos de verdadeiro/falso.</li></ul><ul id="741b58b9-24d7-469d-9ebe-c19913f8104f" class="bulleted-list"><li style="list-style-type:disc"><code>MONEY</code>: Para valores monetários, com precisão de quatro casas decimais.</li></ul><ul id="df3040fb-0b2b-4713-ae12-233e348101e6" class="bulleted-list"><li style="list-style-type:disc"><code>UNIQUEIDENTIFIER</code>: Para armazenar identificadores únicos (GUIDs).</li></ul></li></ol><p id="9d7d70d1-96fc-4ff6-847c-246538bcc4c2" class=""><strong>Exemplos</strong>:</p><ul id="7b2fabee-b422-484e-9b10-cd9db39a4982" class="bulleted-list"><li style="list-style-type:disc"><code>INT</code>: <code>12345</code></li></ul><ul id="83cafef2-87e8-4a71-befd-109471888a60" class="bulleted-list"><li style="list-style-type:disc"><code>DECIMAL(5,2)</code>: <code>123.45</code></li></ul><ul id="71f89a92-2459-4a0a-bd46-fa7da407f8bd" class="bulleted-list"><li style="list-style-type:disc"><code>VARCHAR(50)</code>: <code>&#x27;Olá, mundo!&#x27;</code></li></ul><ul id="d31d0c37-4e27-400a-a965-5720b88d3c63" class="bulleted-list"><li style="list-style-type:disc"><code>DATETIME</code>: <code>&#x27;2024-01-01 10:00:00&#x27;</code></li></ul><p id="06d29dec-ab86-49d8-921a-a6a8cf5b24e2" class=""><strong>Limitações</strong>:</p><ul id="8b2fc388-f626-4efb-a005-c97b43233118" class="bulleted-list"><li style="list-style-type:disc">O tamanho máximo de um <code>VARCHAR</code> é de 8000 caracteres, enquanto um <code>NVARCHAR</code> é limitado a 4000 caracteres. Para textos mais longos, é necessário usar <code>TEXT</code> ou <code>NTEXT</code>.</li></ul><ul id="c3015885-cb38-40f7-9921-d9c5e61cfd08" class="bulleted-list"><li style="list-style-type:disc">A precisão de <code>DATETIME</code> é de 3,33 milissegundos, o que pode não ser adequado para todas as aplicações.</li></ul><ul id="631ba9dc-eddb-4213-9d50-ed5a6dfeaa6d" class="bulleted-list"><li style="list-style-type:disc">O uso de <code>TEXT</code>, <code>NTEXT</code> e <code>IMAGE</code> é desencorajado em versões mais recentes do SQL Server, sendo recomendado usar <code>VARCHAR(MAX)</code>, <code>NVARCHAR(MAX)</code> e <code>VARBINARY(MAX)</code>, respectivamente.</li></ul><p id="ca968f7e-6aa8-4e62-8fc8-61edef7e6df2" class="">Sempre é importante escolher o tipo de dado mais apropriado para a necessidade específica, considerando tanto o desempenho quanto o armazenamento.</p></details></li></ul></div></p><hr id="9b517927-9716-48c3-85ad-29734bbc87e3"/><p id="ab66bee6-9a34-44fb-adc3-f294c0790a38" class="">CONFIGURANDO COLUNAS</p><ul id="dbe6ac3b-554e-4fcc-a894-3594bf7fe8dc" class="bulleted-list"><li style="list-style-type:disc">Agora vamos configurar algumas colunas no create table<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="496c461f-68ab-4ea9-a0f3-075195c55cf2" class="code"><code class="language-SQL">CREATE TABLE [Aluno](
	[Id] INT,
	[Nome] NVARCHAR(160),
	[Nascimento] DATETIME,
	[Active] BIT,
)</code></pre></li></ul><ul id="cc2776ad-b2fa-4886-884c-dace08464251" class="bulleted-list"><li style="list-style-type:disc">Aqui declaramos quatro colunas uma do tipo inteiro, outra do tipo texto variado, outra do tipo data e a ultima para o booleano.</li></ul><ul id="1c73ef03-e072-4480-9bf3-3201f31ea4fd" class="bulleted-list"><li style="list-style-type:disc">Depois podemos executar e do lado podemos ver a tabela, caso não apareça de um reflesh, na tabela podemos ver as colunas, chaves e outras informações</li></ul><ul id="f456e016-ad46-44ff-a586-3e5e3e069982" class="toggle"><li><details open=""><summary>Diferença entre CHAR, VARCHAR, NVACHAR</summary><p id="3ec20179-8a26-45f2-9c4f-a1aa7d60aff3" class="">A escolha entre <code>CHAR</code>, <code>VARCHAR</code> e <code>NVARCHAR</code> em SQL Server depende das necessidades específicas de armazenamento de dados, especialmente em relação ao tipo de dados (caracteres padrão ou Unicode) e ao comprimento esperado dos dados. Aqui estão as principais diferenças entre esses tipos de dados:</p><ol type="1" id="69cd5b98-0486-4fe6-a943-03b34aa8e490" class="numbered-list" start="1"><li><strong>CHAR (Character)</strong><ul id="a3a3c5b1-704b-4740-8e2c-2fa4edf388b4" class="bulleted-list"><li style="list-style-type:disc">Armazena strings de tamanho fixo.</li></ul><ul id="6b2e9ed4-5a89-46b3-a660-83eb2d1af45b" class="bulleted-list"><li style="list-style-type:disc">Se o tamanho do dado inserido for menor que o tamanho definido, o SQL Server preencherá os espaços restantes com espaços em branco.</li></ul><ul id="a6fb2de4-b393-438a-858f-55b01b021f63" class="bulleted-list"><li style="list-style-type:disc">É mais eficiente em termos de desempenho quando os dados a serem armazenados são consistentemente próximos do tamanho fixo definido.</li></ul><ul id="1f31bb83-5e0a-4886-8ce8-cd55a8312b80" class="bulleted-list"><li style="list-style-type:disc">Exemplo de uso: <code>CHAR(10)</code> sempre armazenará strings de 10 caracteres, preenchendo com espaços se necessário.</li></ul></li></ol><ol type="1" id="655145e9-ef94-4ade-9d67-de291279a3d9" class="numbered-list" start="2"><li><strong>VARCHAR (Variable Character)</strong><ul id="586866c4-2afb-46e9-86c9-50758b69a052" class="bulleted-list"><li style="list-style-type:disc">Armazena strings de tamanho variável.</li></ul><ul id="05b731c4-c8a2-45b5-9731-0c8c3bcc275e" class="bulleted-list"><li style="list-style-type:disc">Economiza espaço armazenando apenas os caracteres inseridos, sem preencher o restante do espaço até o tamanho máximo definido.</li></ul><ul id="2dec7525-96b2-4ec5-baec-827bd8d863c8" class="bulleted-list"><li style="list-style-type:disc">Ideal para dados de texto onde o comprimento varia significativamente.</li></ul><ul id="4ab2c10f-b76b-46fa-896d-ec8a83318f6f" class="bulleted-list"><li style="list-style-type:disc">Exemplo de uso: <code>VARCHAR(100)</code> pode armazenar até 100 caracteres, mas se você inserir uma string de 50 caracteres, apenas 50 caracteres serão armazenados, economizando espaço.</li></ul></li></ol><ol type="1" id="94b760ba-79bd-4839-9fe3-c77880199fab" class="numbered-list" start="3"><li><strong>NVARCHAR (National Variable Character)</strong><ul id="d60323c7-b23a-4ff8-b478-c84d5a4c50fc" class="bulleted-list"><li style="list-style-type:disc">Similar ao <code>VARCHAR</code>, mas projetado para armazenar dados Unicode.</li></ul><ul id="2a834518-6d64-4746-934b-0c3600db3e9d" class="bulleted-list"><li style="list-style-type:disc">É essencial quando você precisa armazenar caracteres de idiomas múltiplos ou caracteres especiais que não estão presentes no conjunto de caracteres ASCII.</li></ul><ul id="529222c5-9ab2-4848-8c89-3dae025067e7" class="bulleted-list"><li style="list-style-type:disc">Ocupa mais espaço que o <code>VARCHAR</code>, pois usa 2 bytes por caractere para suportar o padrão Unicode.</li></ul><ul id="18215371-e1b2-47e2-b823-cbdfcc37f075" class="bulleted-list"><li style="list-style-type:disc">Exemplo de uso: <code>NVARCHAR(100)</code> pode armazenar até 100 caracteres Unicode.</li></ul></li></ol><p id="43ab6eca-ffcd-44d8-8021-8aba746165a7" class=""><strong>Considerações Adicionais</strong>:</p><ul id="03a57f33-63f1-4134-b1a9-d3452c9555f4" class="bulleted-list"><li style="list-style-type:disc">A escolha entre <code>CHAR</code> e <code>VARCHAR</code> geralmente se resume ao comprimento consistente dos dados. Se os dados são de um tamanho fixo, <code>CHAR</code> é uma escolha eficiente. Caso contrário, <code>VARCHAR</code> é mais apropriado.</li></ul><ul id="a0b26e48-788d-417c-8d28-fad67fdc2e77" class="bulleted-list"><li style="list-style-type:disc"><code>NVARCHAR</code> é a melhor escolha para dados que incluem ou podem incluir caracteres Unicode, como textos em idiomas diferentes do inglês, emojis ou símbolos especiais.</li></ul><ul id="85630199-1b9a-46ff-8b8c-0b3d9db62ecc" class="bulleted-list"><li style="list-style-type:disc">Em termos de desempenho, <code>CHAR</code> pode ser ligeiramente mais rápido que <code>VARCHAR</code> para leituras, devido ao tamanho fixo que simplifica cálculos de localização. No entanto, <code>VARCHAR</code> é mais eficiente em termos de armazenamento para dados de comprimento variável.</li></ul><ul id="9e442f54-3072-4682-b078-dcb232a6e64e" class="bulleted-list"><li style="list-style-type:disc">A escolha entre <code>VARCHAR</code> e <code>NVARCHAR</code> também pode depender de considerações sobre a internacionalização da aplicação e a necessidade de suportar múltiplos idiomas.</li></ul></details></li></ul></details></li></ul><ul id="7b077121-2ddb-4eca-99da-f7a9abb1290b" class="toggle"><li><details open=""><summary>Alter/Drop Table</summary><p id="fe11b054-14b9-455a-a377-92ded9c9b16e" class="">ALTER TABLE</p><ul id="4dbb92fe-e578-405a-8774-41715549fd0a" class="bulleted-list"><li style="list-style-type:disc">Esse comando serve para atualizar uma tabela, quais informações da tabela.</li></ul><ul id="e46f2567-d549-4c02-93c0-19ba839db758" class="bulleted-list"><li style="list-style-type:disc">Esse comando pode ser simples de se executar, ou não, quando a tabela está populada com dados, podemos perder os dados e haver outras anormalias.</li></ul><ul id="42eb976c-c882-4048-9597-aa4be7e24a5d" class="bulleted-list"><li style="list-style-type:disc">Temos vários subcomandos aqui</li></ul><ul id="0264ac61-62d2-4fe3-901e-59faff5d311f" class="bulleted-list"><li style="list-style-type:disc">Adicionar colunas<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="03b3f77d-3e30-47e4-aa73-a404b4de75b9" class="code"><code class="language-SQL">ALTER TABLE [nome_tabela]
	ADD [nome_coluna] tipo


ALTER TABLE [Aluno]
	ADD [Documento] NVARCHAR(160)</code></pre><ul id="2f531b04-0571-4662-a1b0-3ffe57869a54" class="bulleted-list"><li style="list-style-type:circle">Aqui usamos o ADD para adicionar uma coluna</li></ul></li></ul><ul id="f205f34f-56b2-4906-8ee0-f163ba420190" class="bulleted-list"><li style="list-style-type:disc">Remover coluna<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d81ace7b-a1bf-4c91-bbdc-8c17d4606c84" class="code"><code class="language-SQL">ALTER TABLE [nome_tabela]
	DROP COLUMN [nome_coluna]

ALTER TABLE [Aluno]
	DROP COLUMN [Documento]</code></pre><ul id="336a9f1a-1f69-476f-a3ce-1fcf12c91b31" class="bulleted-list"><li style="list-style-type:circle">Aqui usamos o DROP COLUMN para remover uma coluna</li></ul><ul id="2f491078-6ff1-401d-87ba-562206d08727" class="bulleted-list"><li style="list-style-type:circle">Se a coluna estiver com dados, podemos perde-lo, por isso é importante fazer um backup dos dados.</li></ul></li></ul><ul id="c5bc4cb0-62f1-4056-99f2-685a7faf4e31" class="bulleted-list"><li style="list-style-type:disc">Alterando o tipo de uma coluna ou outras informações adicionais<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0053b19f-e444-493d-99c0-37ed60a09a7c" class="code"><code class="language-SQL">ALTER TABLE [nome_tabela]
	ALTER COLUMN [nome_coluna] tipo

ALTER TABLE [Aluno]
	ALTER COLUMN [Documento] CHAR(11)</code></pre></li></ul><ul id="2ac66803-43f6-4993-98ad-84f93e6c77b5" class="bulleted-list"><li style="list-style-type:disc">Lembrando que esses tipos de alterações podem afetar drasticamente o nosso banco de dados, então os comandos devem ser executados com cautela quando a tabela está populada.</li></ul><p id="e90b2d41-83c6-42b5-a0ea-f109cfdc905a" class=""> DROP TABLE</p><ul id="a7c2b88f-4f20-4e7f-b121-68a5a4c96005" class="bulleted-list"><li style="list-style-type:disc">Serve para deletar a tabela<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="24c326d4-3a31-4c79-a4e4-a9a387dc9c1f" class="code"><code class="language-SQL">DROP TABLE [nome_tabela]

DROP TABLE [Aluno]</code></pre><ul id="f76a3c29-8595-4eba-8f93-8007117d06ec" class="bulleted-list"><li style="list-style-type:circle">Aqui podemos perder dados também, então deve ser tomar cautela.</li></ul></li></ul></details></li></ul><ul id="e3257c23-4e81-447f-baae-4fd0064529b5" class="toggle"><li><details open=""><summary>Constraints - Not Null</summary><ul id="2a1d506b-f907-44a2-9dbe-e10c1dd18f92" class="bulleted-list"><li style="list-style-type:disc">Ao criar as colunas podemos adicionar limitações para ela e regras, do jeito anterior ele deixa como nullable, permitindo os valores null nas colunas. Dependendo da regra de negócio os dados devem ser obrigatórios.</li></ul><ul id="712b842f-b2bb-4f8b-bcfe-7ea651daeb91" class="bulleted-list"><li style="list-style-type:disc">Essas restrições também são conhecidas  como constraints</li></ul><p id="aa066f95-25a0-465c-9521-6948a2e28438" class="">DEFININDO CAMPO COMO NÚLAVEL OU NÃO</p><ul id="f89754f2-1642-4d43-9cd3-121dc6abbae7" class="bulleted-list"><li style="list-style-type:disc">Se não passarmos essa informação, o padrão é permitir os nulos.</li></ul><ul id="53124cc1-1e1f-4f94-8a55-2f4f036249b5" class="bulleted-list"><li style="list-style-type:disc">Uma boa prática é definir se é nulo ou não.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="452b76e9-982e-4ad5-9ef9-3b3a61e2a691" class="code"><code class="language-SQL">CREATE TABLE [Aluno](
		[Id] INT NOT NULL,
		[Nome] NVARCHAR(160) NOT NULL,
    [Nascimento] DATETIME NULL,
    [Active] bit  NOT NULL,
)</code></pre><ul id="eca31ae1-1969-41ba-bafe-ca53d7b9fc72" class="bulleted-list"><li style="list-style-type:circle">Aqui na nossa tabela de exemplo podemos colocar depois o NULL para nuláveis ou NOT NULL para não nuláveis</li></ul></li></ul><ul id="95834bd1-1410-4e3a-865e-28dfec3d41f2" class="bulleted-list"><li style="list-style-type:disc">Para fazer uma alteração se é nulável ou não depois de criado a tabela, podemos fazer da seguinte forma.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="89e3e20e-b887-48a7-bded-8747d969a5a6" class="code"><code class="language-SQL">ALTER TABLE [Aluno]
	ALTER COLUMN [Active] BIT NOT NULL</code></pre><ul id="98f7ae7d-87fe-490f-a8a7-5f5780556fdf" class="bulleted-list"><li style="list-style-type:circle">Aqui reescrevemos a coluna toda, no caso precisa está na ordem, o tipo se mantém o mesmo normalmente nesse caso de exemplo.</li></ul><ul id="f2242619-8b59-482e-8a4b-8dd519807c04" class="bulleted-list"><li style="list-style-type:circle">Podemos ter um problema aqui caso a coluna tenha valores null por exemplo, ela não conseguir converter o valor null para o tipo da coluna, tendo um valor.</li></ul></li></ul><p id="ea0cfb81-b04f-4fed-88f6-5145b967bbac" class="">DEFAULT<div class="indented"><ul id="2b4bf02f-031f-4fa7-9466-71ebb3631d3b" class="bulleted-list"><li style="list-style-type:disc">Esse comando especifica um valor padrão para a coluna<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="85f43bef-0d8e-4b9b-9051-fa6b8db2eaf5" class="code"><code class="language-SQL">CREATE TABLE [Aluno](
		[Id] INT NOT NULL DEFAULT(1),
		[Nome] NVARCHAR(160) NOT NULL DEFAULT(&#x27;Teste&#x27;),
    [Nascimento] DATETIME NOT NULL DEFAULT(GETDATE()),
    [Active] bit  NOT NULL DEFAULT(0),
)</code></pre><ul id="5efb7ab8-2018-4c0d-8514-c7f424e92195" class="bulleted-list"><li style="list-style-type:circle">Dentro o parênteses passamos o valor, as string são entre aspas simples</li></ul><ul id="3321e236-5b47-48b9-9265-8a9738c526fc" class="bulleted-list"><li style="list-style-type:circle">Não vale a pena fazer um default e deixar a coluna como null, pois não faz sentido.</li></ul></li></ul></div></p><p id="a335c871-2220-4e99-a262-ad914a9a89eb" class="">GETDATE()<div class="indented"><ul id="58580ce2-4614-407c-aa4d-bea2ac3e9bc5" class="bulleted-list"><li style="list-style-type:disc">Serve para retornar a data atual do sistema</li></ul><ul id="86a358e0-6a4e-4a2e-b36a-645a10570ad7" class="toggle"><li><details open=""><summary>Mais detalhes</summary><p id="bbebbc9f-70b6-4140-b0b8-a9a907ed1481" class=""><code>GETDATE()</code> é uma função no SQL Server que retorna a data e hora atuais do sistema em que a instância do SQL Server está sendo executada. Ela retorna um valor do tipo <code>DATETIME</code>, que inclui tanto a data quanto a hora com a precisão de frações de segundo. Esta função é amplamente utilizada para registrar o momento exato em que uma determinada operação ou transação ocorre no banco de dados.</p><p id="a8c0689f-252b-4290-9ebb-3613af13ebe0" class="">Aqui estão alguns detalhes e exemplos de como <code>GETDATE()</code> pode ser usada:</p><ol type="1" id="7f59926f-6855-4d8b-82c7-725f18a48468" class="numbered-list" start="1"><li><strong>Retornando a Data e Hora Atuais</strong>:<ul id="0c33f98d-ac37-46c6-a99e-54239b4052c7" class="bulleted-list"><li style="list-style-type:disc">Simplesmente chamar <code>GETDATE()</code> retornará a data e hora atuais. Por exemplo:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="70fa5216-94f7-4aa7-b34b-7add0c9d26ff" class="code code-wrap"><code class="language-SQL">SELECT GETDATE();
</code></pre></li></ul><ul id="10ec157a-be92-4d8e-8b43-20eeb493383e" class="bulleted-list"><li style="list-style-type:disc">Isso pode retornar um valor como <code>2024-01-01 12:34:56.789</code>.</li></ul></li></ol><ol type="1" id="58d2bf5a-1358-463d-874b-3ef2051042ce" class="numbered-list" start="2"><li><strong>Usando em Colunas de Tabelas</strong>:<ul id="0b226472-8127-42b8-a44b-1d2ecba4c656" class="bulleted-list"><li style="list-style-type:disc"><code>GETDATE()</code> é frequentemente usada em colunas de tabelas para registrar automaticamente quando um registro foi criado ou atualizado. Por exemplo, ao criar uma nova tabela:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f0294807-1971-415e-a908-bd54e3d7ad68" class="code code-wrap"><code class="language-SQL">CREATE TABLE MinhaTabela (
    ID INT PRIMARY KEY,
    Nome NVARCHAR(100),
    DataCriacao DATETIME DEFAULT GETDATE()
);
</code></pre></li></ul><ul id="03c9ea85-2282-42ee-8d3b-f2d0ad0f0b31" class="bulleted-list"><li style="list-style-type:disc">Aqui, sempre que um novo registro é inserido, a coluna <code>DataCriacao</code> automaticamente recebe a data e hora atuais.</li></ul></li></ol><ol type="1" id="6cb614d7-2bbf-4c1d-8d92-e3c2b01c8a7b" class="numbered-list" start="3"><li><strong>Comparação com Datas</strong>:<ul id="f57ee7db-cb07-41a4-824f-fd05b09d1b2a" class="bulleted-list"><li style="list-style-type:disc"><code>GETDATE()</code> pode ser usada para comparar datas, como encontrar registros mais antigos ou mais recentes do que a data/hora atual. Por exemplo:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="99a9f72a-41d1-4b4b-89b1-e5e12cbef60e" class="code code-wrap"><code class="language-SQL">SELECT * FROM MinhaTabela WHERE DataCriacao &gt; GETDATE();
</code></pre></li></ul></li></ol><ol type="1" id="fc23c2b2-4f25-4ae6-bbe3-92ee1a3497ae" class="numbered-list" start="4"><li><strong>Cálculos com Datas</strong>:<ul id="332be7a6-0a76-4f10-b718-e71876b23220" class="bulleted-list"><li style="list-style-type:disc">Você pode realizar cálculos de data/hora usando <code>GETDATE()</code>, como encontrar a diferença de dias a partir da data atual. Por exemplo:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c599388c-ad35-4b55-be77-4d550305f026" class="code code-wrap"><code class="language-SQL">SELECT DATEDIFF(day, DataCriacao, GETDATE()) AS DiasDesdeCriacao FROM MinhaTabela;
</code></pre></li></ul></li></ol><p id="1412f56f-8aa9-42f7-8049-1b4ba65f08e3" class=""><strong>Considerações Importantes</strong>:</p><ul id="cf148c3f-2855-4854-af9c-db9d77e4feb9" class="bulleted-list"><li style="list-style-type:disc">A função <code>GETDATE()</code> retorna a data e hora do sistema no qual o SQL Server está rodando. Portanto, se o servidor estiver em um fuso horário diferente ou suas configurações de hora estiverem incorretas, isso se refletirá no valor retornado.</li></ul><ul id="b17b9b61-35b6-497b-b088-30d50d8634e5" class="bulleted-list"><li style="list-style-type:disc"><code>GETDATE()</code> não aceita argumentos.</li></ul><ul id="717b21e0-d6c6-4dee-8500-e421417ce44b" class="bulleted-list"><li style="list-style-type:disc">Para precisão de tempo somente, você pode usar <code>SYSDATETIME()</code>, que retorna a data e hora com mais precisão de frações de segundo do que <code>GETDATE()</code>.</li></ul><ul id="ee6d5803-133d-42d5-b7cb-ad4da07565b3" class="bulleted-list"><li style="list-style-type:disc">Se você precisar apenas da data sem a hora, você pode usar <code>CONVERT(DATE, GETDATE())</code> para extrair apenas a parte da data.</li></ul></details></li></ul></div></p></details></li></ul><ul id="67dc584f-d98e-40b2-a9d9-f29e5992b6d3" class="toggle"><li><details open=""><summary>Constraints - Unique</summary><p id="fc5fc883-bbbc-43fd-9d51-fc76db32624e" class="">UNIQUE</p><ul id="0d31a5e7-3652-4358-bbca-658051fcc6e0" class="bulleted-list"><li style="list-style-type:disc">Essas constraint faz com que uma coluna não repita valores<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c7705cc1-8b56-4587-a256-fe2494d9a297" class="code"><code class="language-SQL">CREATE TABLE [Aluno](
  [Id] INT NOT NULL UNIQUE,
	[Nome] NVARCHAR(160) NOT NULL,
	[EMAIL] NVARCHAR(160) NOT NULL UNIQUE,
  [Nascimento] DATETIME NOT NULL DEFAULT(GETDATE()),
  [Active] bit  NOT NULL DEFAULT(0),
)</code></pre><ul id="26429d4b-60e5-4ace-a65e-acf0030f1ac3" class="bulleted-list"><li style="list-style-type:circle">Usamos o unique muito em id ou chaves para não se repetir ou email por exemplo não ter duplicação.</li></ul><ul id="ffa23dd2-acba-48e4-8de8-0ed1d074bc2c" class="bulleted-list"><li style="list-style-type:circle">Outro Fato importante é que devemos tomar cuidado ao alterar esses parâmetros também, podemos ter sérios problema quando a tabela estiver populada.</li></ul></li></ul></details></li></ul><ul id="1e2b5468-fbdb-46ed-9701-e7ac626afeb7" class="toggle"><li><details open=""><summary>Primary Key</summary><ul id="df9257a6-4e27-488f-a1f3-c16e5a7de707" class="bulleted-list"><li style="list-style-type:disc">Dentro de uma tabela, geralmente temos um campo que representa o Id , um identificador único e não nulo.</li></ul><ul id="2eb4cec2-29e9-4323-9ab7-98de8a61a344" class="bulleted-list"><li style="list-style-type:disc">Temos uma configuração para definir o campo um uma primary key, automáticamente ele vira unique e not null.<p id="a8c75758-db90-40d7-94d0-21fffabf2b38" class="">PRIMARY KEY</p><ul id="8d5446a8-413a-4f7c-9c87-16e54fdc02b3" class="bulleted-list"><li style="list-style-type:circle">Define um campo como chave primária, ajuda na identificação do registro, indices e outros<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a2be6617-1bee-4a8b-8334-583a2efe3ae6" class="code"><code class="language-SQL">CREATE TABLE [Aluno](
    [Id] INT NOT NULL ,
    [Nome] NVARCHAR(160) NOT NULL,
    [Email] NVARCHAR(160) NOT NULL UNIQUE,
    [Nascimento] DATETIME NOT NULL DEFAULT(GETDATE()),
    [Active] bit  NOT NULL DEFAULT(0),
		PRIMARY KEY([Id]) 
)</code></pre><ul id="c0b5a729-7532-4542-a76e-441749eb4fb7" class="bulleted-list"><li style="list-style-type:square">Para definir a primary key, faremos abaixo</li></ul><ul id="4ddb2619-e309-4df7-8b0b-b5e052e9170b" class="bulleted-list"><li style="list-style-type:square">Uma definido o campo, podemos remover o not null e o unique do campo Id, por boas práticas vamos manter o not null, para ficar visível.</li></ul></li></ul><ul id="3e9f91b7-e5c7-4da9-af0d-921b27a51c98" class="bulleted-list"><li style="list-style-type:circle">Podemos definir uma chave composta por dois ou mais campos<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="26a803c0-9741-4df1-bf65-50d9c67d74b4" class="code"><code class="language-SQL">CREATE TABLE [Aluno](
    [Id] INT NOT NULL ,
    [Nome] NVARCHAR(160) NOT NULL,
    [Email] NVARCHAR(160) NOT NULL UNIQUE,
    [Nascimento] DATETIME NOT NULL DEFAULT(GETDATE()),
    [Active] bit  NOT NULL DEFAULT(0),
		PRIMARY KEY([Id],[Email]) -- Chave composta
)</code></pre><ul id="5c4471e9-b8b8-4929-b3bc-5bd1d0a87733" class="bulleted-list"><li style="list-style-type:square">Muito usado num contexto de tabelas associativas. Ele impede que os a junção dos dois se repita</li></ul></li></ul><ul id="6685917f-f2d7-4148-b588-9e0e2401a9ce" class="bulleted-list"><li style="list-style-type:circle">Para aplicar uma alteração da primary key, podemos fazer da seguinte forma.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="67bbe811-3fb4-439e-9211-10ca2f05612a" class="code"><code class="language-SQL">ALTER TABLE [Aluno]
	ADD PRIMARY KEY([Id])</code></pre><ul id="7e32f15b-6bf4-4130-aa93-5eee54953c24" class="bulleted-list"><li style="list-style-type:square">Caso já exista ela dar um erro</li></ul></li></ul><ul id="b75af748-d9d7-49c8-9271-6dda49cf59da" class="bulleted-list"><li style="list-style-type:circle">Para remover a primary precisamos saber o nome dela e dropa-lá. Porém se criado da forma acima, ela gera um nome aleatório. </li></ul><ul id="50433fc5-e357-4d15-80e2-569322312a3a" class="bulleted-list"><li style="list-style-type:circle">Podemos gerar um nome da seguinte forma<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2c4489bc-c040-4776-9ab8-62dc50dc3784" class="code"><code class="language-SQL">CREATE TABLE [Aluno](
    [Id] INT NOT NULL ,
    [Nome] NVARCHAR(160) NOT NULL,
    [Email] NVARCHAR(160) NOT NULL UNIQUE,
    [Nascimento] DATETIME NOT NULL DEFAULT(GETDATE()),
    [Active] bit  NOT NULL DEFAULT(0),
		CONSTRAINT [PK_Aluno] PRIMARY KEY([Id]) -- Chave composta
)</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6cd0eff0-717a-4038-8863-9f5d0467144c" class="code"><code class="language-SQL">ALTER TABLE [Aluno]
	ADD CONSTRAINT [PK_Aluno] PRIMARY KEY([Id])</code></pre><ul id="7aa33f7a-ad26-4f11-aea7-eb8ef0897072" class="bulleted-list"><li style="list-style-type:square">Adicionamos CONSTRAINT [NOME_PRIMARY_KEY] na frente para selecionar o nome do da PK.</li></ul></li></ul><ul id="67b8ad75-99c6-4474-8de8-68aed6fe9885" class="bulleted-list"><li style="list-style-type:circle">Removendo uma primary key<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="bb70fa7d-6236-40d5-abcf-6e6b62e4602b" class="code"><code class="language-SQL">ALTER TABLE [Aluno]
	DROP CONSTRAINT [PK_Aluno]</code></pre></li></ul><p id="0f409d87-9e13-4377-89e5-7f71333f9b3e" class="">CONSTRAINT<div class="indented"><ul id="2beeab16-edea-47de-951f-10ea8c56fdc2" class="bulleted-list"><li style="list-style-type:disc">Podemos adicionar nomes aos nossos uniques, ela serve para essa modificação<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="11086eb6-3bc3-42cb-9637-40d4d820bee8" class="code"><code class="language-SQL">CREATE TABLE [Aluno](
    [Id] INT NOT NULL ,
    [Nome] NVARCHAR(160) NOT NULL,
    [Email] NVARCHAR(160) NOT NULL UNIQUE,
    [Nascimento] DATETIME NOT NULL DEFAULT(GETDATE()),
    [Active] bit  NOT NULL DEFAULT(0),
		CONSTRAINT [PK_Aluno] PRIMARY KEY([Id]),
		CONSTRAINT [UQ_ALUNO_EMAIL] UNIQUE([Email]) -- Adicionando nome a nossa unique
)</code></pre></li></ul><ul id="48b83317-5135-44a8-8bc3-52d7c489ed7b" class="bulleted-list"><li style="list-style-type:disc">Alterando também<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="75ddf177-48bb-4603-b3ec-5afb4a57ec70" class="code"><code class="language-SQL">ALTER TABLE [Aluno]
	ADD CONSTRAINT [UQ_ALUNO_EMAIL] UNIQUE([EMAIL])</code></pre></li></ul><ul id="3dd6d5e8-aeab-45a6-ac37-dae811694b31" class="bulleted-list"><li style="list-style-type:disc">Dropando pelo nome<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="681e6158-06ec-4be3-8ea3-d866bcbaf3bf" class="code"><code class="language-SQL">ALTER TABLE [Aluno]
	DROP CONSTRAINT [UQ_ALUNO_EMAIL]</code></pre></li></ul></div></p></li></ul></details></li></ul><ul id="a2054a52-624f-42be-ad0e-2dedcaf6d86e" class="toggle"><li><details open=""><summary>Composite Key</summary><p id="45184918-8019-44f0-a844-9941ebf505d3" class="">COMPOSITE KEY</p><ul id="118137b3-78b2-468b-a88e-04521cde3b22" class="bulleted-list"><li style="list-style-type:disc">Para explicar esse ponto vamos primeiro construir umas tabelas e fazer um relacionamento entre elas</li></ul><ul id="9d1e6623-acb6-4a62-93cc-1d35e280e593" class="bulleted-list"><li style="list-style-type:disc">Tabela Aluno<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6e5ce70a-ae06-41f9-a785-f5b1149808e0" class="code"><code class="language-SQL">CREATE TABLE [Aluno](
    [Id] INT NOT NULL ,
    [Nome] NVARCHAR(160) NOT NULL,
    [Email] NVARCHAR(160) NOT NULL,
    [Nascimento] DATETIME NOT NULL DEFAULT(GETDATE()),
    [Active] bit  NOT NULL DEFAULT(0),
    CONSTRAINT [PK_Aluno] PRIMARY KEY([Id]),
    CONSTRAINT [UQ_ALUNO_EMAIl] UNIQUE([Email]), -- Adicionando nome a nossa unique
)</code></pre></li></ul><ul id="6b26ff44-58cf-4f5f-8a90-248bc48d12de" class="bulleted-list"><li style="list-style-type:disc">Tabela Curso<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="91936744-173a-4047-9698-ee665043d9e4" class="code"><code class="language-SQL">CREATE TABLE [Curso](
    [Id] INT NOT NULL ,
    [Nome] NVARCHAR(160) NOT NULL,
    CONSTRAINT [PK_Curso] PRIMARY KEY([Id])
)</code></pre></li></ul><ul id="824ae5b5-aee1-45e0-aa82-f8d84911aadd" class="bulleted-list"><li style="list-style-type:disc">Tabela  Curso x Aluno<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="47467d18-53d4-457b-8963-185c7d071fdc" class="code"><code class="language-SQL">CREATE TABLE [ProgressoCurso](
    [AlunoId] INT NOT NULL ,
    [CursoId] INT NOT NULL ,
    [Progresso] INT NOT NULL,
    [UltimaAtualizacao] DATETIME NOT NULL DEFAULT(GETDATE()),
    CONSTRAINT [PK_Progresso_Curso] PRIMARY KEY([AlunoId],[CursoId])
)</code></pre><ul id="1119e670-e162-47fb-9316-caa72ae61469" class="bulleted-list"><li style="list-style-type:circle">Nessa tabela podemos ver um exemplo de chave composta, a coluna AlunoId e CursoId são agora uma primary key composta. Nunca vai existir um aluno e curso juntos repetidos nessa tabela.</li></ul><ul id="9fe19f0e-15b6-42fd-b659-f3abf4e917eb" class="bulleted-list"><li style="list-style-type:circle">Assim temos uma relação de muitos para muitos</li></ul></li></ul><p id="71d2007a-289d-4bbb-8cc2-76f80e8fdfdf" class="">FOREIGH KEY</p><ul id="b610f643-bd1b-4aec-a324-3348d63b139f" class="bulleted-list"><li style="list-style-type:disc">Agora vamos criar mais uma tabela e relacionar ela com curso<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9c9b1fbe-86e0-4828-bb02-479dd39bb09f" class="code"><code class="language-SQL">CREATE TABLE [Categoria](
    [Id] INT NOT NULL ,
    [Nome] NVARCHAR(160) NOT NULL,
    CONSTRAINT [PK_Categoria] PRIMARY KEY([Id])
)</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8c04200a-ee67-410b-a7ae-6b0f9f919246" class="code"><code class="language-SQL">CREATE TABLE [Curso](
    [Id] INT NOT NULL ,
    [Nome] NVARCHAR(160) NOT NULL,
    [CategoriaId] INT NOT NULL ,

    CONSTRAINT [PK_Curso] PRIMARY KEY([Id]),
    CONSTRAINT [Fk_Categoria] FOREIGN KEY([CategoriaId]) -- chave estrangeira
			REFERENCES [Categoria]([Id])
)</code></pre></li></ul><ul id="7a2323bf-c27a-4d46-8746-ec1d08085715" class="bulleted-list"><li style="list-style-type:disc">Aqui temos um exemplo de como fazer chave estrangeira para uma relacionamento 1 para muitos. <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6da7d27b-7812-4024-8b8b-2ab6ac43dab7" class="code"><code class="language-SQL"> CONSTRAINT [nome_chave] FOREIGN KEY([campo_tabela_atual])
					REFERENCES [tabela_estrangeira]([campo_tabela_estrangeira])</code></pre><ul id="5da99df5-ce09-4e22-bc48-a19ff5e291b9" class="bulleted-list"><li style="list-style-type:circle">Os campos de referencias devem ser do mesmo tipo </li></ul><ul id="53b903e3-ea63-4dcc-8497-63c35477005a" class="bulleted-list"><li style="list-style-type:circle">Podemos usar qualquer campo como chave estrangeira, desde que seje do mesmo tipo.</li></ul><ul id="d5e5eeb2-68a6-4e4e-8f73-ea9d42e45781" class="bulleted-list"><li style="list-style-type:circle">Caso não passe o nome da chave ele cria um nome aleatório</li></ul></li></ul><ul id="0bc1645c-4e60-4b05-957e-ab9da214a166" class="bulleted-list"><li style="list-style-type:disc">Temos uma padrão comum de usar as inicias PK para chave primária e FK para chaves estrangeiras</li></ul><ul id="d236c884-2e15-4220-9c0b-2deac4afacea" class="bulleted-list"><li style="list-style-type:disc">Lembrando que deve criar as tabelas em ordem, e ao remover deve deletar as chaves, se não o SGBD pode bloquear. Ou mesmo podemos perder as referencias.</li></ul></details></li></ul><ul id="f48d7b2e-1c79-464d-a9d1-fe2ffbd1c982" class="toggle"><li><details open=""><summary>Índices</summary><ul id="f85e99a6-0619-4dae-bc9b-1fcc2cfca55d" class="bulleted-list"><li style="list-style-type:disc">Dentro de alguns SGBDs temos os índices, eles servem para organizar melhor os dados e facilitar a pesquisa do banco de dados isso é algo interno do banco</li></ul><ul id="aaeddeaf-86b9-4110-b556-de8bb67221ed" class="bulleted-list"><li style="list-style-type:disc">Podemos criar o Índices como base em campos que são muitos pesquisado.</li></ul><ul id="b8202439-94e3-4d0f-bec4-c2e98521d04a" class="bulleted-list"><li style="list-style-type:disc">Possui melhoria significativa no selects e pode afetar um pouco no insertes</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5fc275a9-c8be-429f-9bec-7ae5588cb02a" class="code"><code class="language-SQL">CREATE INDEX [nome_index] ON [nome_tabela]([nome_coluna])

CREATE INDEX [IX_Aluno_Email] ON [Aluno]([Email])</code></pre><ul id="d80a03d2-69b6-4cfb-ad35-5da553127edc" class="bulleted-list"><li style="list-style-type:disc">Podemos ver os indexes criados dentro da pasta índices da nossa tabela</li></ul><ul id="3b990456-adee-492f-96f4-ab8c9b5b9edb" class="bulleted-list"><li style="list-style-type:disc">Campos com UNIQUE ela já cria indexes. Porém com nome aleatório</li></ul><ul id="75e94433-9feb-4d1d-b13b-48d8f5151af0" class="bulleted-list"><li style="list-style-type:disc">Não fique criando vários index sem necessidade, isso pode prejudicar a forma que o sgbd trabalha</li></ul><ul id="8a5a5750-62a3-41d7-8b51-24ba9fe3cf7e" class="bulleted-list"><li style="list-style-type:disc">Algumas ferramentas SGBD, criam relatórios de campos que mais são usados.</li></ul><ul id="2353070f-a0b2-4668-84e6-2a42a03ae5ed" class="bulleted-list"><li style="list-style-type:disc">Para Dropar um index podemos fazer da seguinte forma<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9825186c-0e32-4b06-b3fa-aec9eecc771c" class="code"><code class="language-SQL">DROP INDEX [nome_index] ON [nome_tabela]

DROP INDEX [IX_Aluno_Email] ON [Aluno]</code></pre></li></ul><ul id="83280000-d21a-4fd9-9a22-9f5407cf8516" class="bulleted-list"><li style="list-style-type:disc">Para nomes de indexes, podemos usar o pre-fixo IX</li></ul></details></li></ul><ul id="34d27554-9849-43ce-b654-ceecb44fe48e" class="toggle"><li><details open=""><summary>Identity</summary><p id="c830360e-f5cd-43f0-aa6c-ebf27450b376" class="">Uma coluna de identidade é uma coluna em uma tabela de banco de dados que consiste em valores gerados automaticamente pelo banco de dados. Esse tipo de coluna é comumente usado para chaves primárias. Cada novo valor é gerado com base em um valor inicial (seed) e um incremento. Aqui está uma visão geral de como funciona:</p><ol type="1" id="571a9ec0-6d1d-4f96-b785-744c1089da19" class="numbered-list" start="1"><li><em>Seed (Valor Inicial)</em>: Este é o valor usado para o primeiro registro na tabela. É o ponto de partida para a coluna de identidade.</li></ol><ol type="1" id="f45047d0-1f2f-43a1-ac6e-158ce55c944c" class="numbered-list" start="2"><li><em>Incremento</em>: Este é o valor pelo qual o valor da identidade é aumentado cada vez que um novo registro é adicionado.</li></ol><p id="1c6269fd-5cd1-4c3f-8615-6d75334242cf" class="">Por exemplo, se você definir uma coluna como IDENTITY(1,1), significa que o primeiro valor será 1 e cada valor subsequente será incrementado em 1. Assim, os valores seriam 1, 2, 3 e assim por diante.</p><p id="2d2a454a-b13d-4d06-aeb0-a554a63ceb84" class="">Veja como você pode criar uma tabela com uma coluna de identidade no SQL Server:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b376ba76-e513-4884-8ae4-501e2c1e8d07" class="code"><code class="language-SQL">CREATE TABLE Funcionarios (
	FuncionarioID int IDENTITY(1,1) PRIMARY KEY,
	PrimeiroNome varchar(255) NOT NULL,
	Sobrenome varchar(255) NOT NULL
);</code></pre><p id="23d376c7-e096-4a2f-82f0-3b567abeb626" class="">Neste exemplo, FuncionarioID é uma coluna de identidade que começa em 1 e incrementa em 1 para cada novo registro.</p><p id="22dcfd07-cee1-4857-9252-75f44627f3e5" class="">É importante notar que, uma vez que uma linha é excluída, seu valor de identidade não é reutilizado pelo sistema. Além disso, em cenários onde você precisa inserir valores específicos em uma coluna de identidade (como durante migrações de dados), você pode usar SET IDENTITY_INSERT NomeDaTabela ON para permitir a inserção de valores explícitos na coluna de identidade. No entanto, essa prática deve ser usada com cautela.</p><p id="904790e7-610d-4bda-91da-f3f39883eede" class="">UNIQUEIDENTIFIER </p><p id="ca5a46d0-6660-4027-afa9-360b0b47a12b" class="">No SQL Server, UNIQUEIDENTIFIER é um tipo de dado que armazena um identificador globalmente único (GUID). Um GUID é um número de 128 bits que pode ser gerado de forma a garantir que seja único em todo o mundo. Por causa de sua singularidade em larga escala, GUIDs são frequentemente usados em bancos de dados para garantir que cada valor em uma coluna seja único, independentemente de onde ou como os dados são gerados.</p><p id="f4409724-b178-47da-a970-3ca13bc641f3" class="">Aqui estão alguns pontos importantes sobre o tipo UNIQUEIDENTIFIER:</p><ol type="1" id="5fc4a688-18a8-4e5c-b935-a55d4b44b1ae" class="numbered-list" start="1"><li><em>Geração de GUID</em>: Os GUIDs podem ser gerados automaticamente pelo SQL Server usando a função NEWID(). Esta função gera um novo GUID aleatório a cada vez que é chamada.</li></ol><ol type="1" id="340edc18-908c-4792-be39-f284963ade4e" class="numbered-list" start="2"><li><em>Uso em tabelas</em>: UNIQUEIDENTIFIER pode ser usado como um tipo de dados para uma coluna em uma tabela, frequentemente utilizada como chave primária. Por exemplo:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="518eb81e-149e-41c8-b14b-9feefb8e1df7" class="code"><code class="language-SQL">
CREATE TABLE Exemplo (
	ChaveUnica UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
	Nome varchar(255)
);</code></pre><p id="1f06b01e-bda0-4e0c-ade7-42e8d80c9342" class="">Neste exemplo, a coluna ChaveUnica terá um valor único para cada linha, gerado automaticamente pelo SQL Server.</p></li></ol><ol type="1" id="b4e2aa1f-e1ba-47aa-97a9-8aa08215dc5e" class="numbered-list" start="3"><li><em>Comparação de desempenho</em>: Embora os GUIDs sejam únicos, eles são maiores em termos de tamanho de armazenamento (16 bytes) em comparação com um inteiro (4 bytes para INT). Isso pode afetar o desempenho, especialmente em tabelas grandes e em operações de junção.</li></ol><ol type="1" id="8302ecc8-518d-4b3a-827a-0268aceac070" class="numbered-list" start="4"><li><em>Ordenação e indexação</em>: Os valores UNIQUEIDENTIFIER não são sequenciais, o que pode resultar em fragmentação de índice se usados como chave primária. Isso pode ser mitigado usando funções que geram GUIDs sequenciais, como NEWSEQUENTIALID().</li></ol><ol type="1" id="a711352a-147b-46ca-840c-bd014e4d3fa6" class="numbered-list" start="5"><li><em>Portabilidade e Interoperabilidade</em>: Devido à sua natureza padrão e globalmente reconhecida, GUIDs são úteis para dados que precisam ser compartilhados entre diferentes sistemas ou bases de dados.</li></ol><p id="3de09d45-1a2b-4cec-9b2a-a5940468a3b6" class="">Em resumo, UNIQUEIDENTIFIER é uma escolha robusta para garantir a unicidade dos dados, mas deve-se considerar o impacto no desempenho e no armazenamento ao optar por usar este tipo de dados em sua base de dados.</p><p id="ab611678-5d39-4527-b227-2458c2f9fe32" class="">Lembrando que UNIQUEIDENTIFIER  é um tipo.</p></details></li></ul><ul id="cbf7f7fd-e0e8-4a1c-90eb-047f67a22190" class="toggle"><li><details open=""><summary>Insert</summary><ul id="ccf78e2a-d66f-44da-9568-e668c46296bb" class="bulleted-list"><li style="list-style-type:disc">Vamos começar criando nossas tabela e banco<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e2d3c2d0-79b7-464b-af60-244793604886" class="code"><code class="language-SQL">CREATE DATABASE [Cursos]
GO

USE [Cursos]
GO

CREATE TABLE [Categoria](
    [Id] INT NOT NULL IDENTITY(1,1),
    [Nome] NVARCHAR(80) NOT NULL, 

    CONSTRAINT [PK_Categoria] PRIMARY KEY([Id]),
)
GO

CREATE TABLE [Curso](
    [Id] INT NOT NULL IDENTITY(1,1),
    [Nome] NVARCHAR(80) NOT NULL, 
    [CategoriaId] INT NOT NULL,

    CONSTRAINT [PK_Curso] PRIMARY KEY([Id]),
    CONSTRAINT [FK_Curso_Categoria] FOREIGN KEY([CategoriaId])
        REFERENCES [Categoria]([Id])
)
GO</code></pre></li></ul><p id="e36f2113-bfb5-4249-8bae-ab83d73fbd4e" class="">INSERT</p><p id="cb9aab3c-f6f2-4514-aef2-5afc5878c60d" class="">O comando <code>INSERT</code> no SQL é usado para adicionar novos registros (linhas) a uma tabela. Vamos examinar seus componentes básicos e como usá-lo:</p><h3 id="85766ae8-0b2f-45a4-a296-c6bc7664ed6f" class="">Sintaxe Básica</h3><ol type="1" id="7f9e013e-0316-441e-b55f-179125b66de4" class="numbered-list" start="1"><li><strong>Sintaxe Simples:</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="95e457e4-26da-4992-98e9-04c31fe78efa" class="code code-wrap"><code class="language-SQL">INSERT INTO nome_da_tabela (coluna1, coluna2, coluna3, ...)
VALUES (valor1, valor2, valor3, ...);
</code></pre><ul id="1a3d526d-396e-410f-b722-40feb282e1b6" class="bulleted-list"><li style="list-style-type:disc"><code>nome_da_tabela</code>: Nome da tabela onde você quer inserir os dados.</li></ul><ul id="3adf0707-3f55-4c7e-a12a-399ef554ecb9" class="bulleted-list"><li style="list-style-type:disc"><code>(coluna1, coluna2, ...)</code>: Nomes das colunas na tabela onde os dados serão inseridos.</li></ul><ul id="fbe2776c-a20e-4597-a625-fc1f38823c90" class="bulleted-list"><li style="list-style-type:disc"><code>VALUES (valor1, valor2, ...)</code>: Valores correspondentes às colunas.</li></ul></li></ol><ol type="1" id="ac3cb54d-5ca5-40a9-bfd6-d627346cd02a" class="numbered-list" start="2"><li><strong>Inserção em Todas as Colunas:</strong><br/>Se você estiver inserindo valores para todas as colunas da tabela, a especificação das colunas é opcional.<br/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="dcd14ed4-bf25-4bd4-a2dd-97870eeac75f" class="code code-wrap"><code class="language-SQL">INSERT INTO nome_da_tabela
VALUES (valor1, valor2, valor3, ...);
</code></pre><p id="0e19ee6d-a9b0-44a1-8d68-8582012570b1" class="">Quando um campo for gerado automático podemos ocultar ele.</p></li></ol><h3 id="ddab6b06-7db5-465b-b051-416242947d0a" class="">Exemplos Práticos</h3><ol type="1" id="9d7c9556-f564-458b-ab64-de5176cc32b2" class="numbered-list" start="1"><li><strong>Inserir em Colunas Específicas:</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="fffcd070-53f5-4007-aeaf-5aaacf64772b" class="code code-wrap"><code class="language-SQL">INSERT INTO Clientes (Nome, Email)
VALUES (&#x27;Maria Silva&#x27;, &#x27;maria.silva@email.com&#x27;);
</code></pre><p id="bb8c28f1-b666-4aee-a845-a574df759812" class="">Aqui, apenas as colunas <code>Nome</code> e <code>Email</code> da tabela <code>Clientes</code> receberão os valores.</p></li></ol><ol type="1" id="eb70527b-9c0f-4bc1-842f-f649b83d8bc8" class="numbered-list" start="2"><li><strong>Inserir em Todas as Colunas:</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="aa819551-6f58-4fce-8207-418974a50c5d" class="code code-wrap"><code class="language-SQL">INSERT INTO Clientes
VALUES (1, &#x27;João Santos&#x27;, &#x27;joao.santos@email.com&#x27;, &#x27;Rua Exemplo, 123&#x27;);
</code></pre><p id="03c09ba0-fe45-4739-ae67-17ebebd223e6" class="">Supondo que a tabela <code>Clientes</code> tenha quatro colunas (ID, Nome, Email, Endereço), este comando inserirá dados em todas elas.</p></li></ol><h3 id="7f6e9318-94f3-417f-bcae-6e8e41c8ed56" class="">Considerações Adicionais</h3><ul id="97772d46-ccc5-48a7-8456-d0b7d8fc516e" class="bulleted-list"><li style="list-style-type:disc"><strong>Tipos de Dados:</strong><br/>Certifique-se de que os tipos de dados dos valores inseridos correspondam aos tipos de dados das colunas.<br/></li></ul><ul id="ebbb4826-6c84-4e4a-9928-1abab8bbde7e" class="bulleted-list"><li style="list-style-type:disc"><strong>Chaves Primárias:</strong><br/>Se uma coluna é uma chave primária, cada valor inserido nesta coluna deve ser único.<br/></li></ul><ul id="df9e422b-4d94-4068-96eb-04e77befd6a0" class="bulleted-list"><li style="list-style-type:disc"><strong>Valores Nulos:</strong><br/>Se uma coluna permite valores nulos (<br/><code>NULL</code>), você pode não fornecer um valor para ela (se estiver listando colunas explicitamente) ou usar a palavra-chave <code>NULL</code> nos valores.</li></ul><ul id="07d2a351-8e65-427a-9479-4632f6e7f161" class="bulleted-list"><li style="list-style-type:disc"><strong>Inserção Múltipla:</strong><br/>É possível inserir várias linhas em um único comando <br/><code>INSERT</code>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="175870a4-c580-4587-b3f6-4bc177c80b1f" class="code code-wrap"><code class="language-SQL">INSERT INTO tabela (coluna1, coluna2)
VALUES (valor1a, valor2a), (valor1b, valor2b), ...;
</code></pre></li></ul><ul id="c8a53eab-b136-48b7-b619-c04491243846" class="bulleted-list"><li style="list-style-type:disc"><strong>Inserção a Partir de Outra Tabela:</strong><br/>Você também pode inserir dados na tabela utilizando valores de outra tabela com o comando <br/><code>SELECT</code>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="924f45a8-a243-4f66-933e-6f92c696a158" class="code code-wrap"><code class="language-SQL">INSERT INTO tabela1 (coluna1, coluna2)
SELECT colunaA, colunaB
FROM tabela2
WHERE condição;
</code></pre></li></ul><p id="f55a80d1-05fc-438c-9074-1713f071f776" class="">O comando <code>INSERT</code> é fundamental para adicionar dados a um banco de dados relacional e entender bem sua sintaxe e opções é essencial para gerenciar e manipular eficientemente esses dados.</p><p id="888a340a-518b-4cdd-aab8-fa7655745526" class="">Podemos clicar em cima da tabela e botão direito e depois em selecionar top 1000, para ver os dados.</p><p id="92a16555-5862-44b7-a26c-3448d9c9d99d" class="">Quando um campo for gerado automático podemos ocultar no values direto ou quando definimos as colunas</p><p id="fd1ee777-9c5f-45d8-b123-225397e27efb" class="">O mais recomendável é utilizar especificando as colunas e os valores.</p><p id="ac45d22e-f366-4081-ac1c-59a9d9345453" class="">DICA: Podemos executar múltiplas linhas só selecionar várias e executar</p></details></li></ul><ul id="059f889b-bbaa-4899-9c7c-086dfc700494" class="toggle"><li><details open=""><summary>Select</summary><p id="d8573a64-7b88-411b-86c9-7585775fca7a" class="">O comando <code><strong>SELECT</strong></code> no SQL é usado para buscar dados de um banco de dados. É um dos comandos mais versáteis e importantes no SQL, permitindo a recuperação de dados de uma ou mais tabelas, filtrando, agrupando e ordenando esses dados de acordo com as necessidades específicas do usuário. Vamos detalhar seus componentes e usos.</p><h3 id="28bd8785-b0bf-4bfb-b2c1-979dbd405955" class=""><strong>Sintaxe Básica</strong></h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="08bea6d2-887c-4bd8-9d6e-e10c7127d7f2" class="code code-wrap"><code class="language-SQL">sqlCopy code
SELECT coluna1, coluna2, ...
FROM nome_da_tabela
WHERE condição;

</code></pre><ul id="27760afb-f4fe-4058-952e-7c102597c352" class="bulleted-list"><li style="list-style-type:disc"><code><strong>coluna1, coluna2, ...</strong></code>: Os nomes das colunas que você deseja recuperar. Para selecionar todas as colunas, use <code><strong></strong></code>.</li></ul><ul id="ac95a483-c5b9-4fb1-92fe-6fa0acabe6f2" class="bulleted-list"><li style="list-style-type:disc"><code><strong>nome_da_tabela</strong></code>: O nome da tabela de onde você quer recuperar os dados.</li></ul><ul id="930ac1a5-81d6-4d35-9ddb-b06e42b56436" class="bulleted-list"><li style="list-style-type:disc"><code><strong>WHERE condição</strong></code>: Uma cláusula opcional para especificar condições que as linhas devem atender para serem selecionadas.</li></ul><h3 id="164ae07e-a296-4386-8828-7b52713a5ce6" class=""><strong>Exemplos Práticos</strong></h3><ol type="1" id="f2765394-691f-4baa-a042-68f5b778f402" class="numbered-list" start="1"><li><strong>Selecionar Colunas Específicas:</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="66d9fd73-4b83-4bcd-8d0c-ade86d89b171" class="code code-wrap"><code class="language-SQL">
SELECT Nome, Email FROM Clientes;

</code></pre><p id="48f4304a-744f-46c0-a035-cf8c80230400" class="">Este comando seleciona apenas as colunas <code><strong>Nome</strong></code> e <code><strong>Email</strong></code> da tabela <code><strong>Clientes</strong></code>.</p></li></ol><ol type="1" id="5089872c-c64b-4d16-8d30-4149c0502318" class="numbered-list" start="2"><li><strong>Selecionar Todas as Colunas:</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="bacae874-bc58-4615-beba-32d9e1aa77c7" class="code code-wrap"><code class="language-SQL">
SELECT * FROM Clientes;

</code></pre><p id="da0705e9-2aec-4205-8da0-f587787d3479" class="">Aqui, todas as colunas da tabela <code><strong>Clientes</strong></code> são selecionadas.</p></li></ol><ol type="1" id="8b749e21-d60a-4aee-a970-5f304e29505d" class="numbered-list" start="3"><li><strong>Uso do WHERE:</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a36d6fe3-a69e-46cd-814d-ecf10f8c38a8" class="code code-wrap"><code class="language-SQL">
SELECT * FROM Clientes WHERE Idade &gt; 30;

</code></pre><p id="6cec5097-8ab1-4a97-9255-8dcb9aba6ea7" class="">Este comando seleciona todas as colunas de <code><strong>Clientes</strong></code> onde a idade é maior que 30.</p></li></ol><p id="2f19463b-ea22-45bc-ba4a-635bf6c03d77" class="">DICA</p><ul id="2374d4a6-0702-462c-b6db-465c65144a30" class="bulleted-list"><li style="list-style-type:disc">Executar um Select com uma tabela com milhões de dados pode travar o banco, então é uma boa prática usar um comando chamado TOP + n pra selecionar apenas uma determinada quantidade de números.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="01c7b000-d8fa-44c0-8a0a-8508f71bdb7d" class="code"><code class="language-SQL">SELECT TOP 1 * FROM [Curso]
SELECT TOP 1 [Nome],[Id] FROM [Curso]</code></pre><ul id="2b5daf5a-597b-46c9-9709-052bf301fb8d" class="bulleted-list"><li style="list-style-type:circle">Aqui pegamos um registro só.</li></ul></li></ul><ul id="181f6952-d744-4c21-86f2-ca5760bbe6f6" class="bulleted-list"><li style="list-style-type:disc">Outra dica é selecionar colunas que queremos, e não pegar todas, já que isso pode custar muito.</li></ul><ul id="96fb7200-4fff-4d45-94e0-6b996d0c7f04" class="bulleted-list"><li style="list-style-type:disc">Também devemos fazer o select na ordem dos campos e da tabela isso otimizar a pesquisa, também vale para o where.</li></ul><ul id="915e7359-e2f9-4dd9-8865-53b12fe591bf" class="bulleted-list"><li style="list-style-type:disc">Podemos organizar os select quando ficarem muito grandes da seguinte forma<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="80aa1eb9-2050-494a-9fc3-a3d2d420d10c" class="code"><code class="language-SQL">SELECT
	[Id]
FROM [Aluno]
WHERE [Id] = 1</code></pre></li></ul><p id="df9bde26-a3b8-43b7-beff-8f6aeec5837a" class="">DISTINCT</p><p id="f027e869-20d6-4ebb-a54d-c84251b2f07b" class="">A palavra-chave <code>DISTINCT</code> em SQL é usada para remover linhas duplicadas de um conjunto de resultados. É normalmente utilizada com a instrução <code>SELECT</code>. Quando você inclui <code>DISTINCT</code> em sua consulta, o sistema de banco de dados compara cada linha com todas as outras linhas e elimina quaisquer duplicatas, retornando apenas linhas únicas.</p><p id="e73ffe0e-31af-4907-928f-80b5e8f299ba" class="">Aqui está um exemplo básico de como você usaria <code>DISTINCT</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="44fe595f-6f7e-45e1-af1b-e531088b7884" class="code code-wrap"><code class="language-SQL">SELECT DISTINCT nome_da_coluna
FROM nome_da_tabela;
</code></pre><p id="d1bc8e32-40b7-4713-8964-945bedbdc34a" class="">Neste exemplo, a consulta retornará todos os valores únicos da <code>nome_da_coluna</code> especificada na <code>nome_da_tabela</code>.</p><p id="ef59cc79-4032-4b20-8dcf-80eff20bfd89" class="">Se você quiser selecionar valores distintos baseados em múltiplas colunas, você pode listá-las todas após <code>DISTINCT</code>. Por exemplo:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0c29a91c-2de7-467c-90d7-1b4a8c50db69" class="code code-wrap"><code class="language-SQL">SELECT DISTINCT coluna1, coluna2
FROM nome_da_tabela;
</code></pre><p id="3559b8aa-6ea4-4e7d-908f-3ab584eb3bc1" class="">Isso retornará combinações únicas dos valores de <code>coluna1</code> e <code>coluna2</code>.</p><p id="242d8ca2-37de-4288-acc2-3809cfa1c006" class="">Lembre-se de que o uso de <code>DISTINCT</code> pode impactar o desempenho da sua consulta, especialmente com grandes conjuntos de dados, pois requer ordenação e comparação adicionais para identificar valores únicos.</p></details></li></ul><ul id="344d88b4-d75f-4257-b582-e3bd7409943d" class="toggle"><li><details open=""><summary>Queries</summary><p id="5e13550d-9e22-4c5e-a364-05d94d40db5f" class="">Dica: No Azure Data Studio podemos aperta F5 para executar o código todo, porém tome bastante cuidado.</p><p id="6ced6a68-a0ea-42ee-87a5-0a866cf74b42" class="">WHERE</p><p id="8bf1a1a9-9663-4b53-9963-09a01966351e" class="">A cláusula <code>WHERE</code> em SQL é usada para filtrar registros, retornando apenas aqueles que satisfazem uma condição especificada. Ela é comumente usada junto com a instrução <code>SELECT</code>, mas também pode ser utilizada com outras instruções como <code>UPDATE</code> e <code>DELETE</code>.</p><p id="5bae2b57-30f1-4381-b7cc-f995dc628b39" class="">Aqui está a estrutura básica de como usar <code>WHERE</code> com <code>SELECT</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="79fc5af4-991e-480c-aa8d-bd045d6fd97f" class="code code-wrap"><code class="language-SQL">SELECT coluna1, coluna2, ...
FROM tabela
WHERE condição;
</code></pre><p id="7a9289ed-a7d1-4aa6-8c5f-d92af3c77f8f" class="">Neste exemplo, apenas as linhas da <code>tabela</code> que satisfazem a <code>condição</code> serão retornadas.</p><p id="8ccb8fd8-9f55-4677-8dc3-5d51e4629703" class="">A <code>condição</code> pode envolver operadores como:</p><ul id="46dd9a9f-6d3d-4efb-89e6-7409e3cbaa88" class="bulleted-list"><li style="list-style-type:disc"><code>=</code> (igual a)</li></ul><ul id="a7dd2f23-ae1e-4f8e-93d1-3b0831ed21e5" class="bulleted-list"><li style="list-style-type:disc"><code>&lt;&gt;</code> ou <code>!=</code> (diferente de)</li></ul><ul id="deacc8f0-2cfd-45cd-b912-0a12ca8d1ab8" class="bulleted-list"><li style="list-style-type:disc"><code>&gt;</code> (maior que)</li></ul><ul id="8d4b3517-e4b7-4b71-8574-c73a2f53666a" class="bulleted-list"><li style="list-style-type:disc"><code>&lt;</code> (menor que)</li></ul><ul id="974adf4a-f16c-48a2-87d6-b10099351f59" class="bulleted-list"><li style="list-style-type:disc"><code>&gt;=</code> (maior ou igual a)</li></ul><ul id="dab9dcb2-f758-4dc1-b62c-0398450e9a68" class="bulleted-list"><li style="list-style-type:disc"><code>&lt;=</code> (menor ou igual a)</li></ul><ul id="dd81c9ba-e688-4bbe-a4ba-04a5285b18dc" class="bulleted-list"><li style="list-style-type:disc"><code>BETWEEN</code> (entre um intervalo)</li></ul><ul id="17d5a660-fd96-4cba-bc99-b618c5797ef0" class="bulleted-list"><li style="list-style-type:disc"><code>LIKE</code> (padrão de correspondência)</li></ul><ul id="b10fd4d9-3a1d-480b-9d4c-a0fce8a02ab8" class="bulleted-list"><li style="list-style-type:disc"><code>IN</code> (dentro de um conjunto de valores)</li></ul><p id="90e41c12-ef62-4160-8f8f-3e9b6e0abdac" class="">Por exemplo:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="08cb2bff-a543-4084-ae3b-fbe93c138b14" class="code code-wrap"><code class="language-SQL">SELECT * FROM funcionarios
WHERE idade &gt; 30;
</code></pre><p id="330207ab-8e48-4a7b-845a-3c070c65b68a" class="">Esta consulta retornará todos os registros da tabela <code>funcionarios</code> onde o valor da coluna <code>idade</code> é maior que 30.</p><p id="fd821e70-7f06-4877-98aa-e0b11ffce4d4" class="">Você pode combinar múltiplas condições usando <code>AND</code> e <code>OR</code>. Por exemplo:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="15c2a7eb-2b81-4889-a10b-093b8e32a0f0" class="code code-wrap"><code class="language-SQL">SELECT * FROM funcionarios
WHERE idade &gt;= 30 AND departamento = &#x27;Vendas&#x27;;
</code></pre><p id="8488f08f-06c8-4bbc-8bfd-63061a6e4ffc" class="">Esta consulta retornará registros de funcionários com idade igual ou superior a 30 anos e que trabalham no departamento de vendas.</p><p id="4b8669af-01fc-473c-8eb0-a3d157a63bd9" class="">A cláusula <code>WHERE</code> é uma ferramenta poderosa para segmentar dados específicos dentro de um banco de dados SQL.</p><p id="39fb0070-7e1e-48e8-89ce-5217991dfcee" class="">Podemos usar operadores também com AND ou OR</p><p id="9f1f0c83-37c9-4499-99bc-9b0051e92421" class="">No OR e AND faz diferença qual campo vem primeiro no filtro, busque sempre performance</p><p id="dfb62e15-a603-46df-9a8b-b4cf6c06cc00" class="">IS NULL e IS NOT NULL</p><p id="236f6028-7e34-4d0f-bdf8-48019b671246" class="">Em SQL, <code>IS NULL</code> e <code>IS NOT NULL</code> são operadores usados para testar se uma coluna ou expressão contém valores nulos (<code>NULL</code>).</p><ul id="45ac3969-2594-4a87-8f97-f6e2999f61c9" class="bulleted-list"><li style="list-style-type:disc"><code>IS NULL</code>: Esta condição é verdadeira se o valor da coluna ou expressão for <code>NULL</code>.</li></ul><ul id="97fcfece-357f-4ee7-a8d8-9f16ad35e875" class="bulleted-list"><li style="list-style-type:disc"><code>IS NOT NULL</code>: Esta condição é verdadeira se o valor da coluna ou expressão não for <code>NULL</code>.</li></ul><h3 id="c319cfc5-3b45-4d67-a03e-891e42c06504" class="">Exemplos de Uso</h3><ol type="1" id="d4720744-0901-49f3-bb83-8fc2ba8225c6" class="numbered-list" start="1"><li><strong>Usando </strong><code><strong>IS NULL</strong></code>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e3476241-a92c-4fbf-a7ea-50559a5d4ee2" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela
WHERE coluna IS NULL;
</code></pre><p id="128bd757-44d6-4109-b2d9-69a3fbf18f43" class="">Esta consulta retorna todas as linhas da <code>tabela</code> onde o valor da <code>coluna</code> é <code>NULL</code>.</p></li></ol><ol type="1" id="ee669ca8-1b4f-4e2b-93b6-8bef5746e8f5" class="numbered-list" start="2"><li><strong>Usando </strong><code><strong>IS NOT NULL</strong></code>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9cc75f9f-11ab-4a6d-a896-e64ec067c56f" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela
WHERE coluna IS NOT NULL;
</code></pre><p id="f0e43e14-7f51-41b8-8391-4ff3e926baae" class="">Esta consulta retorna todas as linhas da <code>tabela</code> onde o valor da <code>coluna</code> não é <code>NULL</code>.</p></li></ol><h3 id="ac97dfc1-10f9-4d30-a5fa-f37d34bb7fe5" class="">Contexto Prático</h3><p id="cef0d60e-42ef-45b7-bb97-e79f398ed239" class="">Os valores <code>NULL</code> em bancos de dados representam dados ausentes ou desconhecidos. Ao usar <code>IS NULL</code> ou <code>IS NOT NULL</code>, você pode filtrar registros com ou sem valores específicos. Por exemplo, em uma tabela de funcionários, você pode querer selecionar apenas aqueles que não têm um número de telefone registrado (telefone <code>IS NULL</code>) ou apenas aqueles que têm um número de telefone registrado (telefone <code>IS NOT NULL</code>).</p><h3 id="8a80a635-f808-4bfa-8c08-a520250760ac" class="">Importância</h3><p id="d1dc5ef9-e40c-4a3d-9cc1-d44cce97ce4b" class="">O uso correto de <code>IS NULL</code> e <code>IS NOT NULL</code> é crucial para garantir que você está lidando adequadamente com valores <code>NULL</code> no seu banco de dados. Em SQL, <code>NULL</code> é tratado diferentemente de outros valores; não é igual a zero, nem a uma string vazia. Assim, operadores comuns de comparação como <code>=</code> ou <code>&lt;&gt;</code> não funcionam com <code>NULL</code>.</p></details></li></ul><ul id="8a35b544-3d5f-4713-ad9e-092436e44488" class="toggle"><li><details open=""><summary>Order By</summary><p id="264b270f-c51c-4f11-9f56-887df80ec840" class="">Dica: CTRL+k + CTRL + C Cometa o trecho de código selecionado e CTRL+k + CTRL + U descomenta o trecho selecionado.</p><p id="bac9c74f-06f1-4dbc-9f12-fb7eb7015e42" class="">COMETÁRIOS</p><p id="8f253127-e46e-49dc-9a94-c855ba36708d" class="">Em SQL Server, assim como em muitos outros sistemas de gerenciamento de banco de dados, você pode incluir comentários em suas instruções SQL. Os comentários são usados para explicar o código, tornando-o mais legível e manutenível, e são ignorados pelo SQL Server durante a execução da instrução.</p><p id="9c711c42-6bc3-4de3-9dfd-9b635ac7113c" class="">Existem dois tipos de comentários em SQL Server:</p><ol type="1" id="aa494b5d-1886-4c0f-b365-963d1acd955c" class="numbered-list" start="1"><li><strong>Comentários de Linha Única</strong>: Usam dois hífens (<code>-</code>) no início do comentário. Tudo na mesma linha após <code>-</code> será considerado um comentário e, portanto, ignorado pelo SQL Server.<p id="0a2924f4-c00d-46c5-bc9a-7f277c2c87cf" class="">Exemplo:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="057c2d9c-af74-4f56-92f2-5892aa39f2f6" class="code code-wrap"><code class="language-SQL">-- Este é um comentário de linha única
SELECT * FROM clientes;
</code></pre></li></ol><ol type="1" id="e93d0de8-4766-425b-91f0-d146d9981afc" class="numbered-list" start="2"><li><strong>Comentários de Múltiplas Linhas</strong>: Começam com /* e terminam com */. Tudo entre /* e */ será considerado um comentário, independentemente de quantas linhas ocupe. Esse tipo de comentário pode ser usado para comentar grandes blocos de código ou para comentar partes de uma linha de código.<p id="b3603c9c-082a-4c8e-9f78-b8774c7f5c53" class="">Exemplo:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e0b1a6da-c4ec-481d-9c12-8a8ecdd2beb2" class="code code-wrap"><code class="language-SQL">/*
Este é um comentário
de múltiplas linhas
*/
SELECT * FROM clientes; -- Este é um comentário de linha única
</code></pre></li></ol><p id="482a0e8c-cbba-4d4c-bba6-7e5b4b6e246c" class="">Comentários são uma parte importante da escrita de um código SQL limpo e compreensível. Eles permitem que você e outros desenvolvedores entendam o propósito e a lógica das instruções SQL, especialmente em consultas complexas ou em situações em que a intenção do código não é imediatamente aparente.</p><p id="5a052ec8-c998-45c3-b3a0-ce5278c312f6" class="">ORDER BY</p><p id="d11b5cd8-1639-4248-9580-f9360c6d749e" class="">A cláusula <code>ORDER BY</code> em SQL Server é utilizada para classificar os resultados de uma consulta em uma ordem específica, seja ascendente (ASC) ou descendente (DESC). Por padrão, quando você usa <code>ORDER BY</code>, os resultados são classificados em ordem ascendente.</p><p id="9abfee9e-b20d-4d92-b663-e774c7672980" class="">Aqui está a estrutura básica de como usar <code>ORDER BY</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="add10dae-8b9c-4a57-af23-720d9ca17627" class="code code-wrap"><code class="language-SQL">SELECT coluna1, coluna2, ...
FROM tabela
ORDER BY coluna1 [ASC|DESC], coluna2 [ASC|DESC], ...;
</code></pre><ul id="944b133b-10d0-408c-b662-fbd55995d08b" class="bulleted-list"><li style="list-style-type:disc"><code>coluna1</code>, <code>coluna2</code>, ... são os nomes das colunas pelas quais você quer ordenar os resultados.</li></ul><ul id="53d97b6c-59ff-499f-a304-4e7c2e385ac8" class="bulleted-list"><li style="list-style-type:disc"><code>ASC</code> indica uma ordem ascendente (do menor para o maior ou de A a Z), e é o padrão se nenhum for especificado.</li></ul><ul id="94dbda30-dfc6-4a07-8100-a619ed289c20" class="bulleted-list"><li style="list-style-type:disc"><code>DESC</code> indica uma ordem descendente (do maior para o menor ou de Z a A).</li></ul><ul id="c9c49595-5ff0-44ed-9948-7e0a2141927e" class="bulleted-list"><li style="list-style-type:disc">Caso os campos seja de outro tipo será ordenado por esse tipo, como números ou datas.</li></ul><ul id="24e8f9ac-d776-44bd-82cb-70ba95d69426" class="bulleted-list"><li style="list-style-type:disc">Quando não tem ASC ou DESC declarado , por padrão é ASC</li></ul><ul id="cc77910f-bbb6-4166-b634-fd2edc39f84c" class="bulleted-list"><li style="list-style-type:disc">Ao ordenar por várias colunas pode colocar ASC ou DESC para cada uma.</li></ul><h3 id="fa4de393-77f1-48b8-9cc5-1d1ad6b86998" class="">Exemplos de Uso</h3><ol type="1" id="54ec97ef-a471-4fef-ab4d-a4a4dcbd3fef" class="numbered-list" start="1"><li><strong>Ordenação Simples</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f8da3acd-7303-4215-80cf-f7f985e4bcc3" class="code code-wrap"><code class="language-SQL">SELECT nome, idade FROM funcionarios
ORDER BY idade;
</code></pre><p id="fc8f6664-ea8f-483c-bce1-a781182d114f" class="">Esta consulta selecionará <code>nome</code> e <code>idade</code> de <code>funcionarios</code> e os ordenará pela <code>idade</code> em ordem ascendente.</p></li></ol><ol type="1" id="1ec227f0-5a52-4f91-ad3e-0f1d68d75a6e" class="numbered-list" start="2"><li><strong>Ordenação Descendente</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f26f425d-d182-4e13-ae75-deda7f99d7a6" class="code code-wrap"><code class="language-SQL">SELECT nome, salario FROM funcionarios
ORDER BY salario DESC;
</code></pre><p id="50a11386-fabf-4405-b734-c91307e153a4" class="">Esta consulta seleciona <code>nome</code> e <code>salario</code> de <code>funcionarios</code> e os ordena pelo <code>salario</code> em ordem descendente.</p></li></ol><ol type="1" id="caaf047e-3078-4a0b-86d3-01b255e9fba8" class="numbered-list" start="3"><li><strong>Ordenação por Múltiplas Colunas</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="eb745698-b438-471b-94fa-9d9dec01091d" class="code code-wrap"><code class="language-SQL">SELECT nome, departamento, salario FROM funcionarios
ORDER BY departamento ASC, salario DESC;
</code></pre><p id="9cf979c5-1bf6-4040-bfea-6dad96814cb2" class="">Esta consulta ordena os funcionários primeiro pelo <code>departamento</code> em ordem ascendente e, dentro de cada departamento, pelo <code>salario</code> em ordem descendente.</p></li></ol><p id="250e9e11-aa79-4214-9ba9-e500f0cea987" class="">A cláusula <code>ORDER BY</code> é extremamente útil para organizar dados de maneira significativa, permitindo análises mais eficientes e relatórios claros.</p></details></li></ul><ul id="4fdbed0d-9d55-4c83-81b7-1524f3886292" class="toggle"><li><details open=""><summary>Update</summary><p id="fa73c98e-9f1a-4760-8874-9ba2d3ad226b" class="">A instrução <code>UPDATE</code> em SQL Server é usada para modificar os dados existentes em uma tabela. Ela permite atualizar valores em uma ou mais colunas para uma ou mais linhas, conforme especificado pela cláusula <code>WHERE</code>.</p><p id="98eeafe6-5637-4196-9716-739d124f8cfb" class="">Aqui está a estrutura básica de um comando <code>UPDATE</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="cc4fd8f8-408e-4817-8c64-7c9fe9d01aa5" class="code code-wrap"><code class="language-SQL">UPDATE nome_da_tabela
SET coluna1 = valor1, coluna2 = valor2, ...
WHERE condição;
</code></pre><ul id="32bfea18-f4ec-4cb3-9693-e319206768ff" class="bulleted-list"><li style="list-style-type:disc"><code>nome_da_tabela</code>: O nome da tabela onde os dados serão atualizados.</li></ul><ul id="c5dca8c3-6279-4f97-8310-50ea66b69a60" class="bulleted-list"><li style="list-style-type:disc"><code>SET</code>: Especifica as colunas a serem atualizadas e os valores correspondentes.</li></ul><ul id="54bcb61a-643c-4fe1-a52d-93a023527a70" class="bulleted-list"><li style="list-style-type:disc"><code>coluna1 = valor1, coluna2 = valor2, ...</code>: Uma lista de pares coluna-valor que especifica as colunas para atualização e os novos valores.</li></ul><ul id="915cd650-191c-4a07-b51d-fc406c7da8e4" class="bulleted-list"><li style="list-style-type:disc"><code>WHERE</code>: Define a condição para selecionar as linhas que serão atualizadas. Se omitida, todas as linhas na tabela serão atualizadas.</li></ul><h3 id="77221615-da53-452c-b29e-0e824b9c7f2d" class="">Exemplos de Uso</h3><ol type="1" id="692f8270-1124-45b0-b156-5e073b206754" class="numbered-list" start="1"><li><strong>Atualizando uma Única Coluna</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="680d6267-649d-4fe8-8e1a-74a22f9a1f6c" class="code code-wrap"><code class="language-SQL">UPDATE funcionarios
SET salario = 5000
WHERE id = 1;
</code></pre><p id="ef5cf64c-3854-4e4c-88ad-369bac331781" class="">Este comando aumenta o salário do funcionário com <code>id</code> 1 para 5000.</p></li></ol><ol type="1" id="fed178c7-a4df-4f2e-ad9d-562273c12f12" class="numbered-list" start="2"><li><strong>Atualizando Múltiplas Colunas</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4414b247-6d67-4ce8-8dfe-70f4e73fde66" class="code code-wrap"><code class="language-SQL">UPDATE funcionarios
SET salario = 6000, departamento = &#x27;Marketing&#x27;
WHERE id = 2;
</code></pre><p id="7deb26a1-4a12-4061-9b15-19fe9f66095c" class="">Este comando atualiza o salário e o departamento do funcionário com <code>id</code> 2.</p></li></ol><ol type="1" id="f18d5db0-f484-4c95-a5d6-fe2d0009bf26" class="numbered-list" start="3"><li><strong>Atualizando Todas as Linhas</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5cc9ec01-7846-4905-8d33-35d40239bd87" class="code code-wrap"><code class="language-SQL">UPDATE produtos
SET preco = preco * 1.1;
</code></pre><p id="378bb82b-6761-413e-b62f-b37657fb5182" class="">Este comando aumenta o preço de todos os produtos em 10%.</p></li></ol><h3 id="978849a5-f7e8-4fac-9a25-3eee37da8aed" class="">Considerações Importantes</h3><ul id="123a8da8-c5b1-467b-9650-3620645b2283" class="bulleted-list"><li style="list-style-type:disc"><strong>Backup de Dados</strong>: Antes de executar uma instrução <code>UPDATE</code>, especialmente se for afetar muitas linhas, é aconselhável fazer um backup dos dados.</li></ul><ul id="c26cf6be-8c2a-44c7-9b1f-a82c83a9359b" class="bulleted-list"><li style="list-style-type:disc"><strong>Transações</strong>: Para operações críticas, considere usar transações para garantir que todas as atualizações sejam bem-sucedidas antes de confirmar as alterações.</li></ul><ul id="2dafed68-603e-48cc-8c49-1795a63d3aa0" class="bulleted-list"><li style="list-style-type:disc"><strong>Teste a Consulta </strong><code><strong>WHERE</strong></code>: Antes de executar a atualização, você pode executar uma consulta <code>SELECT</code> com a mesma condição <code>WHERE</code> para verificar se está selecionando as linhas corretas.</li></ul><ul id="92009fb8-eb68-46bf-9c55-a2b0c4921399" class="bulleted-list"><li style="list-style-type:disc"><strong>Performance</strong>: Em grandes tabelas, a atualização de muitas linhas de uma só vez pode ser demorada e afetar a performance. Considere estratégias para minimizar o impacto, como atualizar em lotes.</li></ul><ul id="36160260-a0c5-4657-ac71-853aee339839" class="bulleted-list"><li style="list-style-type:disc">Em SQL Server, colunas definidas como <code><strong>IDENTITY</strong></code> são usadas para gerar automaticamente valores de chave única, normalmente para uma chave primária. Por padrão, uma vez que um valor é inserido em uma coluna <code><strong>IDENTITY</strong></code>, ele não deve ser alterado. Isso é parte do design para garantir a integridade dos dados e a consistência das chaves primárias. Para dar update é só desativar o IDENTITY.</li></ul><p id="c0e21f25-a03a-40ce-8ded-393ace2f7847" class="">TRANSACTION<div class="indented"><p id="6a095a7c-3c22-46e8-8780-0d62275f4f37" class="">Em SQL Server, as palavras-chave <code>TRANSACTION</code>, <code>ROLLBACK</code> e <code>COMMIT</code> são usadas para gerenciar transações, que são sequências de operações executadas como uma única unidade de trabalho lógica. Uma transação tem quatro propriedades principais, conhecidas pelo acrônimo ACID: Atomicidade, Consistência, Isolamento e Durabilidade.</p><ol type="1" id="881a1b41-089f-4f82-b1db-f5da6b29b335" class="numbered-list" start="1"><li><strong>TRANSACTION</strong>: Uma transação é iniciada com o comando <code>BEGIN TRANSACTION</code>. Isso indica o início de uma série de operações SQL que devem ser tratadas como uma única unidade.</li></ol><ol type="1" id="9b42d736-e048-4770-ab50-2f0a25491a14" class="numbered-list" start="2"><li><strong>ROLLBACK</strong>: Se em algum momento durante a execução da transação um erro ocorrer ou você decidir não prosseguir com as mudanças, você pode usar o comando <code>ROLLBACK</code>. Isso desfaz todas as operações realizadas na transação atual, retornando o estado do banco de dados ao que era antes do início da transação.</li></ol><ol type="1" id="1a8a76e3-9705-4f62-ac26-914616b78a51" class="numbered-list" start="3"><li><strong>COMMIT</strong>: Se todas as operações dentro da transação forem bem-sucedidas, você finaliza a transação com o comando <code>COMMIT</code>. Isso aplica permanentemente todas as mudanças feitas durante a transação ao banco de dados.</li></ol><h3 id="533a21b5-8033-4910-9082-912337a54695" class="">Exemplo Prático:</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5c0b5d87-82f0-4fd2-93b6-e7822f7e6303" class="code code-wrap"><code class="language-SQL">BEGIN TRANSACTION;

UPDATE Conta
SET saldo = saldo - 100
WHERE numero_conta = 123;

UPDATE Conta
SET saldo = saldo + 100
WHERE numero_conta = 456;

-- Se tudo estiver correto
COMMIT;

-- Se houver algum erro ou necessidade de cancelamento
ROLLBACK;
</code></pre><p id="0be2e0a7-eff6-4f52-b3a4-b258ef8c0d3b" class="">Neste exemplo, uma transação é iniciada para transferir 100 unidades monetárias da conta 123 para a conta 456. Se ambas as operações de <code>UPDATE</code> forem bem-sucedidas, a transação é concluída com um <code>COMMIT</code>. Se ocorrer um erro em qualquer uma das operações de <code>UPDATE</code>, ou se por algum motivo a transação não deve ser concluída, um <code>ROLLBACK</code> é emitido para desfazer todas as operações realizadas desde o início da transação.</p><h3 id="c00c365f-f906-4e03-9806-f841301a00e3" class="">Importância das Transações:</h3><ul id="5979a3f5-9ae5-4b89-9c01-28363fcc7322" class="bulleted-list"><li style="list-style-type:disc"><strong>Atomicidade</strong>: Garante que todas as operações em uma transação são concluídas com sucesso. Se uma operação falhar, toda a transação falha e o estado do banco de dados é deixado inalterado.</li></ul><ul id="de435bf1-c04f-4989-94fc-aa0e8520e418" class="bulleted-list"><li style="list-style-type:disc"><strong>Consistência</strong>: Assegura que uma transação leva o banco de dados de um estado consistente para outro estado consistente, sem violar quaisquer restrições.</li></ul><ul id="8b631461-bc56-40a3-94e1-bf7e80cb11dd" class="bulleted-list"><li style="list-style-type:disc"><strong>Isolamento</strong>: Mantém as transações isoladas umas das outras até que estejam concluídas, prevenindo a interferência entre transações simultâneas.</li></ul><ul id="0d9fafc7-1fbe-430e-9376-273852907a2d" class="bulleted-list"><li style="list-style-type:disc"><strong>Durabilidade</strong>: Uma vez que uma transação é confirmada (com <code>COMMIT</code>), as mudanças são permanentes, mesmo no caso de uma falha do sistema.</li></ul></div></p><ul id="bda80295-a9aa-4ed8-92f0-c380fc9790b7" class="bulleted-list"><li style="list-style-type:disc">Uma boa prática então é usar a trasaction para update, insert e delete, para garantir que tudo vai está correto.</li></ul></details></li></ul><ul id="e058f20f-1471-4a1f-8502-fb7b9208449a" class="toggle"><li><details open=""><summary>Delete</summary><p id="e311a78d-3cd7-4e25-924f-c5efa04516df" class="">A instrução <code>DELETE</code> em SQL Server é usada para remover linhas de uma tabela. É uma ferramenta poderosa que deve ser usada com cautela, pois uma vez que os dados são excluídos, normalmente não podem ser recuperados.</p><p id="351d680a-6ab5-4abb-bead-815e632437e3" class="">Aqui está a estrutura básica da instrução <code>DELETE</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="35147942-cec9-47f4-9711-8849def02918" class="code code-wrap"><code class="language-SQL">DELETE FROM nome_da_tabela
WHERE condição;
</code></pre><ul id="ba637e95-14c2-49fc-89f5-52fce33eb17c" class="bulleted-list"><li style="list-style-type:disc"><code>nome_da_tabela</code>: O nome da tabela da qual as linhas serão excluídas.</li></ul><ul id="14a44354-f5d4-46a1-8c4a-38d1edaa8f6d" class="bulleted-list"><li style="list-style-type:disc"><code>WHERE condição</code>: A condição que determina quais linhas devem ser excluídas. Se a cláusula <code>WHERE</code> for omitida, todas as linhas da tabela serão excluídas.</li></ul><h3 id="7ff5924c-bc51-407b-b696-c7d6b8335b5b" class="">Exemplos de Uso</h3><ol type="1" id="620feada-5dbb-4c0e-a91d-0d4eae1582ac" class="numbered-list" start="1"><li><strong>Excluindo Linhas com uma Condição Específica</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d3723a6c-8791-4512-96fb-77d32d7644c0" class="code code-wrap"><code class="language-SQL">DELETE FROM funcionarios
WHERE departamento = &#x27;Marketing&#x27;;
</code></pre><p id="06711028-e864-4370-a0eb-192175e2d113" class="">Este comando exclui todas as linhas da tabela <code>funcionarios</code> onde o <code>departamento</code> é &#x27;Marketing&#x27;.</p></li></ol><ol type="1" id="237f820f-88a7-404f-be2c-106db1ff5b91" class="numbered-list" start="2"><li><strong>Excluir Todas as Linhas de uma Tabela</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ed5be21d-8090-4587-a10b-6d95053cb39a" class="code code-wrap"><code class="language-SQL">DELETE FROM clientes;
</code></pre><p id="08bd1d59-fe8c-498a-b554-9c6166016085" class="">Este comando exclui todas as linhas da tabela <code>clientes</code>. Tenha muito cuidado ao usar <code>DELETE</code> sem uma cláusula <code>WHERE</code>.</p></li></ol><h3 id="b5d0fd49-19d8-410a-aabc-440bde2ff4e0" class="">Considerações Importantes</h3><ul id="2ccc4b84-70e9-44af-abd9-5cf78ee82d7c" class="bulleted-list"><li style="list-style-type:disc"><strong>Backup de Dados</strong>: Sempre considere fazer um backup dos dados antes de realizar operações de exclusão, especialmente se forem amplas.</li></ul><ul id="2bd55113-80d1-4043-abec-f808322be31a" class="bulleted-list"><li style="list-style-type:disc"><strong>Transações</strong>: Para maior segurança, você pode usar <code>DELETE</code> dentro de uma transação (<code>BEGIN TRANSACTION</code>, <code>COMMIT</code>, <code>ROLLBACK</code>) para poder desfazer a exclusão se algo der errado.</li></ul><ul id="4e835972-3d24-487a-a287-9a9591cc4338" class="bulleted-list"><li style="list-style-type:disc"><strong>Restrições de Integridade</strong>: Se houver chaves estrangeiras apontando para a tabela da qual você está excluindo, você precisa ter certeza de que a exclusão não violará as restrições de integridade referencial.</li></ul><ul id="7cc82fb1-cf3a-4db6-abf0-aaa228c12057" class="bulleted-list"><li style="list-style-type:disc"><strong>Uso de </strong><code><strong>WHERE</strong></code>: Sempre use a cláusula <code>WHERE</code> com critérios específicos para evitar a exclusão acidental de mais linhas do que o pretendido.</li></ul><p id="24a0198a-e56d-4671-98a4-a82b755847f6" class="">Lembre-se de que, em um ambiente de produção, a exclusão de dados deve ser realizada com muita cautela e, na maioria dos casos, é preferível marcar os dados como inativos ou movê-los para uma tabela de arquivo morto, em vez de excluí-los permanentemente.</p><p id="21300e7c-6ff8-4f99-9670-7b5e4486c940" class="">Vale ressaltar que se uma tabela estiver ligada a outra, devemos deletar os registro da filha e depois da tabela mãe, se não ele dará erro nas constraint</p></details></li></ul><ul id="5853818c-557f-4e18-9017-901ff23e8b94" class="toggle"><li><details open=""><summary>MIN, MAX, Count</summary><p id="3eb29a68-1487-4e03-9c04-e8b4eae1db3d" class="">No SQL Server, você pode usar as funções <code>MIN</code>, <code>MAX</code> e <code>COUNT</code> para realizar várias operações de agregação em seus dados. Aqui está uma breve visão geral de cada função:</p><ol type="1" id="1b14ae80-e7ee-4c6e-8f73-4df73c80effb" class="numbered-list" start="1"><li><strong>MIN</strong>: Esta função retorna o menor valor em uma coluna especificada.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="748d797f-64e1-4258-850b-bceddde4bc16" class="code code-wrap"><code class="language-SQL">SELECT MIN(nome_da_coluna) FROM nome_da_tabela;
</code></pre></li></ol><ol type="1" id="c0070df5-c86f-45a7-9e98-62c07f1bebcb" class="numbered-list" start="2"><li><strong>MAX</strong>: Por outro lado, esta função retorna o maior valor em uma coluna especificada.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c31e7dd8-120f-45bc-b832-20c3e41b2aa0" class="code code-wrap"><code class="language-SQL">SELECT MAX(nome_da_coluna) FROM nome_da_tabela;
</code></pre></li></ol><ol type="1" id="84da1885-88fd-4fa0-b92e-f1034542b7a2" class="numbered-list" start="3"><li><strong>COUNT</strong>: Esta função retorna o número de linhas que correspondem a um critério especificado. Se você quiser contar todas as linhas de uma tabela, independentemente de qualquer filtro, você pode usar <code></code> como argumento.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="86d47a7b-3582-45e1-85d2-8decdf7c18f0" class="code code-wrap"><code class="language-SQL">SELECT COUNT(nome_da_coluna) FROM nome_da_tabela;
</code></pre><p id="ef89b79d-0bd6-4c66-97e5-b05431060e1a" class="">Se quiser contar todas as linhas da tabela, você pode usar:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d2928d31-1ac1-4df7-a5a3-fe6a5674dbd0" class="code code-wrap"><code class="language-SQL">SELECT COUNT(*) FROM nome_da_tabela;
</code></pre></li></ol><p id="ecb8fd8f-224d-4fb6-a44e-38be7ce75bb9" class="">Estas funções são essenciais para obter informações agregadas dos dados, como o valor máximo, mínimo e a contagem total de registros que satisfazem certos critérios em sua base de dados.</p><p id="ca32b918-11aa-44e2-b56d-ba1c7db70a2c" class="">Uma boa dica é que se deve evitar de usar no COUNT o  *, pois isso pode custar muito para banco calcular. </p><p id="acb4ea50-894a-4a78-945e-60f897c9d0c6" class="">No SQL Server, as funções <code>AVG</code> e <code>SUM</code> são usadas para realizar operações de agregação em seus dados, assim como <code>MIN</code>, <code>MAX</code> e <code>COUNT</code>. Aqui está uma explicação de cada uma:</p><ol type="1" id="96d98682-ccd3-4cf0-bab9-49d2fe1c74d9" class="numbered-list" start="1"><li><strong>AVG</strong>: Esta função calcula a média (valor médio) de uma coluna numérica. Ela soma todos os valores da coluna e divide pelo número de valores.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="be8baa84-ceec-4120-b130-5e3466c459a4" class="code code-wrap"><code class="language-SQL">SELECT AVG(nome_da_coluna) FROM nome_da_tabela;
</code></pre><p id="9dcb8b89-0ff5-4b4a-9e1c-abce971b0a72" class="">Esta consulta retorna a média dos valores na coluna especificada.</p></li></ol><ol type="1" id="b4500553-56c9-4523-8efd-3815e04bd73c" class="numbered-list" start="2"><li><strong>SUM</strong>: Esta função soma todos os valores de uma coluna numérica.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b9827722-6d87-47a8-aedb-909d25139b07" class="code code-wrap"><code class="language-SQL">SELECT SUM(nome_da_coluna) FROM nome_da_tabela;
</code></pre><p id="efa37900-33e4-4dd0-9ab8-eec4b0e100c0" class="">Esta consulta retorna a soma total dos valores na coluna especificada.</p></li></ol><p id="51af07fa-1fbc-4a5f-b000-7ca395da86c9" class="">Essas funções são muito úteis em análises estatísticas e financeiras, permitindo calcular médias, totais e outras formas de dados agregados a partir de conjuntos de dados.</p></details></li></ul><ul id="f2bdcb82-fd08-4626-91f4-62c0d7b4535d" class="toggle"><li><details open=""><summary>Like</summary><p id="cc7c14ff-1df5-44d3-84ed-8db3daff9deb" class="">No SQL Server, a palavra-chave <code>LIKE</code> é utilizada em uma cláusula <code>WHERE</code> para buscar por um padrão específico em uma coluna. Essa busca é realizada usando dois caracteres curinga principais:</p><ol type="1" id="8038bf16-c91c-4c5d-80e2-a693fc173231" class="numbered-list" start="1"><li><strong>%</strong> (percentual): Representa zero, um ou múltiplos caracteres.</li></ol><ol type="1" id="e962f6b7-ca13-4436-86fb-1acbbbe1351d" class="numbered-list" start="2"><li><strong>_</strong> (underscore): Representa um único caractere coringa que poder se qualquer um não importante qual.</li></ol><p id="c126361f-66e2-43b7-926e-f1f4a62276a6" class="">Aqui estão alguns exemplos de como usar <code>LIKE</code> em SQL Server:</p><ol type="1" id="317fae5f-66ed-464a-bc26-a0f603334c1f" class="numbered-list" start="1"><li><strong>Buscar por um Padrão em Qualquer Posição</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="159f7a9b-48c2-4234-a69a-7593529b5af9" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela WHERE coluna LIKE &#x27;%padrao%&#x27;;
</code></pre><p id="ff648794-6da9-49c9-b96e-847cd0695888" class="">Este comando seleciona todas as linhas onde &quot;coluna&quot; contém a palavra &quot;padrao&quot; em qualquer posição. Semelhante a um contains.</p></li></ol><ol type="1" id="d97ddf97-9266-4a7f-b7b4-3dcc3cbd61d5" class="numbered-list" start="2"><li><strong>Buscar por um Padrão no Início</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1e6f1ebc-a2b1-48bb-bb4a-9b48333e80a8" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela WHERE coluna LIKE &#x27;padrao%&#x27;;
</code></pre><p id="6607aa3c-130c-4555-8003-5aaa7190af4e" class="">Este comando seleciona todas as linhas onde &quot;coluna&quot; começa com &quot;padrao&quot;.</p></li></ol><ol type="1" id="6e8e0370-4435-4d84-abd1-86e6e94a31cc" class="numbered-list" start="3"><li><strong>Buscar por um Padrão no Final</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="42b2370d-70dc-4579-98a1-7c5a5ba37583" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela WHERE coluna LIKE &#x27;%padrao&#x27;;
</code></pre><p id="b718ea3c-bc73-4a14-91f0-b7dda2f2cef9" class="">Este comando seleciona todas as linhas onde &quot;coluna&quot; termina com &quot;padrao&quot;.</p></li></ol><ol type="1" id="d683be9e-cf71-46a0-8c11-d82735f8f64d" class="numbered-list" start="4"><li><strong>Buscar por um Padrão em uma Posição Específica</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3dc30006-8c84-4137-af5b-27bd82d114be" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela WHERE coluna LIKE &#x27;_a%&#x27;;
</code></pre><p id="9a615532-72f0-4acf-b7c7-2569b8105629" class="">Este comando seleciona todas as linhas onde o segundo caractere de &quot;coluna&quot; é &#x27;a&#x27;.</p></li></ol><ol type="1" id="f7a4611b-f6e8-4dcb-9ead-6145464f0461" class="numbered-list" start="5"><li><strong>Combinar Caracteres Curinga</strong>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="70dec6c0-a3fc-4e78-b617-f2c47e762ee9" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela WHERE coluna LIKE &#x27;p_d%&#x27;;
</code></pre><p id="63f01faf-00e2-4b28-99b4-aaac370d81bb" class="">Este comando seleciona todas as linhas onde &quot;coluna&quot; começa com &#x27;p&#x27;, seguido por qualquer caractere, e então &#x27;d&#x27;.</p></li></ol><p id="01c87a76-4bfa-4d87-bc44-9b19fcb2f65c" class="">A função <code>LIKE</code> é muito útil para filtrar dados com base em padrões de texto específicos, especialmente quando o valor exato não é conhecido ou é variável.</p></details></li></ul><ul id="5674aa6b-03f5-4192-81bd-2615e9ff0571" class="toggle"><li><details open=""><summary>In, Between</summary><p id="5f8f5fde-93bf-4896-b13d-9ae22b9cb756" class="">No SQL Server, as palavras-chave <code>IN</code> e <code>BETWEEN</code> são usadas em cláusulas <code>WHERE</code> para filtrar dados com base em critérios específicos. Vamos explorar cada uma delas:</p><h3 id="6b803432-8a51-4ace-a257-d2bff3127655" class="">IN</h3><p id="3b1c3b64-a2bb-46f3-9588-6a24d842d5e1" class="">A palavra-chave <code>IN</code> permite especificar múltiplos valores em uma cláusula <code>WHERE</code>. É útil quando você quer filtrar a coluna para múltiplos valores específicos. Pode ser visto como um método abreviado para usar múltiplos <code>OR</code>.</p><p id="7ef6b1a4-2a46-4e01-8b3f-8413224a7a10" class=""><strong>Exemplo</strong>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8f67712e-4874-4e7d-9e97-758985fb11ba" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela WHERE coluna IN (valor1, valor2, valor3);
</code></pre><p id="c0db32d9-a8c9-4ff9-98b0-c6244e033919" class="">Este comando seleciona todas as linhas da tabela onde o valor da &quot;coluna&quot; é igual a &quot;valor1&quot;, &quot;valor2&quot; ou &quot;valor3&quot;.</p><p id="e54c0a66-5804-4bbb-9353-97edba6a3ec4" class="">Podemos executar consultas mais complexa com o IN também.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5dbb264c-8399-4324-ada7-36c6896a915e" class="code"><code class="language-SQL">SELECT * FROM tabela WHERE coluna IN (SELECT coluna FROM tabela);</code></pre><h3 id="0e129894-657e-429e-8fd2-c80539611433" class="">BETWEEN</h3><p id="b468a5a2-7950-4cf5-ae1b-b840e4256ca3" class="">A palavra-chave <code>BETWEEN</code> permite selecionar valores dentro de um intervalo (incluindo os limites). Funciona para números, texto e datas.</p><p id="6fe87536-f5be-40fd-893e-0a4b402a67b8" class=""><strong>Exemplo numérico</strong>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4ed722be-f58d-461f-bc96-46cd9ca516b0" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela WHERE coluna BETWEEN 10 AND 20;
</code></pre><p id="dcb804bc-0c81-47f6-8ee9-287bc5041fcf" class="">Este comando seleciona todas as linhas da tabela onde o valor da &quot;coluna&quot; está entre 10 e 20 (inclusive).</p><p id="a165658d-8ec4-4b66-a920-6fcef63b85b7" class=""><strong>Exemplo de data</strong>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="26629c2b-66e8-4efb-97e0-774b0fe447a2" class="code code-wrap"><code class="language-SQL">SELECT * FROM tabela WHERE data_coluna BETWEEN &#x27;2023-01-01&#x27; AND &#x27;2023-12-31&#x27;;
</code></pre><p id="d621c46a-02ad-41df-9be5-5f018f8e1106" class="">Este comando seleciona todas as linhas da tabela onde o valor da &quot;data_coluna&quot; está entre 1º de janeiro de 2023 e 31 de dezembro de 2023.</p><p id="920374f5-b565-4f5e-b3ca-fec8194cda54" class="">Nas datas passamos uma string no formato padrão do no caso<div class="indented"><p id="4d20311c-b585-4c2a-9f18-5757d1ba073d" class="">‘yyyy-mm-dd ’,  ‘yyyy-mm-dd hh:mm:ss’</p></div></p><p id="29777003-ad85-4539-a25f-fcd76a666729" class="">Usar <code>IN</code> e <code>BETWEEN</code> pode tornar suas consultas mais eficientes e fáceis de ler, especialmente quando comparado a escrever múltiplas condições com <code>OR</code> ou comparar manualmente limites superiores e inferiores.</p></details></li></ul><ul id="277b4c9b-ef63-43a1-b582-9e830a00ca76" class="toggle"><li><details open=""><summary>Alias</summary><p id="ffaf1e65-eacd-41b0-9f7b-47054b601657" class="">No SQL Server, um alias é usado para dar um nome temporário a uma tabela ou coluna em uma consulta específica. Aliases são úteis para simplificar nomes de tabelas ou colunas complexos e longos, e são especialmente úteis em consultas que envolvem junções de tabelas ou subconsultas. Vamos ver como você pode usar aliases para tabelas e colunas.</p><h3 id="3d67a6e8-cb38-452a-b67e-710211ab4d31" class="">Alias para Tabelas</h3><p id="4c9953ec-3aa4-449b-8d5b-282714f23aec" class="">Suponha que você tenha uma tabela chamada <code>EmployeeDetails</code>. Em uma consulta, você pode dar um nome de alias a ela, como <code>ED</code>, para simplificar as referências subsequentes à tabela.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d26247ae-c279-49b5-a7ca-e761bade072b" class="code code-wrap"><code class="language-SQL">SELECT ED.Nome, ED.Idade FROM EmployeeDetails AS ED;
</code></pre><p id="c5dbfb66-6237-452d-973f-a5f9a9512452" class="">Neste exemplo, <code>AS ED</code> cria um alias para <code>EmployeeDetails</code>, permitindo que você use <code>ED</code> em vez de <code>EmployeeDetails</code> em toda a consulta.</p><h3 id="bc8c6dba-086b-461c-a16e-4cfc32756874" class="">Alias para Colunas</h3><p id="f00e16fd-c0e7-4116-be9c-3ec2123c1a7d" class="">Os aliases de colunas são úteis quando você quer renomear uma coluna no resultado de sua consulta ou quando está usando funções agregadas.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8df39822-9e4b-4f11-9024-60e7235c4a8e" class="code code-wrap"><code class="language-SQL">SELECT COUNT(*) AS TotalEmployees FROM EmployeeDetails;
</code></pre><p id="947e055c-942b-4f4f-b43d-dd9a93c18d5a" class="">Aqui, <code>AS TotalEmployees</code> é um alias para a contagem total de funcionários. O resultado da consulta mostrará <code>TotalEmployees</code> como o nome da coluna no lugar de <code>COUNT(*)</code>.</p><h3 id="f50d217a-fc42-4a9e-b5b2-bc95f83cc28c" class="">Alias em Junções e Subconsultas</h3><p id="1218910d-9a31-4a80-b01c-a04510391463" class="">Os aliases são particularmente úteis em consultas que envolvem múltiplas tabelas, junções ou subconsultas.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ebca76cf-4721-4e35-ae54-9a38e5b9cbcc" class="code code-wrap"><code class="language-SQL">SELECT E.Nome, D.Departamento
FROM EmployeeDetails AS E
INNER JOIN DepartmentDetails AS D ON E.DepartamentoID = D.ID;
</code></pre><p id="58c44454-99dc-4a2c-bf8e-a63675227771" class="">Neste exemplo, <code>E</code> e <code>D</code> são aliases para <code>EmployeeDetails</code> e <code>DepartmentDetails</code>, respectivamente. Isso torna a consulta mais legível e mais fácil de escrever, especialmente ao referenciar colunas de diferentes tabelas.</p><p id="08dd664e-ee2d-4df3-81cf-ed0c88d14207" class="">Os aliases são temporários e existem apenas para o escopo da consulta. Eles não alteram o nome da tabela ou coluna no banco de dados.</p><p id="09e096cf-7d11-4071-9e5f-4f75599fe92e" class="">Quando um nome for composto ou ter caractere especiais podemos colocar as as simples</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d3a609d9-72f7-4855-97c2-fbc602b964a0" class="code"><code class="language-SQL">SELECT [Id] AS &#x27;Identificador a&#x27; FROM [Categoria]</code></pre></details></li></ul><ul id="794d6de5-c211-4e37-97ad-8b71d0d8327c" class="toggle"><li><details open=""><summary>Joins</summary><p id="f6148ab6-17a4-47ad-83e0-919a5c3f9a76" class="">Os JOINs são fundamentais em SQL para combinar linhas de duas ou mais tabelas, com base em uma coluna relacionada entre elas. No SQL Server, os tipos mais comuns de JOINs são: <strong>INNER JOIN, LEFT (OUTER) JOIN, RIGHT (OUTER) JOIN, FULL (OUTER) JOIN e CROSS JOIN.</strong></p><p id="2c2b68fe-b0e5-4eaa-a4d5-4a141fd43457" class="">Ao utilizar JOINs, é importante selecionar as colunas corretas para o ON, garantindo que elas tenham relação entre as tabelas. Além disso, deve-se atentar para o desempenho das consultas, especialmente em tabelas muito grandes.</p><p id="54222f01-0163-4717-8208-9b660dbfbcf5" class=""><strong>INNER JOIN</strong></p><p id="04d325c6-1568-40dc-8415-2fb09a9a1ec6" class="">O <code>INNER JOIN</code> em SQL é usado para combinar linhas de duas ou mais tabelas, baseado em uma coluna comum entre elas. Este tipo de JOIN retorna apenas as linhas que têm correspondência em ambas as tabelas. Se uma linha em uma das tabelas não tem uma correspondência na outra, ela não será incluída no conjunto de resultados.</p><p id="c179b92d-170c-4943-8ec2-6d206d7e8ad2" class="">Aqui está a estrutura básica de uma consulta SQL com <code>INNER JOIN</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6482cb5d-79d0-46c1-8cc1-ede9eb601971" class="code code-wrap"><code class="language-SQL">SELECT column_name(s)
FROM table1
INNER JOIN table2
ON table1.column_name = table2.column_name;
</code></pre><p id="408db5d0-f1ec-4845-a448-9898eb46c4f2" class="">Neste exemplo, <code>column_name(s)</code> representa as colunas que você quer selecionar. <code>table1</code> e <code>table2</code> são as tabelas que você está unindo, e <code>table1.column_name = table2.column_name</code> é a condição que relaciona estas duas tabelas.</p><p id="77ef826a-bf92-4cf5-bf2b-ac38ee2cb8b3" class=""><strong>Exemplo Prático:</strong></p><p id="2ea6943d-09c3-449e-98f9-40a3a37449da" class="">Suponha que você tem duas tabelas: <code>Funcionarios</code> e <code>Departamentos</code>. A tabela <code>Funcionarios</code> tem uma coluna <code>DepartamentoID</code>, e a tabela <code>Departamentos</code> tem uma coluna <code>ID</code>. Para listar todos os funcionários com os nomes de seus departamentos, você faria algo assim:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4cd3ec1b-86af-4cf0-910d-f2283c0d24c6" class="code code-wrap"><code class="language-SQL">SELECT Funcionarios.Nome, Departamentos.NomeDepartamento
FROM Funcionarios
INNER JOIN Departamentos
ON Funcionarios.DepartamentoID = Departamentos.ID;
</code></pre><p id="689bd718-36c7-4548-885e-a7671c318e46" class="">Neste exemplo, a consulta irá retornar os nomes dos funcionários junto com os nomes dos departamentos em que trabalham, mas apenas para os funcionários que têm um departamento associado (ou seja, <code>DepartamentoID</code> em <code>Funcionarios</code> que corresponde a um <code>ID</code> em <code>Departamentos</code>).</p><p id="66c314bf-0ea7-4a73-ad9e-06776df29cc6" class="">O mais comum, seguro e performático é fazer a função por uma coluna relacionada, no caso fazer com colunas que estão ligadas com chaves estrangerias. Além de possuírem índices para facilitar essa transação. </p><p id="388a6846-5e1a-4377-80a3-82866bd026bc" class="">Mas podemos fazer com qualquer outra coluna desde que os valores seja do mesmo tipos e para funcionar seja iguais.</p><p id="2b594863-551f-4ea8-87f5-debd02efa45e" class="">Podemos acumular quantos joins forem necessário.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="68f98e92-79eb-4b68-89ec-fab2bd6f8368" class="code"><code class="language-SQL">SELECT Funcionarios.Nome, Departamentos.NomeDepartamento
FROM Funcionarios
INNER JOIN Departamentos
ON Funcionarios.DepartamentoID = Departamentos.ID;
INNER JOIN Cargos
ON Funcionarios.CargoID = Cargos.ID;</code></pre><p id="a00905b6-0ae5-4f25-b00d-dd034a88a90f" class="">Podemos ter ambiguidade nas colunas, então podemos usar os alias para organizar melhorar nossa consulta.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="dfaacba7-1332-4a10-a2ba-8bd5a0face4e" class="code"><code class="language-SQL">SELECT 
Funcionarios.ID as &#x27;Código do funcionário&#x27;,
Departamentos.ID as &#x27;Código do departamento&#x27;,
Funcionarios.Nome, 
Departamentos.NomeDepartamento,
Cargos.*
FROM Funcionarios
INNER JOIN Departamentos  as D
ON Funcionarios.DepartamentoID = Departamentos.ID;
INNER JOIN Cargos as C
ON Funcionarios.CargoID = Cargos.ID;</code></pre><ul id="0305bd72-0366-44f7-b0f8-94bd314081ba" class="bulleted-list"><li style="list-style-type:disc">Podemos usar o alias nas tabelas e podemos usa-la por toda nossa consulta, além dos alias das colunas do select e também podemos trazer o campos que queremos ou tudo de um tabela como no exempli Cargos.*</li></ul></details></li></ul><ul id="47c93824-1977-40a4-b3a2-c146211825bb" class="toggle"><li><details open=""><summary>Left Join, rigth join</summary><h3 id="12fbac16-ffbe-4170-a06c-a5a0fe24faf3" class="">LEFT JOIN</h3><p id="0686ce32-ca59-4a67-b0ed-fecd2397b209" class="">O <code>LEFT JOIN</code> (também conhecido como <code>LEFT OUTER JOIN</code>) em SQL é usado para retornar todas as linhas da tabela à esquerda (primeira tabela) e as linhas correspondentes da tabela à direita (segunda tabela). Se não houver correspondência, o resultado é NULL na parte direita da tabela. É muito útil quando você precisa listar todas as linhas de uma tabela e as correspondências de outra.</p><p id="862aa0e4-4bd3-4b89-952c-642f14510f35" class="">Aqui está a estrutura básica de uma consulta SQL com <code>LEFT JOIN</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b7fdef0c-2268-4e2a-a734-a4273466ea72" class="code code-wrap"><code class="language-SQL">SELECT column_name(s)
FROM table1
LEFT JOIN table2
ON table1.column_name = table2.column_name;
</code></pre><ul id="9e449382-c127-41df-924d-3c3cf76914b6" class="bulleted-list"><li style="list-style-type:disc"><code>column_name(s)</code> são as colunas que você deseja selecionar.</li></ul><ul id="ff4f9ff8-606d-4f9d-ae51-edddd8f7285f" class="bulleted-list"><li style="list-style-type:disc"><code>table1</code> é a tabela à esquerda, da qual todas as linhas serão retornadas.</li></ul><ul id="b95863e7-e2b0-495e-b625-c349d870ace0" class="bulleted-list"><li style="list-style-type:disc"><code>table2</code> é a tabela à direita, da qual apenas as linhas correspondentes serão retornadas.</li></ul><ul id="f076dff5-7718-4060-b09f-e8c2a3922569" class="bulleted-list"><li style="list-style-type:disc"><code>table1.column_name = table2.column_name</code> é a condição que relaciona as duas tabelas.</li></ul><p id="6f28910f-35ba-4c02-87f4-c7d94cf4375f" class=""><strong>Exemplo Prático:</strong></p><p id="412f6f44-a5f8-42d0-9105-7a3031e0b7f9" class="">Suponha que você tenha duas tabelas: <code>Funcionarios</code> e <code>Departamentos</code>. A tabela <code>Funcionarios</code> tem uma coluna <code>DepartamentoID</code>, e a tabela <code>Departamentos</code> tem uma coluna <code>ID</code>. Para listar todos os funcionários e os nomes de seus departamentos, incluindo aqueles sem um departamento associado, você usaria:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a38d70ff-4c89-4324-b59c-85d9f27c0109" class="code code-wrap"><code class="language-SQL">SELECT Funcionarios.Nome, Departamentos.NomeDepartamento
FROM Funcionarios
LEFT JOIN Departamentos
ON Funcionarios.DepartamentoID = Departamentos.ID;
</code></pre><p id="267e31e3-ed0f-4250-a3dd-f73bd4b005e7" class="">Neste exemplo, a consulta irá retornar os nomes de todos os funcionários. Se um funcionário não estiver associado a um departamento, o <code>NomeDepartamento</code> será <code>NULL</code>. Isso é útil para identificar registros em uma tabela que não têm correspondentes em outra tabela.</p><h3 id="d5385584-2096-496a-b0c8-56665ade58fd" class="">RIGTH JOIN</h3><p id="8b996a41-765e-47c6-8fab-267e64f9f27d" class="">O <code>RIGHT JOIN</code> (também conhecido como <code>RIGHT OUTER JOIN</code>) em SQL é usado para retornar todas as linhas da tabela à direita (segunda tabela) e as linhas correspondentes da tabela à esquerda (primeira tabela). Se não houver correspondência na tabela à esquerda, o resultado será NULL para as colunas da tabela à esquerda. Este tipo de JOIN é especialmente útil quando você precisa listar todas as linhas de uma tabela e as correspondências, se houverem, de outra tabela.</p><p id="d38a2324-fecb-4d9a-a5d6-0da85bca939b" class="">Aqui está a estrutura básica de uma consulta SQL com <code>RIGHT JOIN</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4fda27f7-a0fd-400b-b850-f6c0e835a8e5" class="code code-wrap"><code class="language-SQL">SELECT column_name(s)
FROM table1
RIGHT JOIN table2
ON table1.column_name = table2.column_name;
</code></pre><ul id="76a8d1da-ea0f-4812-9bca-28705c7c2de2" class="bulleted-list"><li style="list-style-type:disc"><code>column_name(s)</code> são as colunas que você deseja selecionar.</li></ul><ul id="9bc1ee98-49d5-4782-9744-1fb9027646bd" class="bulleted-list"><li style="list-style-type:disc"><code>table1</code> é a tabela à esquerda, da qual apenas as linhas correspondentes serão retornadas.</li></ul><ul id="2dae1452-2dbf-4e9a-ab6d-e4abbeab96c3" class="bulleted-list"><li style="list-style-type:disc"><code>table2</code> é a tabela à direita, da qual todas as linhas serão retornadas.</li></ul><ul id="da0ed84c-442a-4892-a07c-f8f06eb1588a" class="bulleted-list"><li style="list-style-type:disc"><code>table1.column_name = table2.column_name</code> é a condição que relaciona as duas tabelas.</li></ul><p id="ef2ba121-27c6-4af1-a691-968f6ec12dcc" class=""><strong>Exemplo Prático:</strong></p><p id="35f199b3-af2c-4046-b7bb-37ba6f1412a0" class="">Vamos considerar duas tabelas: <code>Funcionarios</code> e <code>Departamentos</code>. A tabela <code>Funcionarios</code> tem uma coluna <code>DepartamentoID</code>, e a tabela <code>Departamentos</code> tem uma coluna <code>ID</code>. Para listar todos os departamentos e os nomes dos funcionários associados a eles, incluindo departamentos sem funcionários, você usaria:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9b54baa9-552c-4ae7-ba18-6ddbaca0db5d" class="code code-wrap"><code class="language-SQL">SELECT Departamentos.NomeDepartamento, Funcionarios.Nome
FROM Funcionarios
RIGHT JOIN Departamentos
ON Funcionarios.DepartamentoID = Departamentos.ID;
</code></pre><p id="a4636e37-4557-4fa2-a55a-87ac13d16441" class="">Neste exemplo, a consulta retornará os nomes de todos os departamentos. Se um departamento não tiver funcionários associados, o campo <code>Nome</code> dos <code>Funcionarios</code> será <code>NULL</code>. Isso ajuda a identificar quais departamentos não têm funcionários alocados.</p><p id="c86d4cd0-3928-4888-9a02-57a80cb7e351" class="">Podemos usar os alias aqui também, e quantos right joins precisar, além de fazer combinações</p><p id="9294d9c2-bd53-4bb3-9b3d-38ef97f69fa7" class="">FULL OUTER  JOIN</p><p id="96e8472e-09f1-42a5-9e08-fde1aa9094e5" class="">O <code>FULL OUTER JOIN</code> em SQL é usado para combinar linhas de duas tabelas de tal forma que todas as linhas de ambas as tabelas sejam incluídas no conjunto de resultados. Se houver correspondência entre as linhas em ambas as tabelas (com base na condição de junção), essas linhas serão exibidas juntas. Se não houver correspondência, a consulta preencherá os espaços correspondentes com valores NULL.</p><p id="1a26cdb4-60c2-4a81-b759-7e656e23935e" class="">Aqui está a estrutura básica de uma consulta SQL com <code>FULL OUTER JOIN</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="db07bb7d-fafb-4f0a-8be9-08bd4f1a9569" class="code code-wrap"><code class="language-SQL">SELECT column_name(s)
FROM table1
FULL OUTER JOIN table2
ON table1.column_name = table2.column_name;
</code></pre><ul id="e292a3d0-71b0-41ea-9780-7d0ccc26adc0" class="bulleted-list"><li style="list-style-type:disc"><code>column_name(s)</code> são as colunas que você deseja selecionar.</li></ul><ul id="c768278c-9aeb-45f1-ac26-b44ab0c2c5ea" class="bulleted-list"><li style="list-style-type:disc"><code>table1</code> e <code>table2</code> são as tabelas que você está unindo.</li></ul><ul id="176f3853-e681-4306-aa76-b86f6ad8d927" class="bulleted-list"><li style="list-style-type:disc"><code>table1.column_name = table2.column_name</code> é a condição que relaciona as duas tabelas.</li></ul><p id="dd7764a3-c52b-42fa-8dbd-ba73c2ae0b1d" class=""><strong>Exemplo Prático:</strong></p><p id="de515158-37cc-4497-8f60-385ccd1ac206" class="">Considerando duas tabelas, <code>Funcionarios</code> e <code>Departamentos</code>, onde <code>Funcionarios</code> tem uma coluna <code>DepartamentoID</code>, e <code>Departamentos</code> tem uma coluna <code>ID</code>. Para listar todos os funcionários e todos os departamentos, incluindo aqueles funcionários sem departamentos associados e departamentos sem funcionários, você faria:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2bee6a59-3980-49c2-8829-47802fabcb2c" class="code code-wrap"><code class="language-SQL">SELECT Funcionarios.Nome, Departamentos.NomeDepartamento
FROM Funcionarios
FULL OUTER JOIN Departamentos
ON Funcionarios.DepartamentoID = Departamentos.ID;
</code></pre><p id="a184cba5-e862-41e1-87a2-18f3f186470f" class="">Neste exemplo, a consulta retornará todos os funcionários e todos os departamentos. Se um funcionário não estiver associado a um departamento, o <code>NomeDepartamento</code> será <code>NULL</code>, e se um departamento não tiver funcionários, o <code>Nome</code> dos funcionários será <code>NULL</code>. Este tipo de JOIN é útil para análises completas de correspondências e não correspondências entre duas tabelas.</p></details></li></ul><ul id="a067f909-73f8-41ce-a52e-8959caedd4b6" class="toggle"><li><details open=""><summary>Union</summary><p id="7ce7fd3f-3de0-4a81-9736-b6904691db17" class="">O <code>UNION</code> em SQL é usado para combinar os resultados de duas ou mais consultas <code>SELECT</code> em um único conjunto de resultados, incluindo todas as linhas correspondentes de todas as consultas. O <code>UNION</code> remove automaticamente linhas duplicadas. As regras básicas para usar <code>UNION</code> são:</p><ul id="a16b6ae3-76e0-4fa1-8796-d53c0e2806f0" class="bulleted-list"><li style="list-style-type:disc">Cada consulta <code>SELECT</code> dentro do <code>UNION</code> deve ter o mesmo número de colunas.</li></ul><ul id="71c2abef-4764-4d39-8f3f-057a9dec56d8" class="bulleted-list"><li style="list-style-type:disc">As colunas também devem ter tipos de dados similares.</li></ul><ul id="324ff46b-cc4d-4311-a972-ec7371173272" class="bulleted-list"><li style="list-style-type:disc">As colunas em cada consulta <code>SELECT</code> devem também estar na mesma ordem.</li></ul><p id="1f627727-6349-46cd-9145-c7adddaccac8" class="">A sintaxe básica é:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="42a4a316-7fe2-48e6-acd2-2c9a3a4959b4" class="code code-wrap"><code class="language-SQL">SELECT column_name(s) FROM table1
UNION
SELECT column_name(s) FROM table2;
</code></pre><p id="457b4e3a-16a5-4cee-a114-58eb40f72650" class=""><strong>Exemplo Prático:</strong></p><p id="40406257-47ad-408d-adfd-332a9e1dfd84" class="">Suponha que você tenha duas tabelas, <code>ProdutosA</code> e <code>ProdutosB</code>, ambas com colunas para <code>ID</code> e <code>NomeProduto</code>. Se você deseja listar todos os produtos únicos de ambas as tabelas, você pode fazer:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ab75338f-acaa-49ec-b9fa-0297b3860397" class="code code-wrap"><code class="language-SQL">SELECT ID, NomeProduto FROM ProdutosA
UNION
SELECT ID, NomeProduto FROM ProdutosB;
</code></pre><p id="65a2e239-4f9b-49c4-adfa-1eca61d5ec37" class="">Este comando listará todos os IDs e nomes de produtos de ambas as tabelas, excluindo duplicatas.</p><p id="dfe9171f-1fec-4933-8064-307c854f76a4" class="">Se você desejar incluir todas as duplicatas, você pode usar <code>UNION ALL</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6faf48fe-430f-41f7-b472-3c6f1345e607" class="code code-wrap"><code class="language-SQL">SELECT ID, NomeProduto FROM ProdutosA
UNION ALL
SELECT ID, NomeProduto FROM ProdutosB;
</code></pre><p id="ac65d020-9c86-4ce3-a979-c79159ec86da" class=""><code>UNION ALL</code> incluirá todas as linhas de ambas as consultas <code>SELECT</code>, incluindo duplicatas. É mais rápido que <code>UNION</code>, pois não precisa verificar duplicatas.</p><p id="ed69048c-50aa-4c22-a320-ca97d050be20" class="">Ressaltando novamente que é necessário ter a mesma quantidade de colunas e que elas sejam do mesmo tipo para poder unir.</p></details></li></ul><ul id="33b14a67-2dd6-440a-b079-824bd6ce83ea" class="toggle"><li><details open=""><summary>Group By</summary><p id="e3cb262a-3db2-41ce-9948-24dc330d6094" class="">A cláusula <code>GROUP BY</code> no SQL Server é utilizada para agrupar linhas que possuem os mesmos valores em colunas especificadas em linhas de resumo, como &quot;count&quot;, &quot;sum&quot;, &quot;max&quot;, &quot;min&quot;, etc. Ela é frequentemente usada com funções de agregação (COUNT, MAX, MIN, SUM, AVG) para agrupar o conjunto de resultados por uma ou mais colunas.</p><p id="4694af03-43a9-40e1-ad0a-690e6118b986" class="">Aqui está um exemplo em Português (pt-br):</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c1aa83ef-c5d1-4329-814d-61c015d5248f" class="code code-wrap"><code class="language-SQL">SELECT coluna1, COUNT(coluna2)
FROM tabela
GROUP BY coluna1;
</code></pre><p id="a15095fc-9da1-468b-b943-95e7be1d2f60" class="">Neste exemplo:</p><ul id="ff203498-d4ba-448d-8a4b-a4a814988b8b" class="bulleted-list"><li style="list-style-type:disc"><code>SELECT coluna1, COUNT(coluna2)</code>: Estamos selecionando a <code>coluna1</code> e o número total de registros (<code>COUNT</code>) para <code>coluna2</code>.</li></ul><ul id="e0d3ffee-80dd-47e9-839e-743c8d272260" class="bulleted-list"><li style="list-style-type:disc"><code>FROM tabela</code>: O nome da tabela de onde os dados são selecionados.</li></ul><ul id="f2443e3e-685a-4f70-85f5-0f105948c5e1" class="bulleted-list"><li style="list-style-type:disc"><code>GROUP BY coluna1</code>: Estamos agrupando os resultados pela <code>coluna1</code>.</li></ul><p id="c9fa57f3-7930-49a3-9ace-b2d409ed9834" class="">Isso significa que o resultado vai mostrar cada valor distinto de <code>coluna1</code> na tabela, juntamente com a contagem de quantas vezes cada um desses valores ocorre em relação à <code>coluna2</code>.</p><p id="92bb5997-44d5-4977-a3cf-9fabfd51b2dc" class="">Toda vez que adicionarmos campos as mais precisamos colocar um group by, para poder agrupar em cada linha, isso também para outras funções como SUM, AVG e outros.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="15d71494-e768-4f4b-ba02-219dd1107246" class="code"><code class="language-SQL">SELECT 
    [Curso].[Nome], 
    [Categoria].[Nome], 
    COUNT([Curso].[Id]) as &#x27;Quantidade&#x27;
FROM [Curso]
INNER JOIN [Categoria] ON [Curso].[CategoriaId] = [Categoria].[Id]
GROUP BY [Curso].[Nome], [Categoria].[Nome]</code></pre><p id="29c5d8ee-fd9a-4b1a-92a8-796100cd30ce" class="">Dessa forma podemos ter a quantidade de elementos por cada linha</p></details></li></ul><ul id="344e56a6-35e1-46e7-ac4c-3cf249f1d86e" class="toggle"><li><details open=""><summary>Having</summary><p id="a6ef5ed9-7623-47c5-b76b-426cd09b5caf" class="">A cláusula <code>HAVING</code> no SQL Server é usada para filtrar grupos de dados retornados pela cláusula <code>GROUP BY</code>. Diferente da cláusula <code>WHERE</code>, que filtra linhas antes da agregação, <code>HAVING</code> filtra grupos de dados depois que a agregação é aplicada.</p><p id="f407dc89-daab-489e-9439-dfb8cf653d62" class="">Um exemplo de uso da cláusula <code>HAVING</code> em uma consulta SQL seria:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a387b2f4-4d76-434a-aa33-ba90ae934bf9" class="code code-wrap"><code class="language-SQL">SELECT coluna1, COUNT(coluna2)
FROM tabela
GROUP BY coluna1
HAVING COUNT(coluna2) &gt; 5;
</code></pre><p id="19d30fe5-3d96-45f4-a4ba-252f52b6f0b3" class="">Neste exemplo:</p><ul id="ea00086a-94ef-448f-8df8-70173a5e8485" class="bulleted-list"><li style="list-style-type:disc"><code>SELECT coluna1, COUNT(coluna2)</code>: Esta parte da consulta seleciona a <code>coluna1</code> e conta o número de registros para <code>coluna2</code>.</li></ul><ul id="896ced6c-20c8-4db0-99bc-2c651a485bd1" class="bulleted-list"><li style="list-style-type:disc"><code>FROM tabela</code>: Especifica a tabela de onde os dados são selecionados.</li></ul><ul id="149e3377-21ac-49b5-8945-63765ee8fce9" class="bulleted-list"><li style="list-style-type:disc"><code>GROUP BY coluna1</code>: Os dados são agrupados com base nos valores da <code>coluna1</code>.</li></ul><ul id="b47d7235-d3c7-474a-b765-393f08861108" class="bulleted-list"><li style="list-style-type:disc"><code>HAVING COUNT(coluna2) &gt; 5</code>: Esta cláusula filtra os grupos criados pelo <code>GROUP BY</code>, mantendo apenas aqueles onde o número de registros para <code>coluna2</code> é maior que 5.</li></ul><p id="e203a04d-3fc3-4261-87e7-9e796e2459bc" class="">Portanto, esta consulta retorna cada valor distinto da <code>coluna1</code> que aparece mais de 5 vezes em relação à <code>coluna2</code>.</p><p id="64208791-5f59-489f-a72f-f258191930c4" class="">O having precisa ser calculado em cima de valores agrupadores como o count por exemplo</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4bfb2c12-e90b-412b-97d2-df3ce0a398ac" class="code"><code class="language-SQL">SELECT 
    [Curso].[Nome], 
    [Categoria].[Nome], 
    COUNT([Curso].[CategoriaId]) as &#x27;Quantidade&#x27;
FROM [Curso]
INNER JOIN [Categoria] ON [Curso].[CategoriaId] = [Categoria].[Id]
GROUP BY [Curso].[Nome], [Categoria].[Nome] 
HAVING COUNT([Curso].[CategoriaId])  &gt; 1
ORDER BY [Curso].[Nome]</code></pre></details></li></ul><ul id="35d0519d-5591-4cf7-9744-101b88ffa3a6" class="toggle"><li><details open=""><summary>Views</summary><p id="b2a21d50-4af5-47fd-a4d4-ef145793389a" class="">No SQL Server, uma &quot;view&quot; é uma tabela virtual baseada no resultado de uma consulta SQL. As views são úteis para simplificar consultas complexas, ocultar a complexidade dos dados subjacentes, restringir o acesso a certas linhas ou colunas de dados, e fornecer um nível de abstração. Uma vez criada, uma view pode ser usada em consultas SQL como qualquer outra tabela.</p><p id="a5b57f66-afff-47e0-bf1b-83b2513368ee" class="">Aqui está um exemplo básico de como criar e usar uma view em SQL Server:</p><h3 id="a30c3e1e-5cad-4aa6-bda5-5264416fb7a0" class="">Criação de uma View</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="77d637a1-6e78-4d9f-be65-fa4dfc086090" class="code code-wrap"><code class="language-SQL">CREATE VIEW MinhaView AS
SELECT coluna1, coluna2
FROM minhaTabela
WHERE coluna3 &gt; 10;
</code></pre><p id="ded6660c-008b-4be7-8b6e-f5acf9e655fa" class="">Neste exemplo:</p><ul id="5b4337aa-efdd-45d8-b5f0-31c0bb4e0455" class="bulleted-list"><li style="list-style-type:disc"><code>CREATE VIEW MinhaView</code>: Este comando cria uma nova view chamada <code>MinhaView</code>.</li></ul><ul id="d8565183-4a62-4399-8caa-57d572c38b9a" class="bulleted-list"><li style="list-style-type:disc"><code>SELECT coluna1, coluna2</code>: Define quais colunas serão incluídas na view.</li></ul><ul id="ad2debc3-680b-4da6-b9f9-d73c44ecc685" class="bulleted-list"><li style="list-style-type:disc"><code>FROM minhaTabela</code>: Especifica a tabela de origem dos dados.</li></ul><ul id="534f4ff2-c372-4f98-bdd1-38d8d2da17ed" class="bulleted-list"><li style="list-style-type:disc"><code>WHERE coluna3 &gt; 10</code>: Aplica um filtro aos dados incluídos na view.</li></ul><h3 id="0872c3e6-5e39-4e92-b397-24a7ef779c9c" class="">Usando uma View</h3><p id="92ba15ff-1675-4231-a2fc-785889eecf2e" class="">Depois de criar a view, você pode consultar dados dela da mesma forma que faria com uma tabela:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="fd5ce96a-9310-4f2a-9e31-4cb02d316137" class="code code-wrap"><code class="language-SQL">SELECT * FROM MinhaView;
</code></pre><h3 id="7f8f52e6-2316-4519-bced-452075dc72ff" class="">Benefícios das Views</h3><ul id="df35873d-599c-4627-923c-7e0f5ebc460a" class="bulleted-list"><li style="list-style-type:disc"><strong>Segurança</strong>: Restringir o acesso a determinadas colunas ou linhas na tabela original.</li></ul><ul id="8738c568-6cb4-49df-bebc-e2337b498a49" class="bulleted-list"><li style="list-style-type:disc"><strong>Simplicidade</strong>: Facilitar consultas complexas, permitindo que os usuários finais não precisem lidar com a complexidade dos joins e outras operações SQL.</li></ul><ul id="34b9feb0-6f5f-4634-b7f1-a3c612f7645a" class="bulleted-list"><li style="list-style-type:disc"><strong>Abstração</strong>: Ocultar a estrutura real do banco de dados para os usuários, mostrando apenas dados relevantes.</li></ul><h3 id="e63996e7-479d-423b-9cbf-93f32b0a7e61" class="">Considerações</h3><ul id="b185b94e-6bb5-46e6-b06e-0b1a4085dad3" class="bulleted-list"><li style="list-style-type:disc">Views não armazenam dados fisicamente (são tabelas virtuais), e os dados são obtidos da tabela original.</li></ul><ul id="0327a51b-bd48-4fa4-9768-bbf7810acd2a" class="bulleted-list"><li style="list-style-type:disc">Alterações feitas na tabela original refletem na view, a menos que a estrutura da tabela mude de uma forma que afete a view (como a remoção de uma coluna usada na view).</li></ul><ul id="ebe3e8ee-7e72-418d-8ce0-7ccabc14af56" class="bulleted-list"><li style="list-style-type:disc">Podemos usar uma forma melhor para criação que a create ou alter<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6f84a0d5-cbde-46bd-befd-520626f8a15e" class="code"><code class="language-SQL">CREATE OR ALTER VIEW NomeView AS
    SELECT * FROM [Curso]


-- Executando uma select na view
  SELECT * FROM NomeView </code></pre></li></ul><ul id="125c311d-e62b-468d-851c-1ff8284e4519" class="bulleted-list"><li style="list-style-type:disc">Não pode conter order by na view, se resto podemos executar quase qualquer select para a vw, incrusive com where</li></ul></details></li></ul><ul id="2a730aa3-a10d-4403-81cf-fe22cd11d6cd" class="toggle"><li><details open=""><summary>Stored Procedures</summary><p id="98eb9b7a-86b1-40af-a584-10d676073f09" class="">As Stored Procedures no SQL Server são um conjunto de instruções SQL que são armazenadas e compiladas no banco de dados. Elas são usadas para encapsular lógicas complexas, reutilizar código, manter a consistência, e melhorar a segurança e o desempenho das aplicações que interagem com o banco de dados. As Stored Procedures são executadas no servidor de banco de dados, o que pode reduzir o tráfego de rede e melhorar o desempenho.</p><p id="0adb2221-fbf8-4631-9efd-d3dce08b0c93" class="">Podemos criar, selecionar, inserir, update ou deletar, ou mesmo todas juntas caso queira.</p><p id="259ad61b-eccc-43d0-b85e-99035890256d" class="">Dentro do banco e depois na pasta Programmability e depois na stored Procedures é aonde fica armazenado nossas Stored Procedures</p><h3 id="b55f4739-c380-46d6-87f5-32df42c6d7f9" class="">Exemplo de Criação de uma Stored Procedure</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c24be44d-6191-4c3c-adf7-421e19bf54a5" class="code code-wrap"><code class="language-SQL">CREATE PROCEDURE MinhaStoredProcedure
    @param1 INT,
    @param2 VARCHAR(100)
AS
BEGIN
    SELECT * FROM MinhaTabela WHERE coluna1 = @param1 AND coluna2 = @param2;
END;
</code></pre><p id="99cabffd-15b0-47bd-8473-7536fc97f56a" class="">Neste exemplo:</p><ul id="bdb43d29-e1f1-4f01-afd5-412532799270" class="bulleted-list"><li style="list-style-type:disc"><code>CREATE PROCEDURE MinhaStoredProcedure</code>: Cria uma nova Stored Procedure chamada <code>MinhaStoredProcedure</code>.</li></ul><ul id="619a1c5c-85a4-4e7c-bc8e-86699260d686" class="bulleted-list"><li style="list-style-type:disc"><code>@param1 INT, @param2 VARCHAR(100)</code>: Define os parâmetros que a Stored Procedure aceita. Neste caso, um inteiro (<code>@param1</code>) e uma string (<code>@param2</code>).</li></ul><ul id="1ecb49f7-ff7d-42c5-a009-b6908fc76989" class="bulleted-list"><li style="list-style-type:disc"><code>SELECT * FROM MinhaTabela WHERE coluna1 = @param1 AND coluna2 = @param2;</code>: Esta é a lógica SQL que será executada quando a Stored Procedure for chamada. Ela seleciona registros de <code>MinhaTabela</code> onde <code>coluna1</code> é igual a <code>@param1</code> e <code>coluna2</code> é igual a <code>@param2</code>.</li></ul><h3 id="67f95ce0-f28a-4a6f-9008-df87e6c41da4" class="">Executando uma Stored Procedure</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6f17dbb9-493f-451a-a376-ad5eff35bbe1" class="code code-wrap"><code class="language-SQL">EXEC MinhaStoredProcedureSemParametros

EXEC MinhaStoredProcedure 5, &#x27;TextoExemplo&#x27;;
</code></pre><p id="b5f6930a-967b-44f7-8eae-394ef4416b21" class="">Este comando executa a Stored Procedure <code>MinhaStoredProcedure</code> com os valores <code>5</code> para <code>@param1</code> e <code>&#x27;TextoExemplo&#x27;</code> para <code>@param2</code>.</p><p id="6d9d4f05-9880-4727-b4c4-ba86df371a9a" class="">
</p><p id="dbc94a98-e275-4865-b325-13ea7e374aeb" class="">Podemos executar um ALTER também ou mesmo misturados</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="84f563fd-6a63-4b75-aa96-b748208fe93a" class="code"><code class="language-SQL">CREATE PROCEDURE [NomeProcedure] AS
    Select * FROM [Curso]

ALTER PROCEDURE [NomeProcedure] AS
    Select * FROM [Curso]

CREATE OR ALTER PROCEDURE [NomeProcedure] AS
    Select * FROM [Curso]</code></pre><p id="bff5003c-ddaf-4db5-90f8-ce42feda90b9" class="">Para deletar um PROCEDURE usamos o drop</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="24f757b9-8be2-4136-9ed3-43897af7c88f" class="code"><code class="language-SQL">DROP PROCEDURE [NomeProcedure]</code></pre><h3 id="683eb31c-8318-4d1c-844d-e4dbb3538129" class="">Benefícios das Stored Procedures</h3><ul id="14992d4c-1ba1-41f9-99b0-12c04dbce2df" class="bulleted-list"><li style="list-style-type:disc"><strong>Desempenho</strong>: Geralmente mais rápidas, pois são pré-compiladas.</li></ul><ul id="3715b358-f566-46a2-828d-14497236d4d8" class="bulleted-list"><li style="list-style-type:disc"><strong>Segurança</strong>: Reduzem o risco de injeções SQL e permitem controle refinado do acesso a dados.</li></ul><ul id="16fab95b-e2ef-4afb-b202-7c86378e811d" class="bulleted-list"><li style="list-style-type:disc"><strong>Manutenção</strong>: Facilitam a manutenção do código, pois mudanças feitas em uma Stored Procedure refletem automaticamente em todos os aplicativos que a utilizam.</li></ul><ul id="436f9110-6427-4ee5-8987-ceeca0a0b714" class="bulleted-list"><li style="list-style-type:disc"><strong>Reutilização e Consistência</strong>: Promovem a reutilização de código e garantem consistência nas operações de banco de dados.</li></ul><h3 id="8d95ccd6-db55-4701-8f35-5b0a6a4ac51c" class="">Considerações</h3><ul id="35812f79-21c4-425d-98d7-f223302db8e3" class="bulleted-list"><li style="list-style-type:disc">Mudanças em Stored Procedures podem necessitar de atualizações em aplicações que as utilizam.</li></ul><ul id="eb71267f-1aa8-45ed-bf4f-7212b6b61670" class="bulleted-list"><li style="list-style-type:disc">Podem ser menos flexíveis que consultas SQL dinâmicas em alguns cenários.</li></ul><ul id="37883a34-c6c8-4aa5-8285-7b41fc08f972" class="bulleted-list"><li style="list-style-type:disc">Não é interessante usar regras de negócio nas procedures, pois por uma questão de arquitetura e processamento, deixar para o servidor e não o banco.</li></ul></details></li></ul><ul id="fb3b3b03-9fd1-41f5-9275-b378e0e98adb" class="toggle"><li><details open=""><summary>Variáveis</summary><p id="d3960972-a076-4cb1-a802-bab2fe69aaa9" class="">No SQL Server, as variáveis são usadas para armazenar dados temporariamente durante a execução de um script. Elas são particularmente úteis em stored procedures, funções, e blocos de código T-SQL para armazenar valores intermediários, controlar fluxos de execução, e facilitar a manutenção e a legibilidade do código.</p><h3 id="f827f828-229e-4728-8cee-6ff2825458a1" class="">Declaração de Variáveis</h3><p id="2adc4889-f535-460c-9389-0624007060a0" class="">Para declarar uma variável no SQL Server, você utiliza a palavra-chave <code>DECLARE</code>, seguida do nome da variável, seu tipo de dados e, opcionalmente, um valor inicial.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e98efcc6-0ec7-40a9-b1d3-1a85e05aebf2" class="code code-wrap"><code class="language-SQL">DECLARE @MinhaVariavel INT;
</code></pre><p id="f3f27405-a6d8-4556-aecb-8855022d5b7f" class="">Neste exemplo, uma variável chamada <code>@MinhaVariavel</code> do tipo <code>INT</code> (inteiro) é declarada.</p><h3 id="acadf238-4af8-46ad-b0cd-80e651c8f9d6" class="">Atribuição de Valores</h3><p id="a382de5a-6a24-4663-8ae1-7dc25534a492" class="">Para atribuir um valor a uma variável, você pode usar a palavra-chave <code>SET</code> ou a palavra-chave <code>SELECT</code>.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="346cccec-cb64-4182-a8c4-647c9dae1ddd" class="code code-wrap"><code class="language-SQL">SET @MinhaVariavel = 10;
-- ou
SELECT @MinhaVariavel = 10;
</code></pre><h3 id="d51708b4-b3e4-4f59-88bb-8963b03fe1d8" class="">Uso de Variáveis</h3><p id="5ea99523-bec6-4ab2-ad57-98be467da50e" class="">As variáveis podem ser usadas em consultas SQL e em outras operações no SQL Server.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b312d3a8-f010-41cf-872d-cf3f1441da5a" class="code code-wrap"><code class="language-SQL">DECLARE @Nome VARCHAR(50);
SET @Nome = &#x27;João&#x27;;

SELECT * FROM Alunos WHERE NomeAluno = @Nome;
</code></pre><p id="9a27e9af-bd06-4192-8bcc-8c36e671486e" class="">Neste exemplo, a variável <code>@Nome</code> é usada para armazenar um valor temporário que é utilizado na consulta <code>SELECT</code>.</p><p id="e56d064b-b9f9-497d-87b3-9f73f9daa33e" class="">Podemos usar um select para pegar um valor, desde que o select retorne um valor e do mesmo tipo. Também deve está entre os () </p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="422dc144-d37d-4640-aa8a-fca7a427e8bd" class="code"><code class="language-undefined">DECLARE @CategoryId INT
SET @CategoryId = (SELECT TOP 1 [Id] FROM [Categoria] WHERE [Nome] = &#x27;backend&#x27;)

Select @CategoryId</code></pre><h3 id="f73b5fd4-7441-472b-bbe2-65b7097b752c" class="">Variáveis em Stored Procedures</h3><p id="b5c88463-4c0f-4405-9297-20ff1a26df60" class="">Variáveis são frequentemente usadas em stored procedures para armazenar valores de parâmetros ou resultados intermediários.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8b6aecf7-6fe2-4a0d-a95e-080ba0512acb" class="code code-wrap"><code class="language-SQL">CREATE PROCEDURE CalculaMedia
    @Nota1 FLOAT,
    @Nota2 FLOAT,
    @Media OUTPUT
AS
BEGIN
    SET @Media = (@Nota1 + @Nota2) / 2;
END;
</code></pre><p id="f73033fd-8383-45d9-b693-72adaa06b8f2" class="">Neste exemplo, a variável <code>@Media</code> é usada para armazenar o valor médio de duas notas.</p><h3 id="87bc205e-a14a-4dee-b09d-3fa1874d5700" class="">Considerações</h3><ul id="c984fc80-6edd-4995-ba9b-c9124e84e1ec" class="bulleted-list"><li style="list-style-type:disc">As variáveis no SQL Server são locais ao script, procedimento ou função em que são declaradas.</li></ul><ul id="95093ef4-56bd-4f63-8484-f93a90137bcc" class="bulleted-list"><li style="list-style-type:disc">O escopo de uma variável está limitado ao bloco de código (como um procedimento armazenado ou função) onde ela foi declarada.</li></ul><ul id="6690a813-bbb0-4acc-af0f-1bf1f6a1bc49" class="bulleted-list"><li style="list-style-type:disc">É uma boa prática inicializar variáveis com um valor padrão para evitar comportamentos inesperados.</li></ul><p id="96baa977-b3a0-42e8-8adb-c1a4e77a6066" class="">As variáveis no SQL Server são uma ferramenta poderosa para desenvolvedores de banco de dados, permitindo a construção de scripts e procedimentos mais dinâmicos, flexíveis e fáceis de manter.</p></details></li></ul></details></li></ul><ul id="4fad2816-4db2-4f18-9c78-a03593d65ac0" class="toggle"><li><details open=""><summary>02 - Mão na massa</summary><ul id="b4c653e6-e459-4187-9f0a-9ad934c44fcd" class="toggle"><li><details open=""><summary>Iniciando o banco</summary><ul id="cc04b60c-6c59-4323-b9c7-cd034f8b5e4b" class="bulleted-list"><li style="list-style-type:disc">Vamos começar criando o banco<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="89abddeb-2116-4c7f-84d0-f618cea57477" class="code"><code class="language-SQL">CREATE DATABASE [balta]</code></pre></li></ul><ul id="a51d38ba-79cd-427a-b253-56721b73450e" class="bulleted-list"><li style="list-style-type:disc">Depois vamos criar uma tabela chamado aluno<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e02bd3bd-14c0-400d-b095-db869b607f8a" class="code"><code class="language-SQL">
CREATE TABLE [Aluno](
    [Id] UNIQUEIDENTIFIER NOT NULL,
    [Name] NVARCHAR(120) NOT NULL,
    [Email] NVARCHAR(120) NOT NULL,
    [Document] NVARCHAR(20) NULL,
    [Phone] NVARCHAR(20) NULL,
    [Birthdate] DATETIME NULL,
    [CreateDate] DATETIME NOT NULL DEFAULT(GETUTCDATE()), 
    CONSTRAINT [PK_Student] PRIMARY KEY ([Id])
)</code></pre></li></ul><ul id="17b26d57-b928-4018-a6ad-0b5613c5a3dd" class="bulleted-list"><li style="list-style-type:disc">De novo aqui temos o UNIQUEIDENTIFIER </li></ul><ul id="c5fafe28-0a09-4941-8a3b-f404dc1b3821" class="toggle"><li><details open=""><summary>UNIQUEIDENTIFIER </summary><p id="5a41ab2c-26ff-47f8-a61b-d5e19231697d" class="">No SQL Server, o tipo de dados <code>UNIQUEIDENTIFIER</code> é usado para armazenar um identificador globalmente único (GUID). Um GUID é um número de 16 bytes (128 bits) que pode ser gerado de forma que seja quase impossível que o mesmo valor seja gerado novamente, tanto no mesmo computador quanto em outros computadores. Isso os torna ideais para identificar de maneira única entidades em uma base de dados ou em diferentes bases de dados.</p><h3 id="6197948a-ef35-4bef-9fcd-c3ceb9f001c5" class="">Características do <code>UNIQUEIDENTIFIER</code></h3><ul id="8ce5a1e7-5341-4905-993a-ee84f47f5915" class="bulleted-list"><li style="list-style-type:disc"><strong>Formato</strong>: Os valores de <code>UNIQUEIDENTIFIER</code> são geralmente representados como uma sequência de 32 caracteres hexadecimais, divididos por hífens em um formato 8-4-4-4-12. Por exemplo: <code>6F9619FF-8B86-D011-B42D-00C04FC964FF</code>.</li></ul><ul id="0dc74760-db87-4d0d-802d-9c5b4346a455" class="bulleted-list"><li style="list-style-type:disc"><strong>Geração</strong>: Os GUIDs podem ser gerados automaticamente pelo SQL Server ou por aplicações. A função <code>NEWID()</code> no SQL Server gera um novo GUID aleatório.</li></ul><ul id="297dfeef-eb98-478b-870e-4fb9c22c8782" class="bulleted-list"><li style="list-style-type:disc"><strong>Uso</strong>: São frequentemente usados como chaves primárias em tabelas, pois garantem a unicidade. Porém, podem levar a uma menor eficiência na ordenação e na indexação devido ao seu tamanho e natureza aleatória.</li></ul><h3 id="b07c1a61-4d89-4997-b484-387e56517216" class="">Exemplo de Uso</h3><p id="f5122df1-7389-4afb-82e8-23c98c2d6dfc" class="">Criando uma tabela com uma coluna <code>UNIQUEIDENTIFIER</code> e inserindo um valor:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="cb69f70a-01ea-42af-89aa-a431ba4594de" class="code code-wrap"><code class="language-SQL">CREATE TABLE MinhaTabela (
    MeuID UNIQUEIDENTIFIER DEFAULT NEWID(),
    Nome NVARCHAR(100)
);

INSERT INTO MinhaTabela (Nome) VALUES (&#x27;João&#x27;);
</code></pre><p id="9e0c5647-9991-4cdd-8146-c405421f18aa" class="">Neste exemplo:</p><ul id="01e85601-eaf9-4fc1-a1ed-72578ff6256a" class="bulleted-list"><li style="list-style-type:disc"><code>MeuID UNIQUEIDENTIFIER DEFAULT NEWID()</code>: Cria uma coluna <code>MeuID</code> do tipo <code>UNIQUEIDENTIFIER</code>, onde o valor padrão é um GUID gerado pela função <code>NEWID()</code>.</li></ul><ul id="3f847fdf-1eaa-4ef6-a566-0ec1df69bfd5" class="bulleted-list"><li style="list-style-type:disc"><code>INSERT INTO MinhaTabela (Nome) VALUES (&#x27;João&#x27;)</code>: Insere um novo registro na tabela. O <code>MeuID</code> será automaticamente preenchido com um GUID único.</li></ul><h3 id="9910708e-a8b9-4640-981e-315b13c6b56b" class="">Considerações</h3><ul id="0fdc1c4c-889c-4d53-b208-fb752946e6e3" class="bulleted-list"><li style="list-style-type:disc"><strong>Desempenho</strong>: Embora os GUIDs sejam únicos e flexíveis, eles podem ter um impacto negativo no desempenho quando usados como chaves primárias, principalmente devido ao seu tamanho (16 bytes) e natureza não sequencial.</li></ul><ul id="d8dc9031-1882-46d7-bb44-ea585479d949" class="bulleted-list"><li style="list-style-type:disc"><strong>Espaço de Armazenamento</strong>: Consumem mais espaço do que um tipo de dados inteiro (como <code>INT</code> ou <code>BIGINT</code>).</li></ul><ul id="eb5be843-2adb-4633-b42b-3ae1c27d971a" class="bulleted-list"><li style="list-style-type:disc"><strong>Uso em Réplicas e Distribuído</strong>: São ideais para cenários onde os dados precisam ser unificados ou replicados entre várias bases de dados ou sistemas, pois reduzem significativamente o risco de colisões de identificadores.</li></ul><ul id="ca744a90-dc8b-4db6-8ba1-48c247ebe463" class="bulleted-list"><li style="list-style-type:disc">Existe uma questão de previsibilidade, pois  imagine uma url que carregue id, se for numérico sequencial, podemos prever os próximos ids. Já o guid é muito difícil de prever qual é o próximo ID.</li></ul><ul id="f16940d1-6646-44c4-a0ad-2b3a1b01618d" class="bulleted-list"><li style="list-style-type:disc">GUID são muitos bom em compatibilidade entre o sql e outras linguagens, facilitando em gerar o id pela linguagem e somente inserir do que gerar pelo sql server</li></ul><p id="8d4c2db5-965c-46e8-9052-9bd6d269a7e8" class="">Em resumo, o <code>UNIQUEIDENTIFIER</code> é uma escolha excelente para garantir unicidade global, mas deve ser usado considerando os trade-offs em desempenho e armazenamento.</p></details></li></ul><ul id="96afcb53-85b2-4955-9fa1-eb58f907af93" class="toggle"><li><details open=""><summary>GETDATE() e GETUTCDATE()</summary><p id="140fb66b-e3d4-433c-8b0d-b5e6dc70a045" class="">No SQL Server, as funções <code>GETDATE()</code> e <code>GETUTCDATE()</code> são usadas para obter a data e a hora atuais, mas há uma diferença importante entre elas:</p><h3 id="c6261ee3-63df-435a-9ad7-25f476e437c2" class="">GETDATE()</h3><ul id="66cc2022-9c54-43c8-81a9-6e375b3d9e64" class="bulleted-list"><li style="list-style-type:disc"><code>GETDATE()</code> retorna a data e hora atual do sistema no fuso horário em que o servidor SQL está operando.</li></ul><ul id="d42a2f4f-a1bd-4bd7-be0b-bab861f0e5a0" class="bulleted-list"><li style="list-style-type:disc">O valor retornado é do tipo <code>datetime</code>.</li></ul><ul id="883bf9fc-ae7d-41ec-b2d8-0622104f3b11" class="bulleted-list"><li style="list-style-type:disc">Esta função é comumente usada para registrar a data e hora de eventos, como a criação ou atualização de registros em uma tabela.</li></ul><p id="ed2563ce-19e5-4e63-b134-19192a5d53ce" class="">Exemplo:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="eeb4e5ae-dfc2-4cd1-a695-812f81d16b72" class="code code-wrap"><code class="language-SQL">SELECT GETDATE() AS DataHoraAtual;
</code></pre><h3 id="a02a29ef-1c2c-4741-9e2e-2a03cca96955" class="">GETUTCDATE()</h3><ul id="89de112c-d736-454a-bd97-5702358b7848" class="bulleted-list"><li style="list-style-type:disc"><code>GETUTCDATE()</code> retorna a data e hora atual no Tempo Universal Coordenado (UTC).</li></ul><ul id="ec53127f-d69a-4e47-b212-39aa00846a73" class="bulleted-list"><li style="list-style-type:disc">Assim como <code>GETDATE()</code>, o valor retornado é do tipo <code>datetime</code>.</li></ul><ul id="4113f08d-323e-4018-905a-122d6a620c4a" class="bulleted-list"><li style="list-style-type:disc">Essa função é útil em aplicações que operam em múltiplos fusos horários ou quando é necessária a padronização de tempo para UTC.</li></ul><p id="ab8a0754-f1ff-48e9-b4b8-01046ebe4a3d" class="">Exemplo:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e606e085-6b8a-4955-80d3-fba2be4d5587" class="code code-wrap"><code class="language-SQL">SELECT GETUTCDATE() AS DataHoraAtualUTC;
</code></pre><h3 id="03a5755d-42f8-4747-84a6-ad24f6ea18fc" class="">Diferenças e Usos</h3><ul id="9e4f6fc8-3f3f-4944-ba11-9a3f0e8971a5" class="bulleted-list"><li style="list-style-type:disc">A principal diferença entre <code>GETDATE()</code> e <code>GETUTCDATE()</code> é o fuso horário. <code>GETDATE()</code> retorna a hora local do servidor, enquanto <code>GETUTCDATE()</code> retorna a hora em UTC.</li></ul><ul id="feb059eb-f3c4-4466-9698-3443275476d0" class="bulleted-list"><li style="list-style-type:disc">A escolha entre estas duas funções depende do contexto de uso. Por exemplo, se você está desenvolvendo uma aplicação global e precisa de um padrão de tempo consistente independentemente do fuso horário do servidor, <code>GETUTCDATE()</code> seria a escolha adequada.</li></ul><ul id="4964e5d6-995b-470d-ba49-de2e71479d65" class="bulleted-list"><li style="list-style-type:disc">Por outro lado, se as operações do banco de dados estão principalmente relacionadas a um fuso horário específico ou se a consistência com a hora local do servidor é importante, <code>GETDATE()</code> seria mais apropriado.</li></ul><p id="d633cff6-2e2d-477b-9f71-9b88013234f7" class="">Ambas as funções são amplamente utilizadas para registrar informações temporais em operações de banco de dados, como logs de transações, timestamps de criação/atualização de registros, etc.</p></details></li></ul></details></li></ul><ul id="1a6a6ef1-53a5-48f8-a739-8cd4b1db6945" class="toggle"><li><details open=""><summary>Criando as tabelas - Parte 01</summary><ul id="584b338b-2318-47e7-aa03-9243bb6e1915" class="bulleted-list"><li style="list-style-type:disc">Vamos criar a segunda tabela<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1ac80e6f-aa7c-41e7-a721-26c822f5fc93" class="code"><code class="language-SQL">CREATE TABLE [Author]
(
    [Id] UNIQUEIDENTIFIER NOT NULL,
    [Name] NVARCHAR(80) NOT NULL,
    [Title]  NVARCHAR(80) NOT NULL,
    [Image] NVARCHAR(1024) NOT NULL,
    [Bio] NVARCHAR(2000) NOT NULL,
    [Url] NVARCHAR(450) NULL,
    [Email] NVARCHAR(160) NOT NULL,
    [Type] TINYINT NOT NULL,
    CONSTRAINT [PK_Author] PRIMARY KEY ([Id])
)</code></pre><ul id="d0d1ac7f-50c0-4ff0-a247-a91d7984bf82" class="bulleted-list"><li style="list-style-type:circle">Nesta tabela a única coisa de interessante seria a coluna type, onde usamos o TINYNIT, que vai de 0 a 255, esse campo no código será um enumerador, não tendo a necessidade de ser o tipo muito grande.<ul id="6914ffad-8d5a-412e-8423-a55cebca29ed" class="toggle"><li><details open=""><summary>O tipo TINYINT</summary><p id="e683f8a9-37ee-4e81-92e6-c0ff4aea2263" class="">Parece que houve um pequeno erro de digitação na sua pergunta. Você provavelmente está se referindo ao tipo de dados <code>TINYINT</code> no SQL Server.</p><h3 id="86bed3d0-9738-4d9a-82d6-aad3fddbb1af" class="">TINYINT</h3><ul id="48155fe1-03de-4cef-955d-637326364636" class="bulleted-list"><li style="list-style-type:disc"><strong>Descrição</strong>: O tipo de dados <code>TINYINT</code> é usado para armazenar números inteiros.</li></ul><ul id="403d6468-e210-4f66-b993-a8db62b9c8e0" class="bulleted-list"><li style="list-style-type:disc"><strong>Faixa de Valores</strong>: Ele pode armazenar valores de 0 a 255.</li></ul><ul id="1540a381-c28c-419b-b814-8ae840c75fb0" class="bulleted-list"><li style="list-style-type:disc"><strong>Armazenamento</strong>: Ocupa 1 byte de armazenamento.</li></ul><ul id="6a9a8e66-0e5f-4d85-981d-7c1c7b76fc19" class="bulleted-list"><li style="list-style-type:disc"><strong>Uso</strong>: É útil para colunas que armazenam valores numéricos pequenos e que não exigem os limites maiores proporcionados por tipos como <code>INT</code> ou <code>BIGINT</code>. Por exemplo, pode ser usado para armazenar uma idade, um contador pequeno, ou outros tipos de dados numéricos que são conhecidos por terem um intervalo limitado.</li></ul><h3 id="397d5cd4-bafe-4c9e-a36d-1bd271422780" class="">Exemplo de Uso</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="88d84dda-9f86-45e5-9c77-eb8808f9309e" class="code code-wrap"><code class="language-SQL">CREATE TABLE ExemploTabela (
    Id TINYINT,
    Nome VARCHAR(50)
);
</code></pre><p id="ac0350db-0c76-4090-b3d5-3cf131b991df" class="">Neste exemplo, a coluna <code>Id</code> é do tipo <code>TINYINT</code>, o que significa que ela pode armazenar valores numéricos de 0 a 255.</p><h3 id="1c98a29c-264c-4fb6-b1d1-6afa51231b19" class="">Considerações</h3><ul id="8161b438-1ab1-4ea3-a124-9cc44fada31d" class="bulleted-list"><li style="list-style-type:disc"><strong>Escolha do Tipo de Dados</strong>: Ao escolher <code>TINYINT</code>, é importante garantir que o intervalo de valores que você planeja armazenar caiba dentro da faixa de 0 a 255. Se houver qualquer possibilidade de o valor exceder 255, seria mais seguro usar um tipo de dados com uma faixa maior, como <code>SMALLINT</code> (que armazena valores de -32,768 a 32,767) ou <code>INT</code>.</li></ul><ul id="0dd3a2c5-2984-43f8-816f-ae7c3ceff6df" class="bulleted-list"><li style="list-style-type:disc"><strong>Otimização de Espaço</strong>: <code>TINYINT</code> é uma boa escolha para otimizar o espaço, especialmente em tabelas grandes, onde cada byte economizado pode fazer diferença.</li></ul></details></li></ul></li></ul></li></ul><ul id="4253211f-a5e0-48ec-b4dc-1dbc11bf6bc7" class="bulleted-list"><li style="list-style-type:disc">Agora vamos criar a tabela Career<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="38f74f7a-70c5-4e0a-a356-c08dc3a59924" class="code"><code class="language-SQL">CREATE TABLE [Career]
(
    [Id] UNIQUEIDENTIFIER NOT NULL,
    [Title]  NVARCHAR(160) NOT NULL,
    [Summary]  NVARCHAR(2000) NOT NULL,
    [Url]  NVARCHAR(1024) NOT NULL,
    [DurationInMinutes] INT NOT NULL,
    [Active] BIT NOT NULL,
    [Featured] BIT NOT NULL,
    [Tags] NVARCHAR(160) NOT NULL,
    CONSTRAINT [PK_Career] PRIMARY KEY ([Id])
)</code></pre><ul id="2f937249-6d3d-43b4-99ae-a7f0dbabb63b" class="bulleted-list"><li style="list-style-type:circle">Aqui uma tabela simples, vemos exemplos de bit e outros tipos.</li></ul></li></ul><ul id="b982d028-397f-4261-8f57-bc79b5439c70" class="bulleted-list"><li style="list-style-type:disc">Agora vamos criar a tabela Category<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c4e4a7a5-e67a-462e-a2b8-d7321226de9c" class="code"><code class="language-SQL">CREATE TABLE [Category]
(
    [Id] UNIQUEIDENTIFIER NOT NULL,
    [Title]  NVARCHAR(160) NOT NULL,
    [Url]  NVARCHAR(1024) NOT NULL,
    [Summary]  NVARCHAR(2000) NOT NULL,
    [Order] INT NOT NULL,
    [Description] TEXT NOT NULL,
    [Featured] BIT NOT NULL,
    CONSTRAINT [PK_Category] PRIMARY KEY ([Id])
)</code></pre><ul id="1d710eab-bd30-4bcf-8e55-e39a99503f20" class="bulleted-list"><li style="list-style-type:circle">Aqui também uma tabela simples, vemos exemplos de bit e outros tipos. Também usamos o TEXT, para texto muito longos<ul id="47e576b5-1e49-4daa-a90a-f3c95488e8fc" class="toggle"><li><details open=""><summary>O Tipo TEXT</summary><p id="f1ebcd9e-45f1-4dfa-8dd7-867cb68eaea8" class="">No SQL Server, o tipo de dados <code>TEXT</code> era usado para armazenar grandes quantidades de texto não-Unicode, permitindo o armazenamento de até 2^31-1 (2.147.483.647) caracteres. Contudo, é importante destacar que, a partir do SQL Server 2005, o uso de <code>TEXT</code> foi descontinuado em favor de tipos de dados mais modernos como <code>VARCHAR(MAX)</code> e <code>NVARCHAR(MAX)</code>.</p><h3 id="24da2cd2-5bcb-4910-8a37-0737ed2fcbcc" class="">Características do Tipo de Dados <code>TEXT</code></h3><ul id="ac2850e6-52fd-4a00-869d-8aa59ef437f5" class="bulleted-list"><li style="list-style-type:disc"><strong>Capacidade</strong>: Podia armazenar uma grande quantidade de texto.</li></ul><ul id="a243aaff-e647-4e84-afb4-76abad1cd1ee" class="bulleted-list"><li style="list-style-type:disc"><strong>Não-Unicode</strong>: Era usado para texto que não necessitava de suporte a Unicode.</li></ul><ul id="4a42f925-2dd6-42f5-8b3c-14fa405bc2ec" class="bulleted-list"><li style="list-style-type:disc"><strong>Descontinuação</strong>: A partir do SQL Server 2005, a Microsoft recomendou a substituição do uso de <code>TEXT</code> por <code>VARCHAR(MAX)</code> ou <code>NVARCHAR(MAX)</code>.</li></ul><h3 id="48dbc827-bd55-4f7b-b9d5-7bea37664d4a" class="">Recomendações Atuais</h3><ul id="e0dbaf5c-74de-43d0-b398-357c7d06b395" class="bulleted-list"><li style="list-style-type:disc"><strong>VARCHAR(MAX)</strong>: Para textos grandes não-Unicode. Pode armazenar até 2^31-1 caracteres.</li></ul><ul id="31d5dae7-3d31-4aef-a02d-54365c66aa4f" class="bulleted-list"><li style="list-style-type:disc"><strong>NVARCHAR(MAX)</strong>: Para textos grandes que requerem suporte a Unicode. Também pode armazenar até 2^31-1 caracteres.</li></ul><h3 id="721a2cf0-970c-4b1c-b15c-dabe83d1dd78" class="">Exemplo de Uso de <code>VARCHAR(MAX)</code> e <code>NVARCHAR(MAX)</code></h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5bb642c3-7afb-475d-b95b-50fb7efe9088" class="code code-wrap"><code class="language-SQL">CREATE TABLE ExemploTabela (
    ColunaTexto VARCHAR(MAX),
    ColunaTextoUnicode NVARCHAR(MAX)
);
</code></pre><h3 id="ddbaae0a-ec50-484c-a727-fc48c0d10efb" class="">Razões para a Mudança</h3><ul id="b9540e71-d6bd-4b65-925f-25a4813defeb" class="bulleted-list"><li style="list-style-type:disc"><strong>Flexibilidade e Performance</strong>: <code>VARCHAR(MAX)</code> e <code>NVARCHAR(MAX)</code> oferecem melhor desempenho e são mais flexíveis em termos de operações de texto, como busca e manipulação de strings.</li></ul><ul id="79281e53-3aab-4f1c-9e40-429972ad34ff" class="bulleted-list"><li style="list-style-type:disc"><strong>Compatibilidade e Manutenção</strong>: As funções e características modernas do SQL Server são otimizadas para trabalhar com <code>VARCHAR(MAX)</code> e <code>NVARCHAR(MAX)</code>.</li></ul><h3 id="41f1dd25-6b64-4fb0-8f26-92072e63d327" class="">Migração</h3><p id="9e77f1e8-b4d1-4dc3-9c67-06f1796844e9" class="">Para bancos de dados que ainda utilizam o tipo <code>TEXT</code>, é recomendado planejar uma migração para <code>VARCHAR(MAX)</code> ou <code>NVARCHAR(MAX)</code>, dependendo da necessidade de suporte a Unicode. Esta migração pode envolver a alteração da definição de tabelas e a atualização de scripts e stored procedures que utilizem esses campos.</p></details></li></ul></li></ul></li></ul><ul id="ed480e89-3519-4f05-a55d-221bc3824436" class="bulleted-list"><li style="list-style-type:disc">Agora vamos criar uma tabela mais complexa a Course<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="073180a8-52e8-4e5e-beec-110c98ee8e36" class="code"><code class="language-SQL">CREATE TABLE [Course]
(
    [Id] UNIQUEIDENTIFIER NOT NULL,
    [Tag] NVARCHAR(160) NOT NULL,
    [Title]  NVARCHAR(160) NOT NULL,
    [Summary]  NVARCHAR(2000) NOT NULL,
    [Url]  NVARCHAR(1024) NOT NULL,
    [Level] TINYINT NOT NULL,
    [DurationInMinutes] INT NOT NULL,
    [CreateDate] DATETIME NOT NULL, 
    [LastUpdateDate] DATETIME NOT NULL,     
    [Active] BIT NOT NULL,
    [Free] BIT NOT NULL,
    [Featured] BIT NOT NULL,
    [AuthorId] UNIQUEIDENTIFIER NOT NULL,
    [CategoryId] UNIQUEIDENTIFIER NOT NULL,
    [Tags] NVARCHAR(160) NOT NULL,
    CONSTRAINT [PK_Course] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Course_Author_AuthorId] FOREIGN KEY ([AuthorId])
        REFERENCES [Author] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Course_Category_CategoryId] FOREIGN KEY ([CategoryId])
        REFERENCES [Category] ([Id]) ON DELETE NO ACTION

)</code></pre><ul id="86126735-ada7-40af-b54f-409b3cce7a1b" class="bulleted-list"><li style="list-style-type:circle">Aqui temos um tabela maior, mas a única coisa nova aqui seria o ON DELETE NO ACTION nas referencias.</li></ul><ul id="50301662-e019-43ce-8cc5-11359f36cb70" class="toggle"><li><details open=""><summary>ON DELETE NO ACTION</summary><p id="23c2b48b-fe82-4d0f-b388-91604ae6afc7" class="">No SQL Server, a cláusula <code>ON DELETE NO ACTION</code> é uma restrição de chave estrangeira que especifica o que acontece quando uma tentativa é feita para deletar uma linha que está referenciada em uma tabela filha. Esta cláusula é parte das opções de integridade referencial do banco de dados.</p><h3 id="a629476c-492c-48b0-9dbc-19972d8fd4ca" class="">Comportamento do <code>ON DELETE NO ACTION</code></h3><ul id="c8615410-dc3b-459e-9aa4-deeb960dffc1" class="bulleted-list"><li style="list-style-type:disc">Quando uma tentativa é feita para deletar uma linha na tabela pai que possui uma referência na tabela filha (ou seja, existe um valor de chave estrangeira correspondente na tabela filha), a ação de deletar é impedida e um erro é gerado.</li></ul><ul id="8631f638-a7ed-4775-a8ca-52ccda1ecee2" class="bulleted-list"><li style="list-style-type:disc">Este comportamento é usado para garantir a integridade dos dados. Ele evita a exclusão de dados na tabela pai que são importantes para as relações representadas na tabela filha.</li></ul><h3 id="aee63715-195f-4fbf-9b3c-ed3d56d29616" class="">Exemplo de Uso</h3><p id="2b45f1ae-b59b-45bc-98fa-8fc4ee823b6b" class="">Suponha que você tenha duas tabelas: <code>TabelaPai</code> e <code>TabelaFilha</code>. A <code>TabelaPai</code> tem uma coluna de chave primária, e a <code>TabelaFilha</code> tem uma coluna de chave estrangeira que referencia a <code>TabelaPai</code>.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a6c502d4-edd6-4f4f-83bd-6b1eceff538c" class="code code-wrap"><code class="language-SQL">-- Criação da tabela pai
CREATE TABLE TabelaPai (
    PaiID INT PRIMARY KEY,
    Nome VARCHAR(50)
);

-- Criação da tabela filha com uma restrição ON DELETE NO ACTION
CREATE TABLE TabelaFilha (
    FilhaID INT PRIMARY KEY,
    PaiID INT,
    Nome VARCHAR(50),
    FOREIGN KEY (PaiID) REFERENCES TabelaPai(PaiID) ON DELETE NO ACTION
);
</code></pre><p id="058c831e-44ae-4083-9261-bd851e6f8c51" class="">Neste exemplo, se você tentar deletar uma linha da <code>TabelaPai</code> que está sendo referenciada na <code>TabelaFilha</code>, o SQL Server não permitirá a ação e retornará um erro.</p><h3 id="154fcbe4-fbb2-4727-ba97-27809e47d660" class="">Considerações</h3><ul id="467cbfb6-63c1-47ff-b78d-a5062d17e73e" class="bulleted-list"><li style="list-style-type:disc"><strong>Integridade de Dados</strong>: <code>ON DELETE NO ACTION</code> é essencial para manter a integridade dos dados em relacionamentos pai-filho.</li></ul><ul id="8c1e8cbf-dd2f-4482-ad6e-b082e27912c0" class="bulleted-list"><li style="list-style-type:disc"><strong>Alternativas</strong>: Outras opções incluem <code>ON DELETE CASCADE</code> (onde deletar uma linha na tabela pai automaticamente deleta as linhas referenciadas na tabela filha) e <code>ON DELETE SET NULL</code> (onde as referências na tabela filha são definidas como NULL após a linha correspondente na tabela pai ser deletada).</li></ul><ul id="d083c0e5-c076-4372-93ea-82de125c5cfc" class="bulleted-list"><li style="list-style-type:disc"><strong>Design de Banco de Dados</strong>: A escolha de qual restrição de chave estrangeira usar depende das regras de negócio e da lógica de integridade de dados do sistema.</li></ul></details></li></ul><ul id="7b319eb8-19c9-41b6-847d-ea01e5984fad" class="toggle"><li><details open=""><summary>ON DELETE CASCADE</summary><p id="766e9944-694a-4935-b869-faaebd784511" class="">A cláusula <code>ON DELETE CASCADE</code> em SQL Server é uma restrição de chave estrangeira que define uma ação de cascata para operações de exclusão. Quando usada, ela automaticamente deleta as linhas da tabela filha que referenciam a linha deletada na tabela pai.</p><h3 id="deee8705-f61f-46d0-a11e-d55b02282872" class="">Comportamento do <code>ON DELETE CASCADE</code></h3><ul id="820d68e1-096f-4b85-92cb-390ec0254bfb" class="bulleted-list"><li style="list-style-type:disc"><strong>Ação Automática</strong>: Se uma linha na tabela pai (a tabela com a chave primária) é deletada, todas as linhas na tabela filha (a tabela com a chave estrangeira) que referenciam a linha deletada também são automaticamente deletadas.</li></ul><ul id="ee09330e-12aa-43e6-8fff-52d98cf65218" class="bulleted-list"><li style="list-style-type:disc"><strong>Integridade Referencial</strong>: Ajuda a manter a integridade referencial ao garantir que não haja referências órfãs. Se uma linha pai é removida, todas as linhas filhas associadas são removidas para evitar inconsistências.</li></ul><h3 id="66492c3a-b6b9-46f5-92a2-bbc204dc23bc" class="">Exemplo de Uso</h3><p id="0817e763-fe05-4f43-a29c-e88f50ba9a0d" class="">Considere duas tabelas: <code>TabelaPai</code> e <code>TabelaFilha</code>. <code>TabelaPai</code> tem uma coluna de chave primária, e <code>TabelaFilha</code> tem uma coluna de chave estrangeira que referencia a <code>TabelaPai</code>.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d1a280a5-8989-4696-9e8f-600943e2d9c8" class="code code-wrap"><code class="language-SQL">-- Criação da tabela pai
CREATE TABLE TabelaPai (
    PaiID INT PRIMARY KEY,
    Nome VARCHAR(50)
);

-- Criação da tabela filha com uma restrição ON DELETE CASCADE
CREATE TABLE TabelaFilha (
    FilhaID INT PRIMARY KEY,
    PaiID INT,
    Nome VARCHAR(50),
    FOREIGN KEY (PaiID) REFERENCES TabelaPai(PaiID) ON DELETE CASCADE
);
</code></pre><p id="38fbd96f-d132-452e-bc5f-d34059d49fea" class="">Neste cenário, se uma linha na <code>TabelaPai</code> for deletada, todas as linhas na <code>TabelaFilha</code> que referenciam aquela linha específica da <code>TabelaPai</code> também serão automaticamente deletadas.</p><h3 id="fd4765a1-f1ae-4fee-8222-87af600aef55" class="">Considerações</h3><ul id="d2ac09a5-0b55-4028-96d3-72cb4cbeafad" class="bulleted-list"><li style="list-style-type:disc"><strong>Uso Cuidadoso</strong>: É importante usar <code>ON DELETE CASCADE</code> com cuidado, pois a exclusão de uma única linha na tabela pai pode resultar na exclusão de muitas linhas na tabela filha, o que pode ser uma operação destrutiva.</li></ul><ul id="8db67a62-c0b3-455b-bb32-6ecd44afb4ce" class="bulleted-list"><li style="list-style-type:disc"><strong>Adequação ao Caso de Uso</strong>: A cláusula é mais adequada para relacionamentos onde a existência de linhas filhas não faz sentido sem a linha pai correspondente.</li></ul><ul id="b7f51898-701b-4c2f-80b2-ad21c29bce51" class="bulleted-list"><li style="list-style-type:disc"><strong>Alternativas</strong>: Outras opções incluem <code>ON DELETE NO ACTION</code> (a exclusão é impedida se houver linhas filhas) e <code>ON DELETE SET NULL</code> (as referências na tabela filha são definidas como NULL após a linha correspondente na tabela pai ser deletada).</li></ul></details></li></ul><ul id="005c2084-0849-4143-a101-131ef0e734aa" class="toggle"><li><details open=""><summary>ON DELETE SET NULL</summary><p id="c16b33c4-930d-4450-8bc4-932df118b125" class="">A cláusula <code>ON DELETE SET NULL</code> em SQL Server é uma restrição de chave estrangeira que define uma ação específica a ser tomada quando uma linha na tabela pai (a tabela com a chave primária referenciada) é deletada. Essa cláusula ajusta as colunas da tabela filha (que contêm chaves estrangeiras) para <code>NULL</code> quando a linha correspondente na tabela pai é removida.</p><h3 id="084c8f75-a7a4-4ff7-ac12-91b16b7551a4" class="">Comportamento do <code>ON DELETE SET NULL</code></h3><ul id="b5379071-6fe4-4688-a871-ad8d1711f983" class="bulleted-list"><li style="list-style-type:disc"><strong>Ajuste para NULL</strong>: Se uma linha na tabela pai é deletada, todas as colunas na tabela filha que referenciam essa linha pai específica são ajustadas para <code>NULL</code>.</li></ul><ul id="eb35a1be-27cd-43d7-9218-adf933b33371" class="bulleted-list"><li style="list-style-type:disc"><strong>Manutenção da Integridade Referencial</strong>: Previne a existência de referências órfãs na tabela filha, garantindo que não haverá referências inválidas para a linha que foi removida na tabela pai.</li></ul><h3 id="3e23a638-9206-46ef-ba34-b4f83366b8ed" class="">Exemplo de Uso</h3><p id="cefe5dde-b6e3-46ac-95bf-080e8fba30d4" class="">Considere duas tabelas: <code>TabelaPai</code> e <code>TabelaFilha</code>. A <code>TabelaPai</code> tem uma coluna de chave primária, e a <code>TabelaFilha</code> tem uma coluna de chave estrangeira que referencia a <code>TabelaPai</code>.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="bf1f71c9-046a-4ad1-9926-96c8667229bb" class="code code-wrap"><code class="language-SQL">-- Criação da tabela pai
CREATE TABLE TabelaPai (
    PaiID INT PRIMARY KEY,
    Nome VARCHAR(50)
);

-- Criação da tabela filha com uma restrição ON DELETE SET NULL
CREATE TABLE TabelaFilha (
    FilhaID INT PRIMARY KEY,
    PaiID INT,
    Nome VARCHAR(50),
    FOREIGN KEY (PaiID) REFERENCES TabelaPai(PaiID) ON DELETE SET NULL
);
</code></pre><p id="7c13dabf-d48f-4bc7-9dc2-51d0293cd94e" class="">Neste cenário, se uma linha na <code>TabelaPai</code> for deletada, a coluna <code>PaiID</code> na <code>TabelaFilha</code> que referenciava essa linha será ajustada para <code>NULL</code>.</p><h3 id="ca162063-825d-4424-af39-96d67cfcaa72" class="">Considerações</h3><ul id="0d55f365-d11b-48cd-9e24-f8781b99037d" class="bulleted-list"><li style="list-style-type:disc"><strong>Campos NULL</strong>: Para que <code>ON DELETE SET NULL</code> funcione, a coluna de chave estrangeira na tabela filha deve permitir valores <code>NULL</code>.</li></ul><ul id="03581ba0-8742-42f9-99a8-49bd7f8b594d" class="bulleted-list"><li style="list-style-type:disc"><strong>Prevenção de Dados Órfãos</strong>: Esta abordagem é útil quando você quer evitar dados órfãos, mas ainda manter os registros existentes na tabela filha, mesmo que a referência à tabela pai seja perdida.</li></ul><ul id="84866673-be81-4bdf-8927-36f7946a8903" class="bulleted-list"><li style="list-style-type:disc"><strong>Adequação ao Caso de Uso</strong>: É importante escolher essa opção se fizer sentido manter as linhas na tabela filha após a exclusão da linha pai, mas sem manter a referência a uma linha pai que não existe mais.</li></ul><ul id="ff8fab92-a542-404d-ab6e-331d4dc804b8" class="bulleted-list"><li style="list-style-type:disc"><strong>Alternativas</strong>: Outras opções de restrições de chave estrangeira incluem <code>ON DELETE CASCADE</code> (deleta as linhas filhas automaticamente) e <code>ON DELETE NO ACTION</code> (impede a exclusão se existirem linhas filhas).</li></ul></details></li></ul></li></ul></details></li></ul><ul id="e80c0d70-259b-4c07-933b-c4deca2a1ce6" class="toggle"><li><details open=""><summary>Criando as tabelas - Parte 02</summary><ul id="833b7021-8f70-4b21-9d9b-7f71e00ce558" class="bulleted-list"><li style="list-style-type:disc">Vamos continuar construindo as tabelas.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="04362785-7ca6-4957-b68c-68d00776af2c" class="code"><code class="language-SQL">CREATE TABLE [CareerItem]
(
    [CareerId] UNIQUEIDENTIFIER NOT NULL,
    [CourseId] UNIQUEIDENTIFIER NOT NULL,
    [Title]  NVARCHAR(160) NOT NULL,
    [Description] TEXT NOT NULL,
    [Order] INT NOT NULL,

    CONSTRAINT [PK_CareerItem] PRIMARY KEY ([CareerId], [CourseId]),
    CONSTRAINT [FK_CareerItem_Career_CareerId] FOREIGN KEY ([CareerId])
        REFERENCES [Career] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_CareerItem_Course_CourseId] FOREIGN KEY ([CourseId])
        REFERENCES [Course] ([Id]) ON DELETE NO ACTION,
)</code></pre><ul id="b81bc4b5-1724-4454-a778-20d05a231c85" class="bulleted-list"><li style="list-style-type:circle">Aqui temos uma tabela com chave composta e algumas referencias </li></ul></li></ul><ul id="a0ab0513-7f29-4716-98da-6a65488d2d30" class="bulleted-list"><li style="list-style-type:disc">Agora vamos criar mais uma tabela StudentCourse<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="42d2f1df-3e4e-454b-bf30-9f4ab5b757fc" class="code"><code class="language-SQL">CREATE TABLE [StudentCourse]
(
    [CareerId] UNIQUEIDENTIFIER NOT NULL,
    [StudentId] UNIQUEIDENTIFIER NOT NULL,
    [Progress] TINYINT NOT NULL,
    [Favorite] BIT NOT NULL,
    [StartDate] DATETIME NOT NULL,     
    [LastUpdateDate] DATETIME NOT NULL DEFAULT(GETDATE()),     

    [Description] TEXT NOT NULL,
    [Order] INT NOT NULL,

    CONSTRAINT [PK_StudentCourse] PRIMARY KEY ([CourseId], [StudentId]),
    CONSTRAINT [FK_StudentCourse_Course_CourseId] FOREIGN KEY ([CareerId])
        REFERENCES [Course] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_StudentCourse_Student_StudentId] FOREIGN KEY ([StudentId])
        REFERENCES [Student] ([Id]) ON DELETE NO ACTION,
)</code></pre></li></ul></details></li></ul><ul id="390ae8e0-8213-4191-b91b-4de3dde499c1" class="toggle"><li><details open=""><summary>Backup e restore</summary><ul id="2747e936-05a9-48e1-8aea-bac3ac429362" class="bulleted-list"><li style="list-style-type:disc">No Azure data studio temos como instalar extensões que nos ajudam a manipular o banco de dados. Vamos instalar o admin pack For Sql server</li></ul><ul id="bf8239d8-dcce-44bc-a90b-ff1195a97237" class="bulleted-list"><li style="list-style-type:disc">Admin Pack for SQL Server é uma coleção de extensões populares de administração de banco de dados para ajudar você a gerenciar o SQL Server.</li></ul><ul id="d3e3c522-44c7-4452-81e7-daafc76f10b7" class="bulleted-list"><li style="list-style-type:disc">Como ela vai aparecer algumas opções a mais no visual studio.<ul id="6dd9a9ca-6146-43f9-abae-e67c888798e9" class="bulleted-list"><li style="list-style-type:circle">Ao clicar com botão direito em cima da basta data base temos a opção data-tier Aplication wirzard.</li></ul><ul id="f93b1503-0647-4c28-8f04-eb1db46e0713" class="bulleted-list"><li style="list-style-type:circle">Depois abre uma janela e a penúltima opção é para restaura um banco no formato .bacpac e a ultima é para exporta o banco no formato .bacpac.</li></ul><ul id="f25e971b-218e-477d-858f-b2fa7c1a1c05" class="bulleted-list"><li style="list-style-type:circle">Vamos restaurar o seguinte banco, na próxima tela escolhemos o arquivo configuramos a conexão e nome do banco. Depois é mostrado algumas informações e confirmamos a importação.<figure id="386bf712-751e-4f91-aa70-6e56199c33b8"><div class="source"><a href="Fundamentos%20do%20SQL%20Server%20com%20C#%20ee96863ffa01461fa68521dfbd9acacc/balta.bacpac">balta.bacpac</a></div></figure></li></ul></li></ul><ul id="85b6b339-4542-4957-a151-5f4e68d3c718" class="bulleted-list"><li style="list-style-type:disc">Para fazer um backup, clicar com botão direito em cima da basta data base temos a opção data-tier Aplication wirzard.</li></ul><ul id="813cb577-8146-4dcd-b774-34278b026283" class="bulleted-list"><li style="list-style-type:disc">E depois colocamos na ultima opção e configuramos o backup e confirmamos e exportamos ele no forma .bacpac.</li></ul></details></li></ul><ul id="282db5c1-8a64-427a-810b-40d90adedd1c" class="toggle"><li><details open=""><summary>Listando os cursos</summary><p id="ba763569-47b6-40dc-b1fa-5fbc95101e61" class="">Dica: Sempre trabalhe com banco locais para testes, sql podem se complexas e gerar muito erros, então é bom gerar os dados e testar localmente.</p><p id="ae2e154d-9799-42a1-be8c-7ddcfb4048a0" class="">Agora vamos executar algumas sql para testar</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="478b6ea9-b206-4e9f-8839-f4ee6b910f23" class="code"><code class="language-SQL">SELECT 
    [Id],
    [Tag],
    [Title],
    [Url],
    [Summary]
FROM
    [Course]
WHERE 
	[Active] = 1
ORDER BY    
    [CreateDate] DESC</code></pre><ul id="54aa2996-99c6-40cd-8017-14c6293d3f09" class="bulleted-list"><li style="list-style-type:disc">Nesse exemplo usamos um order by em um campo que não mencionamos no select, mas isso não tem problema, desde que ele esteja na tabela do from, ou inner join e por ae vai.</li></ul><ul id="4735d414-613c-448b-879b-fb1fb7b5a344" class="bulleted-list"><li style="list-style-type:disc">Agora temos uma sql mais avançada, com inner join com outras tabelas.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c51d8084-0b1b-488e-baaa-9f8336abc228" class="code"><code class="language-SQL">SELECT 
    [Course].[Id],
    [Course].[Tag],
    [Course].[Title],
    [Course].[Url],
    [Course].[Summary],
    [Category].[Title] as Category,
    [Author].[Name] as Author
FROM
    [Course]
INNER JOIN [Category] ON [Course].[CategoryId] = [Category].[Id] 
INNER JOIN [Author] ON [Course].[AuthorId] = [Author].[Id]
WHERE [Active] = 1
ORDER BY    
    [CreateDate] DESC</code></pre><ul id="2d00e2ca-1881-4e0d-b954-17ac19408d8b" class="bulleted-list"><li style="list-style-type:circle">Por padrão coloque o nome da tabela atual e sua chave priemeira no inner join<p id="79a63497-6140-480b-bdbb-e39d28481227" class="">[Course].[CategoryId] = [Category].[Id] </p><p id="a1e550f9-1ef2-4b83-a891-6596a274f356" class="">[Course].[AuthorId] = [Author].[Id]</p></li></ul></li></ul><ul id="34c620ec-0aff-4d64-b76f-0651fed054a6" class="bulleted-list"><li style="list-style-type:disc">Agora vamos criar uma view em cima da select  anterior<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="00f72b70-a9a9-4fec-84d3-e9adf0deadc1" class="code"><code class="language-SQL">CREATE OR ALTER VIEW [vwCourses] AS 
    SELECT 
        [Course].[Id],
        [Course].[Tag],
        [Course].[Title],
        [Course].[Url],
        [Course].[CreateDate],
        [Course].[Summary],
        [Category].[Title] as Category,
        [Author].[Name] as Author
    FROM
        [Course]
    INNER JOIN [Category] ON [Course].[CategoryId] = [Category].[Id] 
    INNER JOIN [Author] ON [Course].[AuthorId] = [Author].[Id]
    WHERE [Active] = 1

SELECT *  FROM [vwCourses] ORDER BY [CreateDate] DESC</code></pre><ul id="ffa13909-4b94-41a6-a498-4f5993542ee2" class="bulleted-list"><li style="list-style-type:circle">Devemos tirar order by, porque a view não funciona com order by.</li></ul><ul id="83bf3668-b5ac-402d-8dde-fa2da1b1acfc" class="bulleted-list"><li style="list-style-type:circle">Depois fizemos o select para puxar os dados</li></ul></li></ul></details></li></ul><ul id="10c7fcd2-2ad7-4110-a74e-2c2a0741f6b3" class="toggle"><li><details open=""><summary>Listando as carreiras</summary><ul id="50ca08e6-d6bc-449f-8ff5-b1893a6e1046" class="bulleted-list"><li style="list-style-type:disc">Agora vamos fazer um select onde queremos as carreiras e a quantidade de cursos de cada carreira. Lembrando que carreira está associada a um item da carreira e esse item está associado a um curso.</li></ul><ul id="05757bda-d443-4c50-98a5-f379d5c1055b" class="bulleted-list"><li style="list-style-type:disc">Temos várias forma s de fazer um count, a primeira delas é essa<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b909a81c-bc97-44d5-88ca-8a6f326ec115" class="code"><code class="language-SQL">SELECT 
    [Id],
    [Title],
    [Url],
    (SELECT COUNT([CareerId]) FROM [CareerItem] WHERE [CareerId] = [Id]) AS [Courses]
FROM    
    [Career]</code></pre></li></ul><ul id="0827bf9d-8e13-47ba-a2fa-044608438518" class="bulleted-list"><li style="list-style-type:disc">Aqui fizemos um subselect dentro do nosso select, fazendo a contagem com bas3e no id de cada linha. Essa não é uma boa forma se puder evitar os subselect por funções mais otimizadas é melhor. Pois custa muito ficar fazendo subselects.</li></ul><ul id="a8eeb18d-f2c6-44c5-9563-c6870d1fc019" class="bulleted-list"><li style="list-style-type:disc">Aqui temos uma outras forma mais otimizada de fazer um count<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2d9f6a1a-d998-448c-b894-c58e9c480103" class="code"><code class="language-SQL">SELECT 
    [Career].[Id],
    [Career].[Title],
    [Career].[Url],
    COUNT([Id]) AS [Courses]
FROM
    [Career]
INNER JOIN [CareerItem] ON  [CareerItem].[CareerId] = [Career].[Id]
GROUP BY
    [Career].[Id],
    [Career].[Title],
    [Career].[Url]</code></pre></li></ul><ul id="909c370f-d340-48c6-a1a6-f58d8a828c84" class="bulleted-list"><li style="list-style-type:disc">Agora vamos criar uma view dela<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e7f6ee79-b02b-4dcc-85fb-f87bc0aa92cf" class="code"><code class="language-SQL">CREATE OR ALTER VIEW vwCareers AS
    SELECT 
        [Career].[Id],
        [Career].[Title],
        [Career].[Url],
        COUNT([Id]) AS [Courses]
    FROM
        [Career]
    INNER JOIN [CareerItem] ON  [CareerItem].[CareerId] = [Career].[Id]
    GROUP BY
        [Career].[Id],
        [Career].[Title],
        [Career].[Url]

SELECT * FROM [vwCareers]</code></pre></li></ul></details></li></ul><ul id="c10cf0ab-0b84-4c25-aefc-c320e83d6442" class="toggle"><li><details open=""><summary>Inserindo o progresso</summary><ul id="a923ebaa-400e-436c-abb7-77dee685dd33" class="bulleted-list"><li style="list-style-type:disc">Agora vamos inserir alguns dados na tabela de student, antes vamos ver algumas dicas</li></ul><ul id="f322f8e7-ac57-4855-9b01-fc8a6cabf536" class="bulleted-list"><li style="list-style-type:disc">Ao usar um insert podemos ocultar as colunas, e inserir os values, mas tem que ser na mesma ordem da tabela. Não é muito recomendável pois pode não ficar muito claro a ordem dos campos e acabamos inserindo errado os dados.</li></ul><ul id="c38ebb0f-a98a-4a2c-9e5c-2f78b14e7447" class="bulleted-list"><li style="list-style-type:disc">Gerando um ID e armazenando em uma variável.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="85150abe-1b58-466d-8081-2472ccc92bbb" class="code"><code class="language-SQL">DECLARE @StudentId UNIQUEIDENTIFIER = (select NEWID())</code></pre></li></ul><ul id="aa5d6488-50a8-4b62-9d37-cd1ec43ce050" class="bulleted-list"><li style="list-style-type:disc">Agora vamos gerar os inserts do student e do StudentCourse<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="157be445-7b1e-47b3-bc38-1f7551ce7d9b" class="code"><code class="language-SQL">INSERT INTO 
    [Student]
    VALUES (
        &#x27;0ba73dac-f4c9-4bc7-84b7-ad1dd42d4c09&#x27;,
        &#x27;Alessandro Carvalho&#x27;,
        &#x27;Ale@gmail.com&#x27;,
        &#x27;14333777999&#x27;,
        &#x27;28999762587&#x27;,
        null,
        GETDATE()
    )

INSERT INTO 
    [StudentCourse]
    VALUES (
        &#x27;5f5a33f8-4ff3-7e10-cc6e-3fa000000000&#x27;,
        &#x27;0ba73dac-f4c9-4bc7-84b7-ad1dd42d4c09&#x27;,
        50,
        0,
        &#x27;2020-01-13 12:05:53&#x27;,
        GETDATE()
    )</code></pre></li></ul><ul id="e4f81d01-79a7-4315-ad5e-5540bf985ecd" class="bulleted-list"><li style="list-style-type:disc">Lembrando que caso não exista as chaves estrangeira ele dar erro.</li></ul></details></li></ul><ul id="da44272b-c55e-41bc-87ee-26e0ce0870c3" class="toggle"><li><details open=""><summary>Visualizando o progresso</summary><ul id="65a7010b-2c8c-4282-944d-8c5ad76e47a3" class="bulleted-list"><li style="list-style-type:disc">Agora vamos unir algumas tabela, colocar um where e ordenar<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="dbdaa1ae-e707-473f-90c2-49e012b279ee" class="code"><code class="language-SQL">DECLARE @StudentId UNIQUEIDENTIFIER = &#x27;0ba73dac-f4c9-4bc7-84b7-ad1dd42d4c09&#x27;


SELECT 
    [Student].[Name] AS [Student],
    [Course].[Title] AS [Course],
    [StudentCourse].[Progress],
    [StudentCourse].[LastUpdateDate]
FROM 
    [StudentCourse]
    INNER JOIN [Student] ON [StudentCourse].StudentId = [Student].[Id]
    INNER JOIN [Course] ON [StudentCourse].CourseId = [Course].[Id]
WHERE [StudentCourse].[StudentId] = @StudentId
    AND [StudentCourse].[Progress] &lt; 100
    AND [StudentCourse].[Progress] &gt; 0
ORDER BY [StudentCourse].[LastUpdateDate] DESC</code></pre></li></ul><ul id="0e6c9154-cbe7-41e1-82ef-7aecc100b19c" class="bulleted-list"><li style="list-style-type:disc">Aqui temos uma declaração de variável para facilitar no nosso select avançado</li></ul></details></li></ul><ul id="94d8d936-8c8d-472b-9e9d-6bc8b41cd2f0" class="toggle"><li><details open=""><summary>Listando cursos e progressos</summary><ul id="af795f3e-2ace-4656-b883-0aba803be358" class="bulleted-list"><li style="list-style-type:disc">Agora vamos fazer uma select para buscar todos os cursos e estudantes e seus progresso<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="41eb443a-da4c-4c70-aa0b-24ece532ffce" class="code"><code class="language-SQL">SELECT 
    [Student].[Name] AS [Student],
    [Course].[Title] As [Course],
    [StudentCourse].[Progress],
    [StudentCourse].[LastUpdateDate]
FROM
    [Course]
    LEFT JOIN [StudentCourse] ON [StudentCourse].[CourseId] = [Course].[Id]
    LEFT JOIN [Student] ON [StudentCourse].[StudentId] = [Student].[Id]</code></pre></li></ul><ul id="89475829-352f-4ec3-bd1a-da778f6d3bf2" class="bulleted-list"><li style="list-style-type:disc">Caso tenha muito alunos e curso vai repetir, mas podemos usar o DISTINCT  ou group by para melhorar a consulta.</li></ul></details></li></ul><ul id="36f450f3-db9e-4e4a-9b26-58b353c581e2" class="toggle"><li><details open=""><summary>Removendo uma conta</summary><ul id="f53ffacb-12fe-4899-89f0-96089c146e86" class="bulleted-list"><li style="list-style-type:disc">Na criação dessa select aqui, não podemos criar uma view por causa da variável.<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6e827dec-9a50-4957-8673-3a9d21e1bf19" class="code"><code class="language-SQL">DECLARE @StudentId UNIQUEIDENTIFIER = &#x27;0ba73dac-f4c9-4bc7-84b7-ad1dd42d4c09&#x27;


SELECT 
    [Student].[Name] AS [Student],
    [Course].[Title] AS [Course],
    [StudentCourse].[Progress],
    [StudentCourse].[LastUpdateDate]
FROM 
    [StudentCourse]
    INNER JOIN [Student] ON [StudentCourse].StudentId = [Student].[Id]
    INNER JOIN [Course] ON [StudentCourse].CourseId = [Course].[Id]
WHERE [StudentCourse].[StudentId] = @StudentId
    AND [StudentCourse].[Progress] &lt; 100
    AND [StudentCourse].[Progress] &gt; 0
ORDER BY [StudentCourse].[LastUpdateDate] DESC</code></pre></li></ul><ul id="f7883dd5-e75d-427b-8f5c-35fb18553116" class="bulleted-list"><li style="list-style-type:disc">Mas podemos criar um procedure<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="51dcc2d5-b74a-4de8-9588-a1a23d5ec2bf" class="code"><code class="language-SQL">CREATE OR ALTER PROCEDURE [spStudentProgress] @StudentId UNIQUEIDENTIFIER AS
    SELECT 
        [Student].[Name] AS [Student],
        [Course].[Title] AS [Course],
        [StudentCourse].[Progress],
        [StudentCourse].[LastUpdateDate]
    FROM 
        [StudentCourse]
        INNER JOIN [Student] ON [StudentCourse].StudentId = [Student].[Id]
        INNER JOIN [Course] ON [StudentCourse].CourseId = [Course].[Id]
    WHERE [StudentCourse].[StudentId] = @StudentId
        AND [StudentCourse].[Progress] &lt; 100
        AND [StudentCourse].[Progress] &gt; 0
    ORDER BY [StudentCourse].[LastUpdateDate] DESC

EXEC spStudentProgress&#x27;0ba73dac-f4c9-4bc7-84b7-ad1dd42d4c09&#x27;</code></pre></li></ul><ul id="3d0e2138-1cef-4469-a984-376d90daa3d4" class="bulleted-list"><li style="list-style-type:disc">Agora vamos tentar deletar a conta do aluno<ul id="926cfd63-956f-4226-ae95-ecfb14f97fa9" class="bulleted-list"><li style="list-style-type:circle">Lembrando que ela está ligada a outras tabelas e vai dar erro se deletar ela direto, precisamos deletar seus filhos primeiro. </li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="cb724f76-d7fc-4719-812e-2173d45156c0" class="code"><code class="language-SQL">BEGIN TRANSACTION
    DELETE FROM 
        [StudentCourse]
    WHERE
        [StudentId] = @StudentId

    DELETE FROM 
        [Student]
    WHERE
        [Id] = @StudentId

COMMIT</code></pre><ul id="7ae47be9-8cfc-41c5-88b4-b9927e831cb2" class="bulleted-list"><li style="list-style-type:circle">Aqui temos os deletes dentro de uma transação, caso a primeira de erro ela volta tudo ao normal.</li></ul><ul id="cb3b2269-5246-48b7-b793-4e2d3a63b936" class="bulleted-list"><li style="list-style-type:circle">Existem outros métodos utilizando com trycatch por exemplo</li></ul></li></ul><ul id="7efefc19-fb27-42e0-a29f-22fc4d7be9ef" class="bulleted-list"><li style="list-style-type:disc">Agora vamos criar um stored procedured<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c0f3ce88-d7d4-4473-968f-213f7c2e0f3d" class="code"><code class="language-SQL">CREATE OR ALTER PROCEDURE [spDeleteStudent] @StudentId UNIQUEIDENTIFIER AS
    BEGIN TRANSACTION
        DELETE FROM 
            [StudentCourse]
        WHERE
            [StudentId] = @StudentId

        DELETE FROM 
            [Student]
        WHERE
            [Id] = @StudentId

    COMMIT

EXEC spDeleteStudent &#x27;0ba73dac-f4c9-4bc7-84b7-ad1dd42d4c09&#x27;</code></pre></li></ul><p id="0ffb9fad-1b25-4faf-8d68-09ef61f09c11" class="">
</p></details></li></ul><ul id="b89c0e3a-6ab0-46f3-bc25-1ea5c7a037e3" class="toggle"><li><details open=""><summary>Conclusão</summary><ul id="2cee2349-39d3-4eff-965d-f592a8c4b64c" class="bulleted-list"><li style="list-style-type:disc">Agradecimentos finais e uma explicação do que teve no curso</li></ul></details></li></ul></details></li></ul><p id="185e51a0-31f6-4c70-a669-9b15ed4c2c89" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>